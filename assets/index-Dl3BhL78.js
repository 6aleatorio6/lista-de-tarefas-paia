const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/Login-JCj2dyc7.js","assets/button-Dw39eacF.js","assets/card-Bd2SFx99.js","assets/_layout-C1i2fXU2.js","assets/github-CSP12cEJ.js","assets/createLucideIcon-CS34WQhw.js","assets/_layout-_2BOPjNP.js","assets/Combination-CADkDtfE.js","assets/index-Btq1YVgC.js","assets/dialog-CSdKgRwY.js","assets/index-BuyNvdqo.js"])))=>i.map(i=>d[i]);
function VA(r,t){for(var n=0;n<t.length;n++){const s=t[n];if(typeof s!="string"&&!Array.isArray(s)){for(const o in s)if(o!=="default"&&!(o in r)){const u=Object.getOwnPropertyDescriptor(s,o);u&&Object.defineProperty(r,o,u.get?u:{enumerable:!0,get:()=>s[o]})}}}return Object.freeze(Object.defineProperty(r,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))s(o);new MutationObserver(o=>{for(const u of o)if(u.type==="childList")for(const f of u.addedNodes)f.tagName==="LINK"&&f.rel==="modulepreload"&&s(f)}).observe(document,{childList:!0,subtree:!0});function n(o){const u={};return o.integrity&&(u.integrity=o.integrity),o.referrerPolicy&&(u.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?u.credentials="include":o.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function s(o){if(o.ep)return;o.ep=!0;const u=n(o);fetch(o.href,u)}})();const PA="modulepreload",xA=function(r){return"/lista-de-tarefas-paia/"+r},B_={},no=function(t,n,s){let o=Promise.resolve();if(n&&n.length>0){let y=function(g){return Promise.all(g.map(E=>Promise.resolve(E).then(A=>({status:"fulfilled",value:A}),A=>({status:"rejected",reason:A}))))};document.getElementsByTagName("link");const f=document.querySelector("meta[property=csp-nonce]"),m=f?.nonce||f?.getAttribute("nonce");o=y(n.map(g=>{if(g=xA(g),g in B_)return;B_[g]=!0;const E=g.endsWith(".css"),A=E?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${g}"]${A}`))return;const R=document.createElement("link");if(R.rel=E?"stylesheet":PA,E||(R.as="script"),R.crossOrigin="",R.href=g,m&&R.setAttribute("nonce",m),document.head.appendChild(R),E)return new Promise((k,F)=>{R.addEventListener("load",k),R.addEventListener("error",()=>F(new Error(`Unable to preload CSS for ${g}`)))})}))}function u(f){const m=new Event("vite:preloadError",{cancelable:!0});if(m.payload=f,window.dispatchEvent(m),!m.defaultPrevented)throw f}return o.then(f=>{for(const m of f||[])m.status==="rejected"&&u(m.reason);return t().catch(u)})};function kA(r){return r&&r.__esModule&&Object.prototype.hasOwnProperty.call(r,"default")?r.default:r}var kd={exports:{}},Tl={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var H_;function LA(){if(H_)return Tl;H_=1;var r=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function n(s,o,u){var f=null;if(u!==void 0&&(f=""+u),o.key!==void 0&&(f=""+o.key),"key"in o){u={};for(var m in o)m!=="key"&&(u[m]=o[m])}else u=o;return o=u.ref,{$$typeof:r,type:s,key:f,ref:o!==void 0?o:null,props:u}}return Tl.Fragment=t,Tl.jsx=n,Tl.jsxs=n,Tl}var q_;function UA(){return q_||(q_=1,kd.exports=LA()),kd.exports}var se=UA(),Ld={exports:{}},bt={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var j_;function zA(){if(j_)return bt;j_=1;var r=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),u=Symbol.for("react.consumer"),f=Symbol.for("react.context"),m=Symbol.for("react.forward_ref"),y=Symbol.for("react.suspense"),g=Symbol.for("react.memo"),E=Symbol.for("react.lazy"),A=Symbol.iterator;function R(D){return D===null||typeof D!="object"?null:(D=A&&D[A]||D["@@iterator"],typeof D=="function"?D:null)}var k={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},F=Object.assign,G={};function q(D,W,at){this.props=D,this.context=W,this.refs=G,this.updater=at||k}q.prototype.isReactComponent={},q.prototype.setState=function(D,W){if(typeof D!="object"&&typeof D!="function"&&D!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,D,W,"setState")},q.prototype.forceUpdate=function(D){this.updater.enqueueForceUpdate(this,D,"forceUpdate")};function et(){}et.prototype=q.prototype;function $(D,W,at){this.props=D,this.context=W,this.refs=G,this.updater=at||k}var it=$.prototype=new et;it.constructor=$,F(it,q.prototype),it.isPureReactComponent=!0;var Tt=Array.isArray,ct={H:null,A:null,T:null,S:null,V:null},Vt=Object.prototype.hasOwnProperty;function M(D,W,at,nt,dt,wt){return at=wt.ref,{$$typeof:r,type:D,key:W,ref:at!==void 0?at:null,props:wt}}function b(D,W){return M(D.type,W,void 0,void 0,void 0,D.props)}function I(D){return typeof D=="object"&&D!==null&&D.$$typeof===r}function N(D){var W={"=":"=0",":":"=2"};return"$"+D.replace(/[=:]/g,function(at){return W[at]})}var V=/\/+/g;function x(D,W){return typeof D=="object"&&D!==null&&D.key!=null?N(""+D.key):W.toString(36)}function C(){}function ke(D){switch(D.status){case"fulfilled":return D.value;case"rejected":throw D.reason;default:switch(typeof D.status=="string"?D.then(C,C):(D.status="pending",D.then(function(W){D.status==="pending"&&(D.status="fulfilled",D.value=W)},function(W){D.status==="pending"&&(D.status="rejected",D.reason=W)})),D.status){case"fulfilled":return D.value;case"rejected":throw D.reason}}throw D}function oe(D,W,at,nt,dt){var wt=typeof D;(wt==="undefined"||wt==="boolean")&&(D=null);var Et=!1;if(D===null)Et=!0;else switch(wt){case"bigint":case"string":case"number":Et=!0;break;case"object":switch(D.$$typeof){case r:case t:Et=!0;break;case E:return Et=D._init,oe(Et(D._payload),W,at,nt,dt)}}if(Et)return dt=dt(D),Et=nt===""?"."+x(D,0):nt,Tt(dt)?(at="",Et!=null&&(at=Et.replace(V,"$&/")+"/"),oe(dt,W,at,"",function(Gn){return Gn})):dt!=null&&(I(dt)&&(dt=b(dt,at+(dt.key==null||D&&D.key===dt.key?"":(""+dt.key).replace(V,"$&/")+"/")+Et)),W.push(dt)),1;Et=0;var De=nt===""?".":nt+":";if(Tt(D))for(var Zt=0;Zt<D.length;Zt++)nt=D[Zt],wt=De+x(nt,Zt),Et+=oe(nt,W,at,wt,dt);else if(Zt=R(D),typeof Zt=="function")for(D=Zt.call(D),Zt=0;!(nt=D.next()).done;)nt=nt.value,wt=De+x(nt,Zt++),Et+=oe(nt,W,at,wt,dt);else if(wt==="object"){if(typeof D.then=="function")return oe(ke(D),W,at,nt,dt);throw W=String(D),Error("Objects are not valid as a React child (found: "+(W==="[object Object]"?"object with keys {"+Object.keys(D).join(", ")+"}":W)+"). If you meant to render a collection of children, use an array instead.")}return Et}function K(D,W,at){if(D==null)return D;var nt=[],dt=0;return oe(D,nt,"","",function(wt){return W.call(at,wt,dt++)}),nt}function st(D){if(D._status===-1){var W=D._result;W=W(),W.then(function(at){(D._status===0||D._status===-1)&&(D._status=1,D._result=at)},function(at){(D._status===0||D._status===-1)&&(D._status=2,D._result=at)}),D._status===-1&&(D._status=0,D._result=W)}if(D._status===1)return D._result.default;throw D._result}var ft=typeof reportError=="function"?reportError:function(D){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var W=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof D=="object"&&D!==null&&typeof D.message=="string"?String(D.message):String(D),error:D});if(!window.dispatchEvent(W))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",D);return}console.error(D)};function zt(){}return bt.Children={map:K,forEach:function(D,W,at){K(D,function(){W.apply(this,arguments)},at)},count:function(D){var W=0;return K(D,function(){W++}),W},toArray:function(D){return K(D,function(W){return W})||[]},only:function(D){if(!I(D))throw Error("React.Children.only expected to receive a single React element child.");return D}},bt.Component=q,bt.Fragment=n,bt.Profiler=o,bt.PureComponent=$,bt.StrictMode=s,bt.Suspense=y,bt.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=ct,bt.__COMPILER_RUNTIME={__proto__:null,c:function(D){return ct.H.useMemoCache(D)}},bt.cache=function(D){return function(){return D.apply(null,arguments)}},bt.cloneElement=function(D,W,at){if(D==null)throw Error("The argument must be a React element, but you passed "+D+".");var nt=F({},D.props),dt=D.key,wt=void 0;if(W!=null)for(Et in W.ref!==void 0&&(wt=void 0),W.key!==void 0&&(dt=""+W.key),W)!Vt.call(W,Et)||Et==="key"||Et==="__self"||Et==="__source"||Et==="ref"&&W.ref===void 0||(nt[Et]=W[Et]);var Et=arguments.length-2;if(Et===1)nt.children=at;else if(1<Et){for(var De=Array(Et),Zt=0;Zt<Et;Zt++)De[Zt]=arguments[Zt+2];nt.children=De}return M(D.type,dt,void 0,void 0,wt,nt)},bt.createContext=function(D){return D={$$typeof:f,_currentValue:D,_currentValue2:D,_threadCount:0,Provider:null,Consumer:null},D.Provider=D,D.Consumer={$$typeof:u,_context:D},D},bt.createElement=function(D,W,at){var nt,dt={},wt=null;if(W!=null)for(nt in W.key!==void 0&&(wt=""+W.key),W)Vt.call(W,nt)&&nt!=="key"&&nt!=="__self"&&nt!=="__source"&&(dt[nt]=W[nt]);var Et=arguments.length-2;if(Et===1)dt.children=at;else if(1<Et){for(var De=Array(Et),Zt=0;Zt<Et;Zt++)De[Zt]=arguments[Zt+2];dt.children=De}if(D&&D.defaultProps)for(nt in Et=D.defaultProps,Et)dt[nt]===void 0&&(dt[nt]=Et[nt]);return M(D,wt,void 0,void 0,null,dt)},bt.createRef=function(){return{current:null}},bt.forwardRef=function(D){return{$$typeof:m,render:D}},bt.isValidElement=I,bt.lazy=function(D){return{$$typeof:E,_payload:{_status:-1,_result:D},_init:st}},bt.memo=function(D,W){return{$$typeof:g,type:D,compare:W===void 0?null:W}},bt.startTransition=function(D){var W=ct.T,at={};ct.T=at;try{var nt=D(),dt=ct.S;dt!==null&&dt(at,nt),typeof nt=="object"&&nt!==null&&typeof nt.then=="function"&&nt.then(zt,ft)}catch(wt){ft(wt)}finally{ct.T=W}},bt.unstable_useCacheRefresh=function(){return ct.H.useCacheRefresh()},bt.use=function(D){return ct.H.use(D)},bt.useActionState=function(D,W,at){return ct.H.useActionState(D,W,at)},bt.useCallback=function(D,W){return ct.H.useCallback(D,W)},bt.useContext=function(D){return ct.H.useContext(D)},bt.useDebugValue=function(){},bt.useDeferredValue=function(D,W){return ct.H.useDeferredValue(D,W)},bt.useEffect=function(D,W,at){var nt=ct.H;if(typeof at=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return nt.useEffect(D,W)},bt.useId=function(){return ct.H.useId()},bt.useImperativeHandle=function(D,W,at){return ct.H.useImperativeHandle(D,W,at)},bt.useInsertionEffect=function(D,W){return ct.H.useInsertionEffect(D,W)},bt.useLayoutEffect=function(D,W){return ct.H.useLayoutEffect(D,W)},bt.useMemo=function(D,W){return ct.H.useMemo(D,W)},bt.useOptimistic=function(D,W){return ct.H.useOptimistic(D,W)},bt.useReducer=function(D,W,at){return ct.H.useReducer(D,W,at)},bt.useRef=function(D){return ct.H.useRef(D)},bt.useState=function(D){return ct.H.useState(D)},bt.useSyncExternalStore=function(D,W,at){return ct.H.useSyncExternalStore(D,W,at)},bt.useTransition=function(){return ct.H.useTransition()},bt.version="19.1.1",bt}var F_;function Dm(){return F_||(F_=1,Ld.exports=zA()),Ld.exports}var Q=Dm();const bl=kA(Q),FO=VA({__proto__:null,default:bl},[Q]);/**
 * react-router v7.8.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var G_="popstate";function BA(r={}){function t(o,u){let{pathname:f="/",search:m="",hash:y=""}=qs(o.location.hash.substring(1));return!f.startsWith("/")&&!f.startsWith(".")&&(f="/"+f),nm("",{pathname:f,search:m,hash:y},u.state&&u.state.usr||null,u.state&&u.state.key||"default")}function n(o,u){let f=o.document.querySelector("base"),m="";if(f&&f.getAttribute("href")){let y=o.location.href,g=y.indexOf("#");m=g===-1?y:y.slice(0,g)}return m+"#"+(typeof u=="string"?u:kl(u))}function s(o,u){Mn(o.pathname.charAt(0)==="/",`relative pathnames are not supported in hash history.push(${JSON.stringify(u)})`)}return qA(t,n,s,r)}function ie(r,t){if(r===!1||r===null||typeof r>"u")throw new Error(t)}function Mn(r,t){if(!r){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function HA(){return Math.random().toString(36).substring(2,10)}function Q_(r,t){return{usr:r.state,key:r.key,idx:t}}function nm(r,t,n=null,s){return{pathname:typeof r=="string"?r:r.pathname,search:"",hash:"",...typeof t=="string"?qs(t):t,state:n,key:t&&t.key||s||HA()}}function kl({pathname:r="/",search:t="",hash:n=""}){return t&&t!=="?"&&(r+=t.charAt(0)==="?"?t:"?"+t),n&&n!=="#"&&(r+=n.charAt(0)==="#"?n:"#"+n),r}function qs(r){let t={};if(r){let n=r.indexOf("#");n>=0&&(t.hash=r.substring(n),r=r.substring(0,n));let s=r.indexOf("?");s>=0&&(t.search=r.substring(s),r=r.substring(0,s)),r&&(t.pathname=r)}return t}function qA(r,t,n,s={}){let{window:o=document.defaultView,v5Compat:u=!1}=s,f=o.history,m="POP",y=null,g=E();g==null&&(g=0,f.replaceState({...f.state,idx:g},""));function E(){return(f.state||{idx:null}).idx}function A(){m="POP";let q=E(),et=q==null?null:q-g;g=q,y&&y({action:m,location:G.location,delta:et})}function R(q,et){m="PUSH";let $=nm(G.location,q,et);n&&n($,q),g=E()+1;let it=Q_($,g),Tt=G.createHref($);try{f.pushState(it,"",Tt)}catch(ct){if(ct instanceof DOMException&&ct.name==="DataCloneError")throw ct;o.location.assign(Tt)}u&&y&&y({action:m,location:G.location,delta:1})}function k(q,et){m="REPLACE";let $=nm(G.location,q,et);n&&n($,q),g=E();let it=Q_($,g),Tt=G.createHref($);f.replaceState(it,"",Tt),u&&y&&y({action:m,location:G.location,delta:0})}function F(q){return jA(q)}let G={get action(){return m},get location(){return r(o,f)},listen(q){if(y)throw new Error("A history only accepts one active listener");return o.addEventListener(G_,A),y=q,()=>{o.removeEventListener(G_,A),y=null}},createHref(q){return t(o,q)},createURL:F,encodeLocation(q){let et=F(q);return{pathname:et.pathname,search:et.search,hash:et.hash}},push:R,replace:k,go(q){return f.go(q)}};return G}function jA(r,t=!1){let n="http://localhost";typeof window<"u"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),ie(n,"No window.location.(origin|href) available to create URL");let s=typeof r=="string"?r:kl(r);return s=s.replace(/ $/,"%20"),!t&&s.startsWith("//")&&(s=n+s),new URL(s,n)}function CE(r,t,n="/"){return FA(r,t,n,!1)}function FA(r,t,n,s){let o=typeof t=="string"?qs(t):t,u=Xi(o.pathname||"/",n);if(u==null)return null;let f=DE(r);GA(f);let m=null;for(let y=0;m==null&&y<f.length;++y){let g=n1(u);m=t1(f[y],g,s)}return m}function DE(r,t=[],n=[],s="",o=!1){let u=(f,m,y=o,g)=>{let E={relativePath:g===void 0?f.path||"":g,caseSensitive:f.caseSensitive===!0,childrenIndex:m,route:f};if(E.relativePath.startsWith("/")){if(!E.relativePath.startsWith(s)&&y)return;ie(E.relativePath.startsWith(s),`Absolute route path "${E.relativePath}" nested under path "${s}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),E.relativePath=E.relativePath.slice(s.length)}let A=Ki([s,E.relativePath]),R=n.concat(E);f.children&&f.children.length>0&&(ie(f.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${A}".`),DE(f.children,t,R,A,y)),!(f.path==null&&!f.index)&&t.push({path:A,score:JA(A,f.index),routesMeta:R})};return r.forEach((f,m)=>{if(f.path===""||!f.path?.includes("?"))u(f,m);else for(let y of OE(f.path))u(f,m,!0,y)}),t}function OE(r){let t=r.split("/");if(t.length===0)return[];let[n,...s]=t,o=n.endsWith("?"),u=n.replace(/\?$/,"");if(s.length===0)return o?[u,""]:[u];let f=OE(s.join("/")),m=[];return m.push(...f.map(y=>y===""?u:[u,y].join("/"))),o&&m.push(...f),m.map(y=>r.startsWith("/")&&y===""?"/":y)}function GA(r){r.sort((t,n)=>t.score!==n.score?n.score-t.score:WA(t.routesMeta.map(s=>s.childrenIndex),n.routesMeta.map(s=>s.childrenIndex)))}var QA=/^:[\w-]+$/,KA=3,YA=2,XA=1,$A=10,ZA=-2,K_=r=>r==="*";function JA(r,t){let n=r.split("/"),s=n.length;return n.some(K_)&&(s+=ZA),t&&(s+=YA),n.filter(o=>!K_(o)).reduce((o,u)=>o+(QA.test(u)?KA:u===""?XA:$A),s)}function WA(r,t){return r.length===t.length&&r.slice(0,-1).every((s,o)=>s===t[o])?r[r.length-1]-t[t.length-1]:0}function t1(r,t,n=!1){let{routesMeta:s}=r,o={},u="/",f=[];for(let m=0;m<s.length;++m){let y=s[m],g=m===s.length-1,E=u==="/"?t:t.slice(u.length)||"/",A=Yc({path:y.relativePath,caseSensitive:y.caseSensitive,end:g},E),R=y.route;if(!A&&g&&n&&!s[s.length-1].route.index&&(A=Yc({path:y.relativePath,caseSensitive:y.caseSensitive,end:!1},E)),!A)return null;Object.assign(o,A.params),f.push({params:o,pathname:Ki([u,A.pathname]),pathnameBase:a1(Ki([u,A.pathnameBase])),route:R}),A.pathnameBase!=="/"&&(u=Ki([u,A.pathnameBase]))}return f}function Yc(r,t){typeof r=="string"&&(r={path:r,caseSensitive:!1,end:!0});let[n,s]=e1(r.path,r.caseSensitive,r.end),o=t.match(n);if(!o)return null;let u=o[0],f=u.replace(/(.)\/+$/,"$1"),m=o.slice(1);return{params:s.reduce((g,{paramName:E,isOptional:A},R)=>{if(E==="*"){let F=m[R]||"";f=u.slice(0,u.length-F.length).replace(/(.)\/+$/,"$1")}const k=m[R];return A&&!k?g[E]=void 0:g[E]=(k||"").replace(/%2F/g,"/"),g},{}),pathname:u,pathnameBase:f,pattern:r}}function e1(r,t=!1,n=!0){Mn(r==="*"||!r.endsWith("*")||r.endsWith("/*"),`Route path "${r}" will be treated as if it were "${r.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${r.replace(/\*$/,"/*")}".`);let s=[],o="^"+r.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(f,m,y)=>(s.push({paramName:m,isOptional:y!=null}),y?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return r.endsWith("*")?(s.push({paramName:"*"}),o+=r==="*"||r==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?o+="\\/*$":r!==""&&r!=="/"&&(o+="(?:(?=\\/|$))"),[new RegExp(o,t?void 0:"i"),s]}function n1(r){try{return r.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return Mn(!1,`The URL path "${r}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${t}).`),r}}function Xi(r,t){if(t==="/")return r;if(!r.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,s=r.charAt(n);return s&&s!=="/"?null:r.slice(n)||"/"}function i1(r,t="/"){let{pathname:n,search:s="",hash:o=""}=typeof r=="string"?qs(r):r;return{pathname:n?n.startsWith("/")?n:r1(n,t):t,search:o1(s),hash:l1(o)}}function r1(r,t){let n=t.replace(/\/+$/,"").split("/");return r.split("/").forEach(o=>{o===".."?n.length>1&&n.pop():o!=="."&&n.push(o)}),n.length>1?n.join("/"):"/"}function Ud(r,t,n,s){return`Cannot include a '${r}' character in a manually specified \`to.${t}\` field [${JSON.stringify(s)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function s1(r){return r.filter((t,n)=>n===0||t.route.path&&t.route.path.length>0)}function Om(r){let t=s1(r);return t.map((n,s)=>s===t.length-1?n.pathname:n.pathnameBase)}function Nm(r,t,n,s=!1){let o;typeof r=="string"?o=qs(r):(o={...r},ie(!o.pathname||!o.pathname.includes("?"),Ud("?","pathname","search",o)),ie(!o.pathname||!o.pathname.includes("#"),Ud("#","pathname","hash",o)),ie(!o.search||!o.search.includes("#"),Ud("#","search","hash",o)));let u=r===""||o.pathname==="",f=u?"/":o.pathname,m;if(f==null)m=n;else{let A=t.length-1;if(!s&&f.startsWith("..")){let R=f.split("/");for(;R[0]==="..";)R.shift(),A-=1;o.pathname=R.join("/")}m=A>=0?t[A]:"/"}let y=i1(o,m),g=f&&f!=="/"&&f.endsWith("/"),E=(u||f===".")&&n.endsWith("/");return!y.pathname.endsWith("/")&&(g||E)&&(y.pathname+="/"),y}var Ki=r=>r.join("/").replace(/\/\/+/g,"/"),a1=r=>r.replace(/\/+$/,"").replace(/^\/*/,"/"),o1=r=>!r||r==="?"?"":r.startsWith("?")?r:"?"+r,l1=r=>!r||r==="#"?"":r.startsWith("#")?r:"#"+r;function u1(r){return r!=null&&typeof r.status=="number"&&typeof r.statusText=="string"&&typeof r.internal=="boolean"&&"data"in r}var NE=["POST","PUT","PATCH","DELETE"];new Set(NE);var c1=["GET",...NE];new Set(c1);var io=Q.createContext(null);io.displayName="DataRouter";var gh=Q.createContext(null);gh.displayName="DataRouterState";Q.createContext(!1);var ME=Q.createContext({isTransitioning:!1});ME.displayName="ViewTransition";var h1=Q.createContext(new Map);h1.displayName="Fetchers";var f1=Q.createContext(null);f1.displayName="Await";var jn=Q.createContext(null);jn.displayName="Navigation";var Ql=Q.createContext(null);Ql.displayName="Location";var Fn=Q.createContext({outlet:null,matches:[],isDataRoute:!1});Fn.displayName="Route";var Mm=Q.createContext(null);Mm.displayName="RouteError";function d1(r,{relative:t}={}){ie(ro(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:s}=Q.useContext(jn),{hash:o,pathname:u,search:f}=Kl(r,{relative:t}),m=u;return n!=="/"&&(m=u==="/"?n:Ki([n,u])),s.createHref({pathname:m,search:f,hash:o})}function ro(){return Q.useContext(Ql)!=null}function Kr(){return ie(ro(),"useLocation() may be used only in the context of a <Router> component."),Q.useContext(Ql).location}var VE="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function PE(r){Q.useContext(jn).static||Q.useLayoutEffect(r)}function xE(){let{isDataRoute:r}=Q.useContext(Fn);return r?C1():m1()}function m1(){ie(ro(),"useNavigate() may be used only in the context of a <Router> component.");let r=Q.useContext(io),{basename:t,navigator:n}=Q.useContext(jn),{matches:s}=Q.useContext(Fn),{pathname:o}=Kr(),u=JSON.stringify(Om(s)),f=Q.useRef(!1);return PE(()=>{f.current=!0}),Q.useCallback((y,g={})=>{if(Mn(f.current,VE),!f.current)return;if(typeof y=="number"){n.go(y);return}let E=Nm(y,JSON.parse(u),o,g.relative==="path");r==null&&t!=="/"&&(E.pathname=E.pathname==="/"?t:Ki([t,E.pathname])),(g.replace?n.replace:n.push)(E,g.state,g)},[t,n,u,o,r])}var p1=Q.createContext(null);function g1(r){let t=Q.useContext(Fn).outlet;return t&&Q.createElement(p1.Provider,{value:r},t)}function Kl(r,{relative:t}={}){let{matches:n}=Q.useContext(Fn),{pathname:s}=Kr(),o=JSON.stringify(Om(n));return Q.useMemo(()=>Nm(r,JSON.parse(o),s,t==="path"),[r,o,s,t])}function y1(r,t){return kE(r,t)}function kE(r,t,n,s,o){ie(ro(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:u}=Q.useContext(jn),{matches:f}=Q.useContext(Fn),m=f[f.length-1],y=m?m.params:{},g=m?m.pathname:"/",E=m?m.pathnameBase:"/",A=m&&m.route;{let $=A&&A.path||"";LE(g,!A||$.endsWith("*")||$.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${g}" (under <Route path="${$}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${$}"> to <Route path="${$==="/"?"*":`${$}/*`}">.`)}let R=Kr(),k;if(t){let $=typeof t=="string"?qs(t):t;ie(E==="/"||$.pathname?.startsWith(E),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${E}" but pathname "${$.pathname}" was given in the \`location\` prop.`),k=$}else k=R;let F=k.pathname||"/",G=F;if(E!=="/"){let $=E.replace(/^\//,"").split("/");G="/"+F.replace(/^\//,"").split("/").slice($.length).join("/")}let q=CE(r,{pathname:G});Mn(A||q!=null,`No routes matched location "${k.pathname}${k.search}${k.hash}" `),Mn(q==null||q[q.length-1].route.element!==void 0||q[q.length-1].route.Component!==void 0||q[q.length-1].route.lazy!==void 0,`Matched leaf route at location "${k.pathname}${k.search}${k.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let et=S1(q&&q.map($=>Object.assign({},$,{params:Object.assign({},y,$.params),pathname:Ki([E,u.encodeLocation?u.encodeLocation($.pathname).pathname:$.pathname]),pathnameBase:$.pathnameBase==="/"?E:Ki([E,u.encodeLocation?u.encodeLocation($.pathnameBase).pathname:$.pathnameBase])})),f,n,s,o);return t&&et?Q.createElement(Ql.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...k},navigationType:"POP"}},et):et}function _1(){let r=I1(),t=u1(r)?`${r.status} ${r.statusText}`:r instanceof Error?r.message:JSON.stringify(r),n=r instanceof Error?r.stack:null,s="rgba(200,200,200, 0.5)",o={padding:"0.5rem",backgroundColor:s},u={padding:"2px 4px",backgroundColor:s},f=null;return console.error("Error handled by React Router default ErrorBoundary:",r),f=Q.createElement(Q.Fragment,null,Q.createElement("p",null,"💿 Hey developer 👋"),Q.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",Q.createElement("code",{style:u},"ErrorBoundary")," or"," ",Q.createElement("code",{style:u},"errorElement")," prop on your route.")),Q.createElement(Q.Fragment,null,Q.createElement("h2",null,"Unexpected Application Error!"),Q.createElement("h3",{style:{fontStyle:"italic"}},t),n?Q.createElement("pre",{style:o},n):null,f)}var v1=Q.createElement(_1,null),E1=class extends Q.Component{constructor(r){super(r),this.state={location:r.location,revalidation:r.revalidation,error:r.error}}static getDerivedStateFromError(r){return{error:r}}static getDerivedStateFromProps(r,t){return t.location!==r.location||t.revalidation!=="idle"&&r.revalidation==="idle"?{error:r.error,location:r.location,revalidation:r.revalidation}:{error:r.error!==void 0?r.error:t.error,location:t.location,revalidation:r.revalidation||t.revalidation}}componentDidCatch(r,t){this.props.unstable_onError?this.props.unstable_onError(r,t):console.error("React Router caught the following error during render",r)}render(){return this.state.error!==void 0?Q.createElement(Fn.Provider,{value:this.props.routeContext},Q.createElement(Mm.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function T1({routeContext:r,match:t,children:n}){let s=Q.useContext(io);return s&&s.static&&s.staticContext&&(t.route.errorElement||t.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=t.route.id),Q.createElement(Fn.Provider,{value:r},n)}function S1(r,t=[],n=null,s=null,o=null){if(r==null){if(!n)return null;if(n.errors)r=n.matches;else if(t.length===0&&!n.initialized&&n.matches.length>0)r=n.matches;else return null}let u=r,f=n?.errors;if(f!=null){let g=u.findIndex(E=>E.route.id&&f?.[E.route.id]!==void 0);ie(g>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(f).join(",")}`),u=u.slice(0,Math.min(u.length,g+1))}let m=!1,y=-1;if(n)for(let g=0;g<u.length;g++){let E=u[g];if((E.route.HydrateFallback||E.route.hydrateFallbackElement)&&(y=g),E.route.id){let{loaderData:A,errors:R}=n,k=E.route.loader&&!A.hasOwnProperty(E.route.id)&&(!R||R[E.route.id]===void 0);if(E.route.lazy||k){m=!0,y>=0?u=u.slice(0,y+1):u=[u[0]];break}}}return u.reduceRight((g,E,A)=>{let R,k=!1,F=null,G=null;n&&(R=f&&E.route.id?f[E.route.id]:void 0,F=E.route.errorElement||v1,m&&(y<0&&A===0?(LE("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),k=!0,G=null):y===A&&(k=!0,G=E.route.hydrateFallbackElement||null)));let q=t.concat(u.slice(0,A+1)),et=()=>{let $;return R?$=F:k?$=G:E.route.Component?$=Q.createElement(E.route.Component,null):E.route.element?$=E.route.element:$=g,Q.createElement(T1,{match:E,routeContext:{outlet:g,matches:q,isDataRoute:n!=null},children:$})};return n&&(E.route.ErrorBoundary||E.route.errorElement||A===0)?Q.createElement(E1,{location:n.location,revalidation:n.revalidation,component:F,error:R,children:et(),routeContext:{outlet:null,matches:q,isDataRoute:!0},unstable_onError:s}):et()},null)}function Vm(r){return`${r} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function A1(r){let t=Q.useContext(io);return ie(t,Vm(r)),t}function b1(r){let t=Q.useContext(gh);return ie(t,Vm(r)),t}function R1(r){let t=Q.useContext(Fn);return ie(t,Vm(r)),t}function Pm(r){let t=R1(r),n=t.matches[t.matches.length-1];return ie(n.route.id,`${r} can only be used on routes that contain a unique "id"`),n.route.id}function w1(){return Pm("useRouteId")}function I1(){let r=Q.useContext(Mm),t=b1("useRouteError"),n=Pm("useRouteError");return r!==void 0?r:t.errors?.[n]}function C1(){let{router:r}=A1("useNavigate"),t=Pm("useNavigate"),n=Q.useRef(!1);return PE(()=>{n.current=!0}),Q.useCallback(async(o,u={})=>{Mn(n.current,VE),n.current&&(typeof o=="number"?r.navigate(o):await r.navigate(o,{fromRouteId:t,...u}))},[r,t])}var Y_={};function LE(r,t,n){!t&&!Y_[r]&&(Y_[r]=!0,Mn(!1,n))}Q.memo(D1);function D1({routes:r,future:t,state:n,unstable_onError:s}){return kE(r,void 0,n,s,t)}function O1({to:r,replace:t,state:n,relative:s}){ie(ro(),"<Navigate> may be used only in the context of a <Router> component.");let{static:o}=Q.useContext(jn);Mn(!o,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:u}=Q.useContext(Fn),{pathname:f}=Kr(),m=xE(),y=Nm(r,Om(u),f,s==="path"),g=JSON.stringify(y);return Q.useEffect(()=>{m(JSON.parse(g),{replace:t,state:n,relative:s})},[m,g,s,t,n]),null}function N1(r){return g1(r.context)}function ji(r){ie(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function M1({basename:r="/",children:t=null,location:n,navigationType:s="POP",navigator:o,static:u=!1}){ie(!ro(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let f=r.replace(/^\/*/,"/"),m=Q.useMemo(()=>({basename:f,navigator:o,static:u,future:{}}),[f,o,u]);typeof n=="string"&&(n=qs(n));let{pathname:y="/",search:g="",hash:E="",state:A=null,key:R="default"}=n,k=Q.useMemo(()=>{let F=Xi(y,f);return F==null?null:{location:{pathname:F,search:g,hash:E,state:A,key:R},navigationType:s}},[f,y,g,E,A,R,s]);return Mn(k!=null,`<Router basename="${f}"> is not able to match the URL "${y}${g}${E}" because it does not start with the basename, so the <Router> won't render anything.`),k==null?null:Q.createElement(jn.Provider,{value:m},Q.createElement(Ql.Provider,{children:t,value:k}))}function V1({children:r,location:t}){return y1(im(r),t)}function im(r,t=[]){let n=[];return Q.Children.forEach(r,(s,o)=>{if(!Q.isValidElement(s))return;let u=[...t,o];if(s.type===Q.Fragment){n.push.apply(n,im(s.props.children,u));return}ie(s.type===ji,`[${typeof s.type=="string"?s.type:s.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),ie(!s.props.index||!s.props.children,"An index route cannot have child routes.");let f={id:s.props.id||u.join("-"),caseSensitive:s.props.caseSensitive,element:s.props.element,Component:s.props.Component,index:s.props.index,path:s.props.path,loader:s.props.loader,action:s.props.action,hydrateFallbackElement:s.props.hydrateFallbackElement,HydrateFallback:s.props.HydrateFallback,errorElement:s.props.errorElement,ErrorBoundary:s.props.ErrorBoundary,hasErrorBoundary:s.props.hasErrorBoundary===!0||s.props.ErrorBoundary!=null||s.props.errorElement!=null,shouldRevalidate:s.props.shouldRevalidate,handle:s.props.handle,lazy:s.props.lazy};s.props.children&&(f.children=im(s.props.children,u)),n.push(f)}),n}var xc="get",kc="application/x-www-form-urlencoded";function yh(r){return r!=null&&typeof r.tagName=="string"}function P1(r){return yh(r)&&r.tagName.toLowerCase()==="button"}function x1(r){return yh(r)&&r.tagName.toLowerCase()==="form"}function k1(r){return yh(r)&&r.tagName.toLowerCase()==="input"}function L1(r){return!!(r.metaKey||r.altKey||r.ctrlKey||r.shiftKey)}function U1(r,t){return r.button===0&&(!t||t==="_self")&&!L1(r)}var Cc=null;function z1(){if(Cc===null)try{new FormData(document.createElement("form"),0),Cc=!1}catch{Cc=!0}return Cc}var B1=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function zd(r){return r!=null&&!B1.has(r)?(Mn(!1,`"${r}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${kc}"`),null):r}function H1(r,t){let n,s,o,u,f;if(x1(r)){let m=r.getAttribute("action");s=m?Xi(m,t):null,n=r.getAttribute("method")||xc,o=zd(r.getAttribute("enctype"))||kc,u=new FormData(r)}else if(P1(r)||k1(r)&&(r.type==="submit"||r.type==="image")){let m=r.form;if(m==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let y=r.getAttribute("formaction")||m.getAttribute("action");if(s=y?Xi(y,t):null,n=r.getAttribute("formmethod")||m.getAttribute("method")||xc,o=zd(r.getAttribute("formenctype"))||zd(m.getAttribute("enctype"))||kc,u=new FormData(m,r),!z1()){let{name:g,type:E,value:A}=r;if(E==="image"){let R=g?`${g}.`:"";u.append(`${R}x`,"0"),u.append(`${R}y`,"0")}else g&&u.append(g,A)}}else{if(yh(r))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=xc,s=null,o=kc,f=r}return u&&o==="text/plain"&&(f=u,u=void 0),{action:s,method:n.toLowerCase(),encType:o,formData:u,body:f}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function xm(r,t){if(r===!1||r===null||typeof r>"u")throw new Error(t)}function q1(r,t,n){let s=typeof r=="string"?new URL(r,typeof window>"u"?"server://singlefetch/":window.location.origin):r;return s.pathname==="/"?s.pathname=`_root.${n}`:t&&Xi(s.pathname,t)==="/"?s.pathname=`${t.replace(/\/$/,"")}/_root.${n}`:s.pathname=`${s.pathname.replace(/\/$/,"")}.${n}`,s}async function j1(r,t){if(r.id in t)return t[r.id];try{let n=await import(r.module);return t[r.id]=n,n}catch(n){return console.error(`Error loading route module \`${r.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function F1(r){return r==null?!1:r.href==null?r.rel==="preload"&&typeof r.imageSrcSet=="string"&&typeof r.imageSizes=="string":typeof r.rel=="string"&&typeof r.href=="string"}async function G1(r,t,n){let s=await Promise.all(r.map(async o=>{let u=t.routes[o.route.id];if(u){let f=await j1(u,n);return f.links?f.links():[]}return[]}));return X1(s.flat(1).filter(F1).filter(o=>o.rel==="stylesheet"||o.rel==="preload").map(o=>o.rel==="stylesheet"?{...o,rel:"prefetch",as:"style"}:{...o,rel:"prefetch"}))}function X_(r,t,n,s,o,u){let f=(y,g)=>n[g]?y.route.id!==n[g].route.id:!0,m=(y,g)=>n[g].pathname!==y.pathname||n[g].route.path?.endsWith("*")&&n[g].params["*"]!==y.params["*"];return u==="assets"?t.filter((y,g)=>f(y,g)||m(y,g)):u==="data"?t.filter((y,g)=>{let E=s.routes[y.route.id];if(!E||!E.hasLoader)return!1;if(f(y,g)||m(y,g))return!0;if(y.route.shouldRevalidate){let A=y.route.shouldRevalidate({currentUrl:new URL(o.pathname+o.search+o.hash,window.origin),currentParams:n[0]?.params||{},nextUrl:new URL(r,window.origin),nextParams:y.params,defaultShouldRevalidate:!0});if(typeof A=="boolean")return A}return!0}):[]}function Q1(r,t,{includeHydrateFallback:n}={}){return K1(r.map(s=>{let o=t.routes[s.route.id];if(!o)return[];let u=[o.module];return o.clientActionModule&&(u=u.concat(o.clientActionModule)),o.clientLoaderModule&&(u=u.concat(o.clientLoaderModule)),n&&o.hydrateFallbackModule&&(u=u.concat(o.hydrateFallbackModule)),o.imports&&(u=u.concat(o.imports)),u}).flat(1))}function K1(r){return[...new Set(r)]}function Y1(r){let t={},n=Object.keys(r).sort();for(let s of n)t[s]=r[s];return t}function X1(r,t){let n=new Set;return new Set(t),r.reduce((s,o)=>{let u=JSON.stringify(Y1(o));return n.has(u)||(n.add(u),s.push({key:u,link:o})),s},[])}function UE(){let r=Q.useContext(io);return xm(r,"You must render this element inside a <DataRouterContext.Provider> element"),r}function $1(){let r=Q.useContext(gh);return xm(r,"You must render this element inside a <DataRouterStateContext.Provider> element"),r}var km=Q.createContext(void 0);km.displayName="FrameworkContext";function zE(){let r=Q.useContext(km);return xm(r,"You must render this element inside a <HydratedRouter> element"),r}function Z1(r,t){let n=Q.useContext(km),[s,o]=Q.useState(!1),[u,f]=Q.useState(!1),{onFocus:m,onBlur:y,onMouseEnter:g,onMouseLeave:E,onTouchStart:A}=t,R=Q.useRef(null);Q.useEffect(()=>{if(r==="render"&&f(!0),r==="viewport"){let G=et=>{et.forEach($=>{f($.isIntersecting)})},q=new IntersectionObserver(G,{threshold:.5});return R.current&&q.observe(R.current),()=>{q.disconnect()}}},[r]),Q.useEffect(()=>{if(s){let G=setTimeout(()=>{f(!0)},100);return()=>{clearTimeout(G)}}},[s]);let k=()=>{o(!0)},F=()=>{o(!1),f(!1)};return n?r!=="intent"?[u,R,{}]:[u,R,{onFocus:Sl(m,k),onBlur:Sl(y,F),onMouseEnter:Sl(g,k),onMouseLeave:Sl(E,F),onTouchStart:Sl(A,k)}]:[!1,R,{}]}function Sl(r,t){return n=>{r&&r(n),n.defaultPrevented||t(n)}}function J1({page:r,...t}){let{router:n}=UE(),s=Q.useMemo(()=>CE(n.routes,r,n.basename),[n.routes,r,n.basename]);return s?Q.createElement(tb,{page:r,matches:s,...t}):null}function W1(r){let{manifest:t,routeModules:n}=zE(),[s,o]=Q.useState([]);return Q.useEffect(()=>{let u=!1;return G1(r,t,n).then(f=>{u||o(f)}),()=>{u=!0}},[r,t,n]),s}function tb({page:r,matches:t,...n}){let s=Kr(),{manifest:o,routeModules:u}=zE(),{basename:f}=UE(),{loaderData:m,matches:y}=$1(),g=Q.useMemo(()=>X_(r,t,y,o,s,"data"),[r,t,y,o,s]),E=Q.useMemo(()=>X_(r,t,y,o,s,"assets"),[r,t,y,o,s]),A=Q.useMemo(()=>{if(r===s.pathname+s.search+s.hash)return[];let F=new Set,G=!1;if(t.forEach(et=>{let $=o.routes[et.route.id];!$||!$.hasLoader||(!g.some(it=>it.route.id===et.route.id)&&et.route.id in m&&u[et.route.id]?.shouldRevalidate||$.hasClientLoader?G=!0:F.add(et.route.id))}),F.size===0)return[];let q=q1(r,f,"data");return G&&F.size>0&&q.searchParams.set("_routes",t.filter(et=>F.has(et.route.id)).map(et=>et.route.id).join(",")),[q.pathname+q.search]},[f,m,s,o,g,t,r,u]),R=Q.useMemo(()=>Q1(E,o),[E,o]),k=W1(E);return Q.createElement(Q.Fragment,null,A.map(F=>Q.createElement("link",{key:F,rel:"prefetch",as:"fetch",href:F,...n})),R.map(F=>Q.createElement("link",{key:F,rel:"modulepreload",href:F,...n})),k.map(({key:F,link:G})=>Q.createElement("link",{key:F,nonce:n.nonce,...G})))}function eb(...r){return t=>{r.forEach(n=>{typeof n=="function"?n(t):n!=null&&(n.current=t)})}}var BE=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{BE&&(window.__reactRouterVersion="7.8.2")}catch{}function nb({basename:r,children:t,window:n}){let s=Q.useRef();s.current==null&&(s.current=BA({window:n,v5Compat:!0}));let o=s.current,[u,f]=Q.useState({action:o.action,location:o.location}),m=Q.useCallback(y=>{Q.startTransition(()=>f(y))},[f]);return Q.useLayoutEffect(()=>o.listen(m),[o,m]),Q.createElement(M1,{basename:r,children:t,location:u.location,navigationType:u.action,navigator:o})}var HE=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,qE=Q.forwardRef(function({onClick:t,discover:n="render",prefetch:s="none",relative:o,reloadDocument:u,replace:f,state:m,target:y,to:g,preventScrollReset:E,viewTransition:A,...R},k){let{basename:F}=Q.useContext(jn),G=typeof g=="string"&&HE.test(g),q,et=!1;if(typeof g=="string"&&G&&(q=g,BE))try{let I=new URL(window.location.href),N=g.startsWith("//")?new URL(I.protocol+g):new URL(g),V=Xi(N.pathname,F);N.origin===I.origin&&V!=null?g=V+N.search+N.hash:et=!0}catch{Mn(!1,`<Link to="${g}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let $=d1(g,{relative:o}),[it,Tt,ct]=Z1(s,R),Vt=ab(g,{replace:f,state:m,target:y,preventScrollReset:E,relative:o,viewTransition:A});function M(I){t&&t(I),I.defaultPrevented||Vt(I)}let b=Q.createElement("a",{...R,...ct,href:q||$,onClick:et||u?t:M,ref:eb(k,Tt),target:y,"data-discover":!G&&n==="render"?"true":void 0});return it&&!G?Q.createElement(Q.Fragment,null,b,Q.createElement(J1,{page:$})):b});qE.displayName="Link";var ib=Q.forwardRef(function({"aria-current":t="page",caseSensitive:n=!1,className:s="",end:o=!1,style:u,to:f,viewTransition:m,children:y,...g},E){let A=Kl(f,{relative:g.relative}),R=Kr(),k=Q.useContext(gh),{navigator:F,basename:G}=Q.useContext(jn),q=k!=null&&hb(A)&&m===!0,et=F.encodeLocation?F.encodeLocation(A).pathname:A.pathname,$=R.pathname,it=k&&k.navigation&&k.navigation.location?k.navigation.location.pathname:null;n||($=$.toLowerCase(),it=it?it.toLowerCase():null,et=et.toLowerCase()),it&&G&&(it=Xi(it,G)||it);const Tt=et!=="/"&&et.endsWith("/")?et.length-1:et.length;let ct=$===et||!o&&$.startsWith(et)&&$.charAt(Tt)==="/",Vt=it!=null&&(it===et||!o&&it.startsWith(et)&&it.charAt(et.length)==="/"),M={isActive:ct,isPending:Vt,isTransitioning:q},b=ct?t:void 0,I;typeof s=="function"?I=s(M):I=[s,ct?"active":null,Vt?"pending":null,q?"transitioning":null].filter(Boolean).join(" ");let N=typeof u=="function"?u(M):u;return Q.createElement(qE,{...g,"aria-current":b,className:I,ref:E,style:N,to:f,viewTransition:m},typeof y=="function"?y(M):y)});ib.displayName="NavLink";var rb=Q.forwardRef(({discover:r="render",fetcherKey:t,navigate:n,reloadDocument:s,replace:o,state:u,method:f=xc,action:m,onSubmit:y,relative:g,preventScrollReset:E,viewTransition:A,...R},k)=>{let F=ub(),G=cb(m,{relative:g}),q=f.toLowerCase()==="get"?"get":"post",et=typeof m=="string"&&HE.test(m),$=it=>{if(y&&y(it),it.defaultPrevented)return;it.preventDefault();let Tt=it.nativeEvent.submitter,ct=Tt?.getAttribute("formmethod")||f;F(Tt||it.currentTarget,{fetcherKey:t,method:ct,navigate:n,replace:o,state:u,relative:g,preventScrollReset:E,viewTransition:A})};return Q.createElement("form",{ref:k,method:q,action:G,onSubmit:s?y:$,...R,"data-discover":!et&&r==="render"?"true":void 0})});rb.displayName="Form";function sb(r){return`${r} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function jE(r){let t=Q.useContext(io);return ie(t,sb(r)),t}function ab(r,{target:t,replace:n,state:s,preventScrollReset:o,relative:u,viewTransition:f}={}){let m=xE(),y=Kr(),g=Kl(r,{relative:u});return Q.useCallback(E=>{if(U1(E,t)){E.preventDefault();let A=n!==void 0?n:kl(y)===kl(g);m(r,{replace:A,state:s,preventScrollReset:o,relative:u,viewTransition:f})}},[y,m,g,n,s,t,r,o,u,f])}var ob=0,lb=()=>`__${String(++ob)}__`;function ub(){let{router:r}=jE("useSubmit"),{basename:t}=Q.useContext(jn),n=w1();return Q.useCallback(async(s,o={})=>{let{action:u,method:f,encType:m,formData:y,body:g}=H1(s,t);if(o.navigate===!1){let E=o.fetcherKey||lb();await r.fetch(E,n,o.action||u,{preventScrollReset:o.preventScrollReset,formData:y,body:g,formMethod:o.method||f,formEncType:o.encType||m,flushSync:o.flushSync})}else await r.navigate(o.action||u,{preventScrollReset:o.preventScrollReset,formData:y,body:g,formMethod:o.method||f,formEncType:o.encType||m,replace:o.replace,state:o.state,fromRouteId:n,flushSync:o.flushSync,viewTransition:o.viewTransition})},[r,t,n])}function cb(r,{relative:t}={}){let{basename:n}=Q.useContext(jn),s=Q.useContext(Fn);ie(s,"useFormAction must be used inside a RouteContext");let[o]=s.matches.slice(-1),u={...Kl(r||".",{relative:t})},f=Kr();if(r==null){u.search=f.search;let m=new URLSearchParams(u.search),y=m.getAll("index");if(y.some(E=>E==="")){m.delete("index"),y.filter(A=>A).forEach(A=>m.append("index",A));let E=m.toString();u.search=E?`?${E}`:""}}return(!r||r===".")&&o.route.index&&(u.search=u.search?u.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(u.pathname=u.pathname==="/"?n:Ki([n,u.pathname])),kl(u)}function hb(r,{relative:t}={}){let n=Q.useContext(ME);ie(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:s}=jE("useViewTransitionState"),o=Kl(r,{relative:t});if(!n.isTransitioning)return!1;let u=Xi(n.currentLocation.pathname,s)||n.currentLocation.pathname,f=Xi(n.nextLocation.pathname,s)||n.nextLocation.pathname;return Yc(o.pathname,f)!=null||Yc(o.pathname,u)!=null}var Bd={exports:{}},Ke={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var $_;function fb(){if($_)return Ke;$_=1;var r=Dm();function t(y){var g="https://react.dev/errors/"+y;if(1<arguments.length){g+="?args[]="+encodeURIComponent(arguments[1]);for(var E=2;E<arguments.length;E++)g+="&args[]="+encodeURIComponent(arguments[E])}return"Minified React error #"+y+"; visit "+g+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var s={d:{f:n,r:function(){throw Error(t(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},o=Symbol.for("react.portal");function u(y,g,E){var A=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:A==null?null:""+A,children:y,containerInfo:g,implementation:E}}var f=r.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function m(y,g){if(y==="font")return"";if(typeof g=="string")return g==="use-credentials"?g:""}return Ke.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=s,Ke.createPortal=function(y,g){var E=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!g||g.nodeType!==1&&g.nodeType!==9&&g.nodeType!==11)throw Error(t(299));return u(y,g,null,E)},Ke.flushSync=function(y){var g=f.T,E=s.p;try{if(f.T=null,s.p=2,y)return y()}finally{f.T=g,s.p=E,s.d.f()}},Ke.preconnect=function(y,g){typeof y=="string"&&(g?(g=g.crossOrigin,g=typeof g=="string"?g==="use-credentials"?g:"":void 0):g=null,s.d.C(y,g))},Ke.prefetchDNS=function(y){typeof y=="string"&&s.d.D(y)},Ke.preinit=function(y,g){if(typeof y=="string"&&g&&typeof g.as=="string"){var E=g.as,A=m(E,g.crossOrigin),R=typeof g.integrity=="string"?g.integrity:void 0,k=typeof g.fetchPriority=="string"?g.fetchPriority:void 0;E==="style"?s.d.S(y,typeof g.precedence=="string"?g.precedence:void 0,{crossOrigin:A,integrity:R,fetchPriority:k}):E==="script"&&s.d.X(y,{crossOrigin:A,integrity:R,fetchPriority:k,nonce:typeof g.nonce=="string"?g.nonce:void 0})}},Ke.preinitModule=function(y,g){if(typeof y=="string")if(typeof g=="object"&&g!==null){if(g.as==null||g.as==="script"){var E=m(g.as,g.crossOrigin);s.d.M(y,{crossOrigin:E,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0})}}else g==null&&s.d.M(y)},Ke.preload=function(y,g){if(typeof y=="string"&&typeof g=="object"&&g!==null&&typeof g.as=="string"){var E=g.as,A=m(E,g.crossOrigin);s.d.L(y,E,{crossOrigin:A,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0,type:typeof g.type=="string"?g.type:void 0,fetchPriority:typeof g.fetchPriority=="string"?g.fetchPriority:void 0,referrerPolicy:typeof g.referrerPolicy=="string"?g.referrerPolicy:void 0,imageSrcSet:typeof g.imageSrcSet=="string"?g.imageSrcSet:void 0,imageSizes:typeof g.imageSizes=="string"?g.imageSizes:void 0,media:typeof g.media=="string"?g.media:void 0})}},Ke.preloadModule=function(y,g){if(typeof y=="string")if(g){var E=m(g.as,g.crossOrigin);s.d.m(y,{as:typeof g.as=="string"&&g.as!=="script"?g.as:void 0,crossOrigin:E,integrity:typeof g.integrity=="string"?g.integrity:void 0})}else s.d.m(y)},Ke.requestFormReset=function(y){s.d.r(y)},Ke.unstable_batchedUpdates=function(y,g){return y(g)},Ke.useFormState=function(y,g,E){return f.H.useFormState(y,g,E)},Ke.useFormStatus=function(){return f.H.useHostTransitionStatus()},Ke.version="19.1.1",Ke}var Z_;function db(){if(Z_)return Bd.exports;Z_=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(t){console.error(t)}}return r(),Bd.exports=fb(),Bd.exports}var Hd={exports:{}},Al={},qd={exports:{}},jd={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var J_;function mb(){return J_||(J_=1,(function(r){function t(K,st){var ft=K.length;K.push(st);t:for(;0<ft;){var zt=ft-1>>>1,D=K[zt];if(0<o(D,st))K[zt]=st,K[ft]=D,ft=zt;else break t}}function n(K){return K.length===0?null:K[0]}function s(K){if(K.length===0)return null;var st=K[0],ft=K.pop();if(ft!==st){K[0]=ft;t:for(var zt=0,D=K.length,W=D>>>1;zt<W;){var at=2*(zt+1)-1,nt=K[at],dt=at+1,wt=K[dt];if(0>o(nt,ft))dt<D&&0>o(wt,nt)?(K[zt]=wt,K[dt]=ft,zt=dt):(K[zt]=nt,K[at]=ft,zt=at);else if(dt<D&&0>o(wt,ft))K[zt]=wt,K[dt]=ft,zt=dt;else break t}}return st}function o(K,st){var ft=K.sortIndex-st.sortIndex;return ft!==0?ft:K.id-st.id}if(r.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var u=performance;r.unstable_now=function(){return u.now()}}else{var f=Date,m=f.now();r.unstable_now=function(){return f.now()-m}}var y=[],g=[],E=1,A=null,R=3,k=!1,F=!1,G=!1,q=!1,et=typeof setTimeout=="function"?setTimeout:null,$=typeof clearTimeout=="function"?clearTimeout:null,it=typeof setImmediate<"u"?setImmediate:null;function Tt(K){for(var st=n(g);st!==null;){if(st.callback===null)s(g);else if(st.startTime<=K)s(g),st.sortIndex=st.expirationTime,t(y,st);else break;st=n(g)}}function ct(K){if(G=!1,Tt(K),!F)if(n(y)!==null)F=!0,Vt||(Vt=!0,x());else{var st=n(g);st!==null&&oe(ct,st.startTime-K)}}var Vt=!1,M=-1,b=5,I=-1;function N(){return q?!0:!(r.unstable_now()-I<b)}function V(){if(q=!1,Vt){var K=r.unstable_now();I=K;var st=!0;try{t:{F=!1,G&&(G=!1,$(M),M=-1),k=!0;var ft=R;try{e:{for(Tt(K),A=n(y);A!==null&&!(A.expirationTime>K&&N());){var zt=A.callback;if(typeof zt=="function"){A.callback=null,R=A.priorityLevel;var D=zt(A.expirationTime<=K);if(K=r.unstable_now(),typeof D=="function"){A.callback=D,Tt(K),st=!0;break e}A===n(y)&&s(y),Tt(K)}else s(y);A=n(y)}if(A!==null)st=!0;else{var W=n(g);W!==null&&oe(ct,W.startTime-K),st=!1}}break t}finally{A=null,R=ft,k=!1}st=void 0}}finally{st?x():Vt=!1}}}var x;if(typeof it=="function")x=function(){it(V)};else if(typeof MessageChannel<"u"){var C=new MessageChannel,ke=C.port2;C.port1.onmessage=V,x=function(){ke.postMessage(null)}}else x=function(){et(V,0)};function oe(K,st){M=et(function(){K(r.unstable_now())},st)}r.unstable_IdlePriority=5,r.unstable_ImmediatePriority=1,r.unstable_LowPriority=4,r.unstable_NormalPriority=3,r.unstable_Profiling=null,r.unstable_UserBlockingPriority=2,r.unstable_cancelCallback=function(K){K.callback=null},r.unstable_forceFrameRate=function(K){0>K||125<K?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):b=0<K?Math.floor(1e3/K):5},r.unstable_getCurrentPriorityLevel=function(){return R},r.unstable_next=function(K){switch(R){case 1:case 2:case 3:var st=3;break;default:st=R}var ft=R;R=st;try{return K()}finally{R=ft}},r.unstable_requestPaint=function(){q=!0},r.unstable_runWithPriority=function(K,st){switch(K){case 1:case 2:case 3:case 4:case 5:break;default:K=3}var ft=R;R=K;try{return st()}finally{R=ft}},r.unstable_scheduleCallback=function(K,st,ft){var zt=r.unstable_now();switch(typeof ft=="object"&&ft!==null?(ft=ft.delay,ft=typeof ft=="number"&&0<ft?zt+ft:zt):ft=zt,K){case 1:var D=-1;break;case 2:D=250;break;case 5:D=1073741823;break;case 4:D=1e4;break;default:D=5e3}return D=ft+D,K={id:E++,callback:st,priorityLevel:K,startTime:ft,expirationTime:D,sortIndex:-1},ft>zt?(K.sortIndex=ft,t(g,K),n(y)===null&&K===n(g)&&(G?($(M),M=-1):G=!0,oe(ct,ft-zt))):(K.sortIndex=D,t(y,K),F||k||(F=!0,Vt||(Vt=!0,x()))),K},r.unstable_shouldYield=N,r.unstable_wrapCallback=function(K){var st=R;return function(){var ft=R;R=st;try{return K.apply(this,arguments)}finally{R=ft}}}})(jd)),jd}var W_;function pb(){return W_||(W_=1,qd.exports=mb()),qd.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var tv;function gb(){if(tv)return Al;tv=1;var r=pb(),t=Dm(),n=db();function s(e){var i="https://react.dev/errors/"+e;if(1<arguments.length){i+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)i+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+e+"; visit "+i+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function u(e){var i=e,a=e;if(e.alternate)for(;i.return;)i=i.return;else{e=i;do i=e,(i.flags&4098)!==0&&(a=i.return),e=i.return;while(e)}return i.tag===3?a:null}function f(e){if(e.tag===13){var i=e.memoizedState;if(i===null&&(e=e.alternate,e!==null&&(i=e.memoizedState)),i!==null)return i.dehydrated}return null}function m(e){if(u(e)!==e)throw Error(s(188))}function y(e){var i=e.alternate;if(!i){if(i=u(e),i===null)throw Error(s(188));return i!==e?null:e}for(var a=e,l=i;;){var h=a.return;if(h===null)break;var d=h.alternate;if(d===null){if(l=h.return,l!==null){a=l;continue}break}if(h.child===d.child){for(d=h.child;d;){if(d===a)return m(h),e;if(d===l)return m(h),i;d=d.sibling}throw Error(s(188))}if(a.return!==l.return)a=h,l=d;else{for(var v=!1,T=h.child;T;){if(T===a){v=!0,a=h,l=d;break}if(T===l){v=!0,l=h,a=d;break}T=T.sibling}if(!v){for(T=d.child;T;){if(T===a){v=!0,a=d,l=h;break}if(T===l){v=!0,l=d,a=h;break}T=T.sibling}if(!v)throw Error(s(189))}}if(a.alternate!==l)throw Error(s(190))}if(a.tag!==3)throw Error(s(188));return a.stateNode.current===a?e:i}function g(e){var i=e.tag;if(i===5||i===26||i===27||i===6)return e;for(e=e.child;e!==null;){if(i=g(e),i!==null)return i;e=e.sibling}return null}var E=Object.assign,A=Symbol.for("react.element"),R=Symbol.for("react.transitional.element"),k=Symbol.for("react.portal"),F=Symbol.for("react.fragment"),G=Symbol.for("react.strict_mode"),q=Symbol.for("react.profiler"),et=Symbol.for("react.provider"),$=Symbol.for("react.consumer"),it=Symbol.for("react.context"),Tt=Symbol.for("react.forward_ref"),ct=Symbol.for("react.suspense"),Vt=Symbol.for("react.suspense_list"),M=Symbol.for("react.memo"),b=Symbol.for("react.lazy"),I=Symbol.for("react.activity"),N=Symbol.for("react.memo_cache_sentinel"),V=Symbol.iterator;function x(e){return e===null||typeof e!="object"?null:(e=V&&e[V]||e["@@iterator"],typeof e=="function"?e:null)}var C=Symbol.for("react.client.reference");function ke(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===C?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case F:return"Fragment";case q:return"Profiler";case G:return"StrictMode";case ct:return"Suspense";case Vt:return"SuspenseList";case I:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case k:return"Portal";case it:return(e.displayName||"Context")+".Provider";case $:return(e._context.displayName||"Context")+".Consumer";case Tt:var i=e.render;return e=e.displayName,e||(e=i.displayName||i.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case M:return i=e.displayName||null,i!==null?i:ke(e.type)||"Memo";case b:i=e._payload,e=e._init;try{return ke(e(i))}catch{}}return null}var oe=Array.isArray,K=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,st=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ft={pending:!1,data:null,method:null,action:null},zt=[],D=-1;function W(e){return{current:e}}function at(e){0>D||(e.current=zt[D],zt[D]=null,D--)}function nt(e,i){D++,zt[D]=e.current,e.current=i}var dt=W(null),wt=W(null),Et=W(null),De=W(null);function Zt(e,i){switch(nt(Et,i),nt(wt,e),nt(dt,null),i.nodeType){case 9:case 11:e=(e=i.documentElement)&&(e=e.namespaceURI)?m_(e):0;break;default:if(e=i.tagName,i=i.namespaceURI)i=m_(i),e=p_(i,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}at(dt),nt(dt,e)}function Gn(){at(dt),at(wt),at(Et)}function er(e){e.memoizedState!==null&&nt(De,e);var i=dt.current,a=p_(i,e.type);i!==a&&(nt(wt,e),nt(dt,a))}function yi(e){wt.current===e&&(at(dt),at(wt)),De.current===e&&(at(De),gl._currentValue=ft)}var Yr=Object.prototype.hasOwnProperty,Xr=r.unstable_scheduleCallback,$r=r.unstable_cancelCallback,fo=r.unstable_shouldYield,ru=r.unstable_requestPaint,yn=r.unstable_now,xh=r.unstable_getCurrentPriorityLevel,mo=r.unstable_ImmediatePriority,Ks=r.unstable_UserBlockingPriority,Zr=r.unstable_NormalPriority,kh=r.unstable_LowPriority,Ys=r.unstable_IdlePriority,po=r.log,su=r.unstable_setDisableYieldValue,le=null,jt=null;function on(e){if(typeof po=="function"&&su(e),jt&&typeof jt.setStrictMode=="function")try{jt.setStrictMode(le,e)}catch{}}var Ge=Math.clz32?Math.clz32:Jr,au=Math.log,Lh=Math.LN2;function Jr(e){return e>>>=0,e===0?32:31-(au(e)/Lh|0)|0}var Wr=256,ts=4194304;function Vn(e){var i=e&42;if(i!==0)return i;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function Xs(e,i,a){var l=e.pendingLanes;if(l===0)return 0;var h=0,d=e.suspendedLanes,v=e.pingedLanes;e=e.warmLanes;var T=l&134217727;return T!==0?(l=T&~d,l!==0?h=Vn(l):(v&=T,v!==0?h=Vn(v):a||(a=T&~e,a!==0&&(h=Vn(a))))):(T=l&~d,T!==0?h=Vn(T):v!==0?h=Vn(v):a||(a=l&~e,a!==0&&(h=Vn(a)))),h===0?0:i!==0&&i!==h&&(i&d)===0&&(d=h&-h,a=i&-i,d>=a||d===32&&(a&4194048)!==0)?i:h}function es(e,i){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&i)===0}function go(e,i){switch(e){case 1:case 2:case 4:case 8:case 64:return i+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function yo(){var e=Wr;return Wr<<=1,(Wr&4194048)===0&&(Wr=256),e}function _o(){var e=ts;return ts<<=1,(ts&62914560)===0&&(ts=4194304),e}function _i(e){for(var i=[],a=0;31>a;a++)i.push(e);return i}function vi(e,i){e.pendingLanes|=i,i!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function vo(e,i,a,l,h,d){var v=e.pendingLanes;e.pendingLanes=a,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=a,e.entangledLanes&=a,e.errorRecoveryDisabledLanes&=a,e.shellSuspendCounter=0;var T=e.entanglements,w=e.expirationTimes,z=e.hiddenUpdates;for(a=v&~a;0<a;){var Y=31-Ge(a),Z=1<<Y;T[Y]=0,w[Y]=-1;var B=z[Y];if(B!==null)for(z[Y]=null,Y=0;Y<B.length;Y++){var H=B[Y];H!==null&&(H.lane&=-536870913)}a&=~Z}l!==0&&Qn(e,l,0),d!==0&&h===0&&e.tag!==0&&(e.suspendedLanes|=d&~(v&~i))}function Qn(e,i,a){e.pendingLanes|=i,e.suspendedLanes&=~i;var l=31-Ge(i);e.entangledLanes|=i,e.entanglements[l]=e.entanglements[l]|1073741824|a&4194090}function Eo(e,i){var a=e.entangledLanes|=i;for(e=e.entanglements;a;){var l=31-Ge(a),h=1<<l;h&i|e[l]&i&&(e[l]|=i),a&=~h}}function nr(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function $s(e){return e&=-e,2<e?8<e?(e&134217727)!==0?32:268435456:8:2}function ir(){var e=st.p;return e!==0?e:(e=window.event,e===void 0?32:P_(e.type))}function ou(e,i){var a=st.p;try{return st.p=e,i()}finally{st.p=a}}var ee=Math.random().toString(36).slice(2),Te="__reactFiber$"+ee,pe="__reactProps$"+ee,_n="__reactContainer$"+ee,To="__reactEvents$"+ee,Uh="__reactListeners$"+ee,rr="__reactHandles$"+ee,lu="__reactResources$"+ee,ns="__reactMarker$"+ee;function sr(e){delete e[Te],delete e[pe],delete e[To],delete e[Uh],delete e[rr]}function Ei(e){var i=e[Te];if(i)return i;for(var a=e.parentNode;a;){if(i=a[_n]||a[Te]){if(a=i.alternate,i.child!==null||a!==null&&a.child!==null)for(e=v_(e);e!==null;){if(a=e[Te])return a;e=v_(e)}return i}e=a,a=e.parentNode}return null}function Kn(e){if(e=e[Te]||e[_n]){var i=e.tag;if(i===5||i===6||i===13||i===26||i===27||i===3)return e}return null}function Yn(e){var i=e.tag;if(i===5||i===26||i===27||i===6)return e.stateNode;throw Error(s(33))}function Je(e){var i=e[lu];return i||(i=e[lu]={hoistableStyles:new Map,hoistableScripts:new Map}),i}function he(e){e[ns]=!0}var So=new Set,Zs={};function Pn(e,i){Ti(e,i),Ti(e+"Capture",i)}function Ti(e,i){for(Zs[e]=i,e=0;e<i.length;e++)So.add(i[e])}var uu=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),cu={},is={};function hu(e){return Yr.call(is,e)?!0:Yr.call(cu,e)?!1:uu.test(e)?is[e]=!0:(cu[e]=!0,!1)}function ar(e,i,a){if(hu(i))if(a===null)e.removeAttribute(i);else{switch(typeof a){case"undefined":case"function":case"symbol":e.removeAttribute(i);return;case"boolean":var l=i.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){e.removeAttribute(i);return}}e.setAttribute(i,""+a)}}function Xn(e,i,a){if(a===null)e.removeAttribute(i);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(i);return}e.setAttribute(i,""+a)}}function Le(e,i,a,l){if(l===null)e.removeAttribute(a);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(a);return}e.setAttributeNS(i,a,""+l)}}var rs,fu;function Si(e){if(rs===void 0)try{throw Error()}catch(a){var i=a.stack.trim().match(/\n( *(at )?)/);rs=i&&i[1]||"",fu=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+rs+e+fu}var Js=!1;function Ws(e,i){if(!e||Js)return"";Js=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(i){var Z=function(){throw Error()};if(Object.defineProperty(Z.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(Z,[])}catch(H){var B=H}Reflect.construct(e,[],Z)}else{try{Z.call()}catch(H){B=H}e.call(Z.prototype)}}else{try{throw Error()}catch(H){B=H}(Z=e())&&typeof Z.catch=="function"&&Z.catch(function(){})}}catch(H){if(H&&B&&typeof H.stack=="string")return[H.stack,B.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var h=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");h&&h.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var d=l.DetermineComponentFrameRoot(),v=d[0],T=d[1];if(v&&T){var w=v.split(`
`),z=T.split(`
`);for(h=l=0;l<w.length&&!w[l].includes("DetermineComponentFrameRoot");)l++;for(;h<z.length&&!z[h].includes("DetermineComponentFrameRoot");)h++;if(l===w.length||h===z.length)for(l=w.length-1,h=z.length-1;1<=l&&0<=h&&w[l]!==z[h];)h--;for(;1<=l&&0<=h;l--,h--)if(w[l]!==z[h]){if(l!==1||h!==1)do if(l--,h--,0>h||w[l]!==z[h]){var Y=`
`+w[l].replace(" at new "," at ");return e.displayName&&Y.includes("<anonymous>")&&(Y=Y.replace("<anonymous>",e.displayName)),Y}while(1<=l&&0<=h);break}}}finally{Js=!1,Error.prepareStackTrace=a}return(a=e?e.displayName||e.name:"")?Si(a):""}function Ao(e){switch(e.tag){case 26:case 27:case 5:return Si(e.type);case 16:return Si("Lazy");case 13:return Si("Suspense");case 19:return Si("SuspenseList");case 0:case 15:return Ws(e.type,!1);case 11:return Ws(e.type.render,!1);case 1:return Ws(e.type,!0);case 31:return Si("Activity");default:return""}}function ta(e){try{var i="";do i+=Ao(e),e=e.return;while(e);return i}catch(a){return`
Error generating stack: `+a.message+`
`+a.stack}}function We(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function bo(e){var i=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(i==="checkbox"||i==="radio")}function zh(e){var i=bo(e)?"checked":"value",a=Object.getOwnPropertyDescriptor(e.constructor.prototype,i),l=""+e[i];if(!e.hasOwnProperty(i)&&typeof a<"u"&&typeof a.get=="function"&&typeof a.set=="function"){var h=a.get,d=a.set;return Object.defineProperty(e,i,{configurable:!0,get:function(){return h.call(this)},set:function(v){l=""+v,d.call(this,v)}}),Object.defineProperty(e,i,{enumerable:a.enumerable}),{getValue:function(){return l},setValue:function(v){l=""+v},stopTracking:function(){e._valueTracker=null,delete e[i]}}}}function ea(e){e._valueTracker||(e._valueTracker=zh(e))}function Ro(e){if(!e)return!1;var i=e._valueTracker;if(!i)return!0;var a=i.getValue(),l="";return e&&(l=bo(e)?e.checked?"true":"false":e.value),e=l,e!==a?(i.setValue(e),!0):!1}function ss(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var Bh=/[\n"\\]/g;function ge(e){return e.replace(Bh,function(i){return"\\"+i.charCodeAt(0).toString(16)+" "})}function ln(e,i,a,l,h,d,v,T){e.name="",v!=null&&typeof v!="function"&&typeof v!="symbol"&&typeof v!="boolean"?e.type=v:e.removeAttribute("type"),i!=null?v==="number"?(i===0&&e.value===""||e.value!=i)&&(e.value=""+We(i)):e.value!==""+We(i)&&(e.value=""+We(i)):v!=="submit"&&v!=="reset"||e.removeAttribute("value"),i!=null?or(e,v,We(i)):a!=null?or(e,v,We(a)):l!=null&&e.removeAttribute("value"),h==null&&d!=null&&(e.defaultChecked=!!d),h!=null&&(e.checked=h&&typeof h!="function"&&typeof h!="symbol"),T!=null&&typeof T!="function"&&typeof T!="symbol"&&typeof T!="boolean"?e.name=""+We(T):e.removeAttribute("name")}function as(e,i,a,l,h,d,v,T){if(d!=null&&typeof d!="function"&&typeof d!="symbol"&&typeof d!="boolean"&&(e.type=d),i!=null||a!=null){if(!(d!=="submit"&&d!=="reset"||i!=null))return;a=a!=null?""+We(a):"",i=i!=null?""+We(i):a,T||i===e.value||(e.value=i),e.defaultValue=i}l=l??h,l=typeof l!="function"&&typeof l!="symbol"&&!!l,e.checked=T?e.checked:!!l,e.defaultChecked=!!l,v!=null&&typeof v!="function"&&typeof v!="symbol"&&typeof v!="boolean"&&(e.name=v)}function or(e,i,a){i==="number"&&ss(e.ownerDocument)===e||e.defaultValue===""+a||(e.defaultValue=""+a)}function Ai(e,i,a,l){if(e=e.options,i){i={};for(var h=0;h<a.length;h++)i["$"+a[h]]=!0;for(a=0;a<e.length;a++)h=i.hasOwnProperty("$"+e[a].value),e[a].selected!==h&&(e[a].selected=h),h&&l&&(e[a].defaultSelected=!0)}else{for(a=""+We(a),i=null,h=0;h<e.length;h++){if(e[h].value===a){e[h].selected=!0,l&&(e[h].defaultSelected=!0);return}i!==null||e[h].disabled||(i=e[h])}i!==null&&(i.selected=!0)}}function Qt(e,i,a){if(i!=null&&(i=""+We(i),i!==e.value&&(e.value=i),a==null)){e.defaultValue!==i&&(e.defaultValue=i);return}e.defaultValue=a!=null?""+We(a):""}function os(e,i,a,l){if(i==null){if(l!=null){if(a!=null)throw Error(s(92));if(oe(l)){if(1<l.length)throw Error(s(93));l=l[0]}a=l}a==null&&(a=""),i=a}a=We(i),e.defaultValue=a,l=e.textContent,l===a&&l!==""&&l!==null&&(e.value=l)}function vn(e,i){if(i){var a=e.firstChild;if(a&&a===e.lastChild&&a.nodeType===3){a.nodeValue=i;return}}e.textContent=i}var ls=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function du(e,i,a){var l=i.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?l?e.setProperty(i,""):i==="float"?e.cssFloat="":e[i]="":l?e.setProperty(i,a):typeof a!="number"||a===0||ls.has(i)?i==="float"?e.cssFloat=a:e[i]=(""+a).trim():e[i]=a+"px"}function wo(e,i,a){if(i!=null&&typeof i!="object")throw Error(s(62));if(e=e.style,a!=null){for(var l in a)!a.hasOwnProperty(l)||i!=null&&i.hasOwnProperty(l)||(l.indexOf("--")===0?e.setProperty(l,""):l==="float"?e.cssFloat="":e[l]="");for(var h in i)l=i[h],i.hasOwnProperty(h)&&a[h]!==l&&du(e,h,l)}else for(var d in i)i.hasOwnProperty(d)&&du(e,d,i[d])}function Io(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Hh=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),qh=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function na(e){return qh.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}var bi=null;function En(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Ri=null,wi=null;function Co(e){var i=Kn(e);if(i&&(e=i.stateNode)){var a=e[pe]||null;t:switch(e=i.stateNode,i.type){case"input":if(ln(e,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),i=a.name,a.type==="radio"&&i!=null){for(a=e;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+ge(""+i)+'"][type="radio"]'),i=0;i<a.length;i++){var l=a[i];if(l!==e&&l.form===e.form){var h=l[pe]||null;if(!h)throw Error(s(90));ln(l,h.value,h.defaultValue,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name)}}for(i=0;i<a.length;i++)l=a[i],l.form===e.form&&Ro(l)}break t;case"textarea":Qt(e,a.value,a.defaultValue);break t;case"select":i=a.value,i!=null&&Ai(e,!!a.multiple,i,!1)}}}var $n=!1;function mu(e,i,a){if($n)return e(i,a);$n=!0;try{var l=e(i);return l}finally{if($n=!1,(Ri!==null||wi!==null)&&(oc(),Ri&&(i=Ri,e=wi,wi=Ri=null,Co(i),e)))for(i=0;i<e.length;i++)Co(e[i])}}function us(e,i){var a=e.stateNode;if(a===null)return null;var l=a[pe]||null;if(l===null)return null;a=l[i];t:switch(i){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(e=e.type,l=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!l;break t;default:e=!1}if(e)return null;if(a&&typeof a!="function")throw Error(s(231,i,typeof a));return a}var xn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Tn=!1;if(xn)try{var cs={};Object.defineProperty(cs,"passive",{get:function(){Tn=!0}}),window.addEventListener("test",cs,cs),window.removeEventListener("test",cs,cs)}catch{Tn=!1}var Zn=null,lr=null,Ii=null;function Do(){if(Ii)return Ii;var e,i=lr,a=i.length,l,h="value"in Zn?Zn.value:Zn.textContent,d=h.length;for(e=0;e<a&&i[e]===h[e];e++);var v=a-e;for(l=1;l<=v&&i[a-l]===h[d-l];l++);return Ii=h.slice(e,1<l?1-l:void 0)}function Jn(e){var i=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&i===13&&(e=13)):e=i,e===10&&(e=13),32<=e||e===13?e:0}function Wn(){return!0}function Oo(){return!1}function Oe(e){function i(a,l,h,d,v){this._reactName=a,this._targetInst=h,this.type=l,this.nativeEvent=d,this.target=v,this.currentTarget=null;for(var T in e)e.hasOwnProperty(T)&&(a=e[T],this[T]=a?a(d):d[T]);return this.isDefaultPrevented=(d.defaultPrevented!=null?d.defaultPrevented:d.returnValue===!1)?Wn:Oo,this.isPropagationStopped=Oo,this}return E(i.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=Wn)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=Wn)},persist:function(){},isPersistent:Wn}),i}var Ht={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ia=Oe(Ht),hs=E({},Ht,{view:0,detail:0}),pu=Oe(hs),ra,sa,ti,fs=E({},hs,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:ps,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==ti&&(ti&&e.type==="mousemove"?(ra=e.screenX-ti.screenX,sa=e.screenY-ti.screenY):sa=ra=0,ti=e),ra)},movementY:function(e){return"movementY"in e?e.movementY:sa}}),Sn=Oe(fs),gu=E({},fs,{dataTransfer:0}),jh=Oe(gu),ds=E({},hs,{relatedTarget:0}),aa=Oe(ds),No=E({},Ht,{animationName:0,elapsedTime:0,pseudoElement:0}),oa=Oe(No),yu=E({},Ht,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),la=Oe(yu),Fh=E({},Ht,{data:0}),Mo=Oe(Fh),ms={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},_u={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},vu={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Vo(e){var i=this.nativeEvent;return i.getModifierState?i.getModifierState(e):(e=vu[e])?!!i[e]:!1}function ps(){return Vo}var Eu=E({},hs,{key:function(e){if(e.key){var i=ms[e.key]||e.key;if(i!=="Unidentified")return i}return e.type==="keypress"?(e=Jn(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?_u[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:ps,charCode:function(e){return e.type==="keypress"?Jn(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Jn(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),ua=Oe(Eu),Tu=E({},fs,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Po=Oe(Tu),Ci=E({},hs,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:ps}),Su=Oe(Ci),Au=E({},Ht,{propertyName:0,elapsedTime:0,pseudoElement:0}),bu=Oe(Au),Ru=E({},fs,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),ca=Oe(Ru),tn=E({},Ht,{newState:0,oldState:0}),wu=Oe(tn),Iu=[9,13,27,32],ei=xn&&"CompositionEvent"in window,c=null;xn&&"documentMode"in document&&(c=document.documentMode);var p=xn&&"TextEvent"in window&&!c,_=xn&&(!ei||c&&8<c&&11>=c),S=" ",L=!1;function j(e,i){switch(e){case"keyup":return Iu.indexOf(i.keyCode)!==-1;case"keydown":return i.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function rt(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Pt=!1;function Se(e,i){switch(e){case"compositionend":return rt(i);case"keypress":return i.which!==32?null:(L=!0,S);case"textInput":return e=i.data,e===S&&L?null:e;default:return null}}function xt(e,i){if(Pt)return e==="compositionend"||!ei&&j(e,i)?(e=Do(),Ii=lr=Zn=null,Pt=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(i.ctrlKey||i.altKey||i.metaKey)||i.ctrlKey&&i.altKey){if(i.char&&1<i.char.length)return i.char;if(i.which)return String.fromCharCode(i.which)}return null;case"compositionend":return _&&i.locale!=="ko"?null:i.data;default:return null}}var Ne={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Ae(e){var i=e&&e.nodeName&&e.nodeName.toLowerCase();return i==="input"?!!Ne[e.type]:i==="textarea"}function Di(e,i,a,l){Ri?wi?wi.push(l):wi=[l]:Ri=l,i=dc(i,"onChange"),0<i.length&&(a=new ia("onChange","change",null,a,l),e.push({event:a,listeners:i}))}var Ue=null,ni=null;function xo(e){u_(e,0)}function Cu(e){var i=Yn(e);if(Ro(i))return e}function Op(e,i){if(e==="change")return i}var Np=!1;if(xn){var Gh;if(xn){var Qh="oninput"in document;if(!Qh){var Mp=document.createElement("div");Mp.setAttribute("oninput","return;"),Qh=typeof Mp.oninput=="function"}Gh=Qh}else Gh=!1;Np=Gh&&(!document.documentMode||9<document.documentMode)}function Vp(){Ue&&(Ue.detachEvent("onpropertychange",Pp),ni=Ue=null)}function Pp(e){if(e.propertyName==="value"&&Cu(ni)){var i=[];Di(i,ni,e,En(e)),mu(xo,i)}}function uS(e,i,a){e==="focusin"?(Vp(),Ue=i,ni=a,Ue.attachEvent("onpropertychange",Pp)):e==="focusout"&&Vp()}function cS(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Cu(ni)}function hS(e,i){if(e==="click")return Cu(i)}function fS(e,i){if(e==="input"||e==="change")return Cu(i)}function dS(e,i){return e===i&&(e!==0||1/e===1/i)||e!==e&&i!==i}var un=typeof Object.is=="function"?Object.is:dS;function ko(e,i){if(un(e,i))return!0;if(typeof e!="object"||e===null||typeof i!="object"||i===null)return!1;var a=Object.keys(e),l=Object.keys(i);if(a.length!==l.length)return!1;for(l=0;l<a.length;l++){var h=a[l];if(!Yr.call(i,h)||!un(e[h],i[h]))return!1}return!0}function xp(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function kp(e,i){var a=xp(e);e=0;for(var l;a;){if(a.nodeType===3){if(l=e+a.textContent.length,e<=i&&l>=i)return{node:a,offset:i-e};e=l}t:{for(;a;){if(a.nextSibling){a=a.nextSibling;break t}a=a.parentNode}a=void 0}a=xp(a)}}function Lp(e,i){return e&&i?e===i?!0:e&&e.nodeType===3?!1:i&&i.nodeType===3?Lp(e,i.parentNode):"contains"in e?e.contains(i):e.compareDocumentPosition?!!(e.compareDocumentPosition(i)&16):!1:!1}function Up(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var i=ss(e.document);i instanceof e.HTMLIFrameElement;){try{var a=typeof i.contentWindow.location.href=="string"}catch{a=!1}if(a)e=i.contentWindow;else break;i=ss(e.document)}return i}function Kh(e){var i=e&&e.nodeName&&e.nodeName.toLowerCase();return i&&(i==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||i==="textarea"||e.contentEditable==="true")}var mS=xn&&"documentMode"in document&&11>=document.documentMode,ha=null,Yh=null,Lo=null,Xh=!1;function zp(e,i,a){var l=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;Xh||ha==null||ha!==ss(l)||(l=ha,"selectionStart"in l&&Kh(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),Lo&&ko(Lo,l)||(Lo=l,l=dc(Yh,"onSelect"),0<l.length&&(i=new ia("onSelect","select",null,i,a),e.push({event:i,listeners:l}),i.target=ha)))}function gs(e,i){var a={};return a[e.toLowerCase()]=i.toLowerCase(),a["Webkit"+e]="webkit"+i,a["Moz"+e]="moz"+i,a}var fa={animationend:gs("Animation","AnimationEnd"),animationiteration:gs("Animation","AnimationIteration"),animationstart:gs("Animation","AnimationStart"),transitionrun:gs("Transition","TransitionRun"),transitionstart:gs("Transition","TransitionStart"),transitioncancel:gs("Transition","TransitionCancel"),transitionend:gs("Transition","TransitionEnd")},$h={},Bp={};xn&&(Bp=document.createElement("div").style,"AnimationEvent"in window||(delete fa.animationend.animation,delete fa.animationiteration.animation,delete fa.animationstart.animation),"TransitionEvent"in window||delete fa.transitionend.transition);function ys(e){if($h[e])return $h[e];if(!fa[e])return e;var i=fa[e],a;for(a in i)if(i.hasOwnProperty(a)&&a in Bp)return $h[e]=i[a];return e}var Hp=ys("animationend"),qp=ys("animationiteration"),jp=ys("animationstart"),pS=ys("transitionrun"),gS=ys("transitionstart"),yS=ys("transitioncancel"),Fp=ys("transitionend"),Gp=new Map,Zh="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Zh.push("scrollEnd");function kn(e,i){Gp.set(e,i),Pn(i,[e])}var Qp=new WeakMap;function An(e,i){if(typeof e=="object"&&e!==null){var a=Qp.get(e);return a!==void 0?a:(i={value:e,source:i,stack:ta(i)},Qp.set(e,i),i)}return{value:e,source:i,stack:ta(i)}}var bn=[],da=0,Jh=0;function Du(){for(var e=da,i=Jh=da=0;i<e;){var a=bn[i];bn[i++]=null;var l=bn[i];bn[i++]=null;var h=bn[i];bn[i++]=null;var d=bn[i];if(bn[i++]=null,l!==null&&h!==null){var v=l.pending;v===null?h.next=h:(h.next=v.next,v.next=h),l.pending=h}d!==0&&Kp(a,h,d)}}function Ou(e,i,a,l){bn[da++]=e,bn[da++]=i,bn[da++]=a,bn[da++]=l,Jh|=l,e.lanes|=l,e=e.alternate,e!==null&&(e.lanes|=l)}function Wh(e,i,a,l){return Ou(e,i,a,l),Nu(e)}function ma(e,i){return Ou(e,null,null,i),Nu(e)}function Kp(e,i,a){e.lanes|=a;var l=e.alternate;l!==null&&(l.lanes|=a);for(var h=!1,d=e.return;d!==null;)d.childLanes|=a,l=d.alternate,l!==null&&(l.childLanes|=a),d.tag===22&&(e=d.stateNode,e===null||e._visibility&1||(h=!0)),e=d,d=d.return;return e.tag===3?(d=e.stateNode,h&&i!==null&&(h=31-Ge(a),e=d.hiddenUpdates,l=e[h],l===null?e[h]=[i]:l.push(i),i.lane=a|536870912),d):null}function Nu(e){if(50<ll)throw ll=0,ad=null,Error(s(185));for(var i=e.return;i!==null;)e=i,i=e.return;return e.tag===3?e.stateNode:null}var pa={};function _S(e,i,a,l){this.tag=e,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=i,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function cn(e,i,a,l){return new _S(e,i,a,l)}function tf(e){return e=e.prototype,!(!e||!e.isReactComponent)}function Oi(e,i){var a=e.alternate;return a===null?(a=cn(e.tag,i,e.key,e.mode),a.elementType=e.elementType,a.type=e.type,a.stateNode=e.stateNode,a.alternate=e,e.alternate=a):(a.pendingProps=i,a.type=e.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=e.flags&65011712,a.childLanes=e.childLanes,a.lanes=e.lanes,a.child=e.child,a.memoizedProps=e.memoizedProps,a.memoizedState=e.memoizedState,a.updateQueue=e.updateQueue,i=e.dependencies,a.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext},a.sibling=e.sibling,a.index=e.index,a.ref=e.ref,a.refCleanup=e.refCleanup,a}function Yp(e,i){e.flags&=65011714;var a=e.alternate;return a===null?(e.childLanes=0,e.lanes=i,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=a.childLanes,e.lanes=a.lanes,e.child=a.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=a.memoizedProps,e.memoizedState=a.memoizedState,e.updateQueue=a.updateQueue,e.type=a.type,i=a.dependencies,e.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext}),e}function Mu(e,i,a,l,h,d){var v=0;if(l=e,typeof e=="function")tf(e)&&(v=1);else if(typeof e=="string")v=EA(e,a,dt.current)?26:e==="html"||e==="head"||e==="body"?27:5;else t:switch(e){case I:return e=cn(31,a,i,h),e.elementType=I,e.lanes=d,e;case F:return _s(a.children,h,d,i);case G:v=8,h|=24;break;case q:return e=cn(12,a,i,h|2),e.elementType=q,e.lanes=d,e;case ct:return e=cn(13,a,i,h),e.elementType=ct,e.lanes=d,e;case Vt:return e=cn(19,a,i,h),e.elementType=Vt,e.lanes=d,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case et:case it:v=10;break t;case $:v=9;break t;case Tt:v=11;break t;case M:v=14;break t;case b:v=16,l=null;break t}v=29,a=Error(s(130,e===null?"null":typeof e,"")),l=null}return i=cn(v,a,i,h),i.elementType=e,i.type=l,i.lanes=d,i}function _s(e,i,a,l){return e=cn(7,e,l,i),e.lanes=a,e}function ef(e,i,a){return e=cn(6,e,null,i),e.lanes=a,e}function nf(e,i,a){return i=cn(4,e.children!==null?e.children:[],e.key,i),i.lanes=a,i.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},i}var ga=[],ya=0,Vu=null,Pu=0,Rn=[],wn=0,vs=null,Ni=1,Mi="";function Es(e,i){ga[ya++]=Pu,ga[ya++]=Vu,Vu=e,Pu=i}function Xp(e,i,a){Rn[wn++]=Ni,Rn[wn++]=Mi,Rn[wn++]=vs,vs=e;var l=Ni;e=Mi;var h=32-Ge(l)-1;l&=~(1<<h),a+=1;var d=32-Ge(i)+h;if(30<d){var v=h-h%5;d=(l&(1<<v)-1).toString(32),l>>=v,h-=v,Ni=1<<32-Ge(i)+h|a<<h|l,Mi=d+e}else Ni=1<<d|a<<h|l,Mi=e}function rf(e){e.return!==null&&(Es(e,1),Xp(e,1,0))}function sf(e){for(;e===Vu;)Vu=ga[--ya],ga[ya]=null,Pu=ga[--ya],ga[ya]=null;for(;e===vs;)vs=Rn[--wn],Rn[wn]=null,Mi=Rn[--wn],Rn[wn]=null,Ni=Rn[--wn],Rn[wn]=null}var en=null,ue=null,Bt=!1,Ts=null,ii=!1,af=Error(s(519));function Ss(e){var i=Error(s(418,""));throw Bo(An(i,e)),af}function $p(e){var i=e.stateNode,a=e.type,l=e.memoizedProps;switch(i[Te]=e,i[pe]=l,a){case"dialog":Dt("cancel",i),Dt("close",i);break;case"iframe":case"object":case"embed":Dt("load",i);break;case"video":case"audio":for(a=0;a<cl.length;a++)Dt(cl[a],i);break;case"source":Dt("error",i);break;case"img":case"image":case"link":Dt("error",i),Dt("load",i);break;case"details":Dt("toggle",i);break;case"input":Dt("invalid",i),as(i,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0),ea(i);break;case"select":Dt("invalid",i);break;case"textarea":Dt("invalid",i),os(i,l.value,l.defaultValue,l.children),ea(i)}a=l.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||i.textContent===""+a||l.suppressHydrationWarning===!0||d_(i.textContent,a)?(l.popover!=null&&(Dt("beforetoggle",i),Dt("toggle",i)),l.onScroll!=null&&Dt("scroll",i),l.onScrollEnd!=null&&Dt("scrollend",i),l.onClick!=null&&(i.onclick=mc),i=!0):i=!1,i||Ss(e)}function Zp(e){for(en=e.return;en;)switch(en.tag){case 5:case 13:ii=!1;return;case 27:case 3:ii=!0;return;default:en=en.return}}function Uo(e){if(e!==en)return!1;if(!Bt)return Zp(e),Bt=!0,!1;var i=e.tag,a;if((a=i!==3&&i!==27)&&((a=i===5)&&(a=e.type,a=!(a!=="form"&&a!=="button")||Sd(e.type,e.memoizedProps)),a=!a),a&&ue&&Ss(e),Zp(e),i===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(s(317));t:{for(e=e.nextSibling,i=0;e;){if(e.nodeType===8)if(a=e.data,a==="/$"){if(i===0){ue=Un(e.nextSibling);break t}i--}else a!=="$"&&a!=="$!"&&a!=="$?"||i++;e=e.nextSibling}ue=null}}else i===27?(i=ue,br(e.type)?(e=wd,wd=null,ue=e):ue=i):ue=en?Un(e.stateNode.nextSibling):null;return!0}function zo(){ue=en=null,Bt=!1}function Jp(){var e=Ts;return e!==null&&(sn===null?sn=e:sn.push.apply(sn,e),Ts=null),e}function Bo(e){Ts===null?Ts=[e]:Ts.push(e)}var of=W(null),As=null,Vi=null;function ur(e,i,a){nt(of,i._currentValue),i._currentValue=a}function Pi(e){e._currentValue=of.current,at(of)}function lf(e,i,a){for(;e!==null;){var l=e.alternate;if((e.childLanes&i)!==i?(e.childLanes|=i,l!==null&&(l.childLanes|=i)):l!==null&&(l.childLanes&i)!==i&&(l.childLanes|=i),e===a)break;e=e.return}}function uf(e,i,a,l){var h=e.child;for(h!==null&&(h.return=e);h!==null;){var d=h.dependencies;if(d!==null){var v=h.child;d=d.firstContext;t:for(;d!==null;){var T=d;d=h;for(var w=0;w<i.length;w++)if(T.context===i[w]){d.lanes|=a,T=d.alternate,T!==null&&(T.lanes|=a),lf(d.return,a,e),l||(v=null);break t}d=T.next}}else if(h.tag===18){if(v=h.return,v===null)throw Error(s(341));v.lanes|=a,d=v.alternate,d!==null&&(d.lanes|=a),lf(v,a,e),v=null}else v=h.child;if(v!==null)v.return=h;else for(v=h;v!==null;){if(v===e){v=null;break}if(h=v.sibling,h!==null){h.return=v.return,v=h;break}v=v.return}h=v}}function Ho(e,i,a,l){e=null;for(var h=i,d=!1;h!==null;){if(!d){if((h.flags&524288)!==0)d=!0;else if((h.flags&262144)!==0)break}if(h.tag===10){var v=h.alternate;if(v===null)throw Error(s(387));if(v=v.memoizedProps,v!==null){var T=h.type;un(h.pendingProps.value,v.value)||(e!==null?e.push(T):e=[T])}}else if(h===De.current){if(v=h.alternate,v===null)throw Error(s(387));v.memoizedState.memoizedState!==h.memoizedState.memoizedState&&(e!==null?e.push(gl):e=[gl])}h=h.return}e!==null&&uf(i,e,a,l),i.flags|=262144}function xu(e){for(e=e.firstContext;e!==null;){if(!un(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function bs(e){As=e,Vi=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function Qe(e){return Wp(As,e)}function ku(e,i){return As===null&&bs(e),Wp(e,i)}function Wp(e,i){var a=i._currentValue;if(i={context:i,memoizedValue:a,next:null},Vi===null){if(e===null)throw Error(s(308));Vi=i,e.dependencies={lanes:0,firstContext:i},e.flags|=524288}else Vi=Vi.next=i;return a}var vS=typeof AbortController<"u"?AbortController:function(){var e=[],i=this.signal={aborted:!1,addEventListener:function(a,l){e.push(l)}};this.abort=function(){i.aborted=!0,e.forEach(function(a){return a()})}},ES=r.unstable_scheduleCallback,TS=r.unstable_NormalPriority,be={$$typeof:it,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function cf(){return{controller:new vS,data:new Map,refCount:0}}function qo(e){e.refCount--,e.refCount===0&&ES(TS,function(){e.controller.abort()})}var jo=null,hf=0,_a=0,va=null;function SS(e,i){if(jo===null){var a=jo=[];hf=0,_a=dd(),va={status:"pending",value:void 0,then:function(l){a.push(l)}}}return hf++,i.then(tg,tg),i}function tg(){if(--hf===0&&jo!==null){va!==null&&(va.status="fulfilled");var e=jo;jo=null,_a=0,va=null;for(var i=0;i<e.length;i++)(0,e[i])()}}function AS(e,i){var a=[],l={status:"pending",value:null,reason:null,then:function(h){a.push(h)}};return e.then(function(){l.status="fulfilled",l.value=i;for(var h=0;h<a.length;h++)(0,a[h])(i)},function(h){for(l.status="rejected",l.reason=h,h=0;h<a.length;h++)(0,a[h])(void 0)}),l}var eg=K.S;K.S=function(e,i){typeof i=="object"&&i!==null&&typeof i.then=="function"&&SS(e,i),eg!==null&&eg(e,i)};var Rs=W(null);function ff(){var e=Rs.current;return e!==null?e:Jt.pooledCache}function Lu(e,i){i===null?nt(Rs,Rs.current):nt(Rs,i.pool)}function ng(){var e=ff();return e===null?null:{parent:be._currentValue,pool:e}}var Fo=Error(s(460)),ig=Error(s(474)),Uu=Error(s(542)),df={then:function(){}};function rg(e){return e=e.status,e==="fulfilled"||e==="rejected"}function zu(){}function sg(e,i,a){switch(a=e[a],a===void 0?e.push(i):a!==i&&(i.then(zu,zu),i=a),i.status){case"fulfilled":return i.value;case"rejected":throw e=i.reason,og(e),e;default:if(typeof i.status=="string")i.then(zu,zu);else{if(e=Jt,e!==null&&100<e.shellSuspendCounter)throw Error(s(482));e=i,e.status="pending",e.then(function(l){if(i.status==="pending"){var h=i;h.status="fulfilled",h.value=l}},function(l){if(i.status==="pending"){var h=i;h.status="rejected",h.reason=l}})}switch(i.status){case"fulfilled":return i.value;case"rejected":throw e=i.reason,og(e),e}throw Go=i,Fo}}var Go=null;function ag(){if(Go===null)throw Error(s(459));var e=Go;return Go=null,e}function og(e){if(e===Fo||e===Uu)throw Error(s(483))}var cr=!1;function mf(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function pf(e,i){e=e.updateQueue,i.updateQueue===e&&(i.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function hr(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function fr(e,i,a){var l=e.updateQueue;if(l===null)return null;if(l=l.shared,(Ft&2)!==0){var h=l.pending;return h===null?i.next=i:(i.next=h.next,h.next=i),l.pending=i,i=Nu(e),Kp(e,null,a),i}return Ou(e,l,i,a),Nu(e)}function Qo(e,i,a){if(i=i.updateQueue,i!==null&&(i=i.shared,(a&4194048)!==0)){var l=i.lanes;l&=e.pendingLanes,a|=l,i.lanes=a,Eo(e,a)}}function gf(e,i){var a=e.updateQueue,l=e.alternate;if(l!==null&&(l=l.updateQueue,a===l)){var h=null,d=null;if(a=a.firstBaseUpdate,a!==null){do{var v={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};d===null?h=d=v:d=d.next=v,a=a.next}while(a!==null);d===null?h=d=i:d=d.next=i}else h=d=i;a={baseState:l.baseState,firstBaseUpdate:h,lastBaseUpdate:d,shared:l.shared,callbacks:l.callbacks},e.updateQueue=a;return}e=a.lastBaseUpdate,e===null?a.firstBaseUpdate=i:e.next=i,a.lastBaseUpdate=i}var yf=!1;function Ko(){if(yf){var e=va;if(e!==null)throw e}}function Yo(e,i,a,l){yf=!1;var h=e.updateQueue;cr=!1;var d=h.firstBaseUpdate,v=h.lastBaseUpdate,T=h.shared.pending;if(T!==null){h.shared.pending=null;var w=T,z=w.next;w.next=null,v===null?d=z:v.next=z,v=w;var Y=e.alternate;Y!==null&&(Y=Y.updateQueue,T=Y.lastBaseUpdate,T!==v&&(T===null?Y.firstBaseUpdate=z:T.next=z,Y.lastBaseUpdate=w))}if(d!==null){var Z=h.baseState;v=0,Y=z=w=null,T=d;do{var B=T.lane&-536870913,H=B!==T.lane;if(H?(kt&B)===B:(l&B)===B){B!==0&&B===_a&&(yf=!0),Y!==null&&(Y=Y.next={lane:0,tag:T.tag,payload:T.payload,callback:null,next:null});t:{var _t=e,pt=T;B=i;var Xt=a;switch(pt.tag){case 1:if(_t=pt.payload,typeof _t=="function"){Z=_t.call(Xt,Z,B);break t}Z=_t;break t;case 3:_t.flags=_t.flags&-65537|128;case 0:if(_t=pt.payload,B=typeof _t=="function"?_t.call(Xt,Z,B):_t,B==null)break t;Z=E({},Z,B);break t;case 2:cr=!0}}B=T.callback,B!==null&&(e.flags|=64,H&&(e.flags|=8192),H=h.callbacks,H===null?h.callbacks=[B]:H.push(B))}else H={lane:B,tag:T.tag,payload:T.payload,callback:T.callback,next:null},Y===null?(z=Y=H,w=Z):Y=Y.next=H,v|=B;if(T=T.next,T===null){if(T=h.shared.pending,T===null)break;H=T,T=H.next,H.next=null,h.lastBaseUpdate=H,h.shared.pending=null}}while(!0);Y===null&&(w=Z),h.baseState=w,h.firstBaseUpdate=z,h.lastBaseUpdate=Y,d===null&&(h.shared.lanes=0),Er|=v,e.lanes=v,e.memoizedState=Z}}function lg(e,i){if(typeof e!="function")throw Error(s(191,e));e.call(i)}function ug(e,i){var a=e.callbacks;if(a!==null)for(e.callbacks=null,e=0;e<a.length;e++)lg(a[e],i)}var Ea=W(null),Bu=W(0);function cg(e,i){e=Hi,nt(Bu,e),nt(Ea,i),Hi=e|i.baseLanes}function _f(){nt(Bu,Hi),nt(Ea,Ea.current)}function vf(){Hi=Bu.current,at(Ea),at(Bu)}var dr=0,Rt=null,Kt=null,ye=null,Hu=!1,Ta=!1,ws=!1,qu=0,Xo=0,Sa=null,bS=0;function fe(){throw Error(s(321))}function Ef(e,i){if(i===null)return!1;for(var a=0;a<i.length&&a<e.length;a++)if(!un(e[a],i[a]))return!1;return!0}function Tf(e,i,a,l,h,d){return dr=d,Rt=i,i.memoizedState=null,i.updateQueue=null,i.lanes=0,K.H=e===null||e.memoizedState===null?Kg:Yg,ws=!1,d=a(l,h),ws=!1,Ta&&(d=fg(i,a,l,h)),hg(e),d}function hg(e){K.H=Yu;var i=Kt!==null&&Kt.next!==null;if(dr=0,ye=Kt=Rt=null,Hu=!1,Xo=0,Sa=null,i)throw Error(s(300));e===null||Me||(e=e.dependencies,e!==null&&xu(e)&&(Me=!0))}function fg(e,i,a,l){Rt=e;var h=0;do{if(Ta&&(Sa=null),Xo=0,Ta=!1,25<=h)throw Error(s(301));if(h+=1,ye=Kt=null,e.updateQueue!=null){var d=e.updateQueue;d.lastEffect=null,d.events=null,d.stores=null,d.memoCache!=null&&(d.memoCache.index=0)}K.H=NS,d=i(a,l)}while(Ta);return d}function RS(){var e=K.H,i=e.useState()[0];return i=typeof i.then=="function"?$o(i):i,e=e.useState()[0],(Kt!==null?Kt.memoizedState:null)!==e&&(Rt.flags|=1024),i}function Sf(){var e=qu!==0;return qu=0,e}function Af(e,i,a){i.updateQueue=e.updateQueue,i.flags&=-2053,e.lanes&=~a}function bf(e){if(Hu){for(e=e.memoizedState;e!==null;){var i=e.queue;i!==null&&(i.pending=null),e=e.next}Hu=!1}dr=0,ye=Kt=Rt=null,Ta=!1,Xo=qu=0,Sa=null}function nn(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return ye===null?Rt.memoizedState=ye=e:ye=ye.next=e,ye}function _e(){if(Kt===null){var e=Rt.alternate;e=e!==null?e.memoizedState:null}else e=Kt.next;var i=ye===null?Rt.memoizedState:ye.next;if(i!==null)ye=i,Kt=e;else{if(e===null)throw Rt.alternate===null?Error(s(467)):Error(s(310));Kt=e,e={memoizedState:Kt.memoizedState,baseState:Kt.baseState,baseQueue:Kt.baseQueue,queue:Kt.queue,next:null},ye===null?Rt.memoizedState=ye=e:ye=ye.next=e}return ye}function Rf(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function $o(e){var i=Xo;return Xo+=1,Sa===null&&(Sa=[]),e=sg(Sa,e,i),i=Rt,(ye===null?i.memoizedState:ye.next)===null&&(i=i.alternate,K.H=i===null||i.memoizedState===null?Kg:Yg),e}function ju(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return $o(e);if(e.$$typeof===it)return Qe(e)}throw Error(s(438,String(e)))}function wf(e){var i=null,a=Rt.updateQueue;if(a!==null&&(i=a.memoCache),i==null){var l=Rt.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(i={data:l.data.map(function(h){return h.slice()}),index:0})))}if(i==null&&(i={data:[],index:0}),a===null&&(a=Rf(),Rt.updateQueue=a),a.memoCache=i,a=i.data[i.index],a===void 0)for(a=i.data[i.index]=Array(e),l=0;l<e;l++)a[l]=N;return i.index++,a}function xi(e,i){return typeof i=="function"?i(e):i}function Fu(e){var i=_e();return If(i,Kt,e)}function If(e,i,a){var l=e.queue;if(l===null)throw Error(s(311));l.lastRenderedReducer=a;var h=e.baseQueue,d=l.pending;if(d!==null){if(h!==null){var v=h.next;h.next=d.next,d.next=v}i.baseQueue=h=d,l.pending=null}if(d=e.baseState,h===null)e.memoizedState=d;else{i=h.next;var T=v=null,w=null,z=i,Y=!1;do{var Z=z.lane&-536870913;if(Z!==z.lane?(kt&Z)===Z:(dr&Z)===Z){var B=z.revertLane;if(B===0)w!==null&&(w=w.next={lane:0,revertLane:0,action:z.action,hasEagerState:z.hasEagerState,eagerState:z.eagerState,next:null}),Z===_a&&(Y=!0);else if((dr&B)===B){z=z.next,B===_a&&(Y=!0);continue}else Z={lane:0,revertLane:z.revertLane,action:z.action,hasEagerState:z.hasEagerState,eagerState:z.eagerState,next:null},w===null?(T=w=Z,v=d):w=w.next=Z,Rt.lanes|=B,Er|=B;Z=z.action,ws&&a(d,Z),d=z.hasEagerState?z.eagerState:a(d,Z)}else B={lane:Z,revertLane:z.revertLane,action:z.action,hasEagerState:z.hasEagerState,eagerState:z.eagerState,next:null},w===null?(T=w=B,v=d):w=w.next=B,Rt.lanes|=Z,Er|=Z;z=z.next}while(z!==null&&z!==i);if(w===null?v=d:w.next=T,!un(d,e.memoizedState)&&(Me=!0,Y&&(a=va,a!==null)))throw a;e.memoizedState=d,e.baseState=v,e.baseQueue=w,l.lastRenderedState=d}return h===null&&(l.lanes=0),[e.memoizedState,l.dispatch]}function Cf(e){var i=_e(),a=i.queue;if(a===null)throw Error(s(311));a.lastRenderedReducer=e;var l=a.dispatch,h=a.pending,d=i.memoizedState;if(h!==null){a.pending=null;var v=h=h.next;do d=e(d,v.action),v=v.next;while(v!==h);un(d,i.memoizedState)||(Me=!0),i.memoizedState=d,i.baseQueue===null&&(i.baseState=d),a.lastRenderedState=d}return[d,l]}function dg(e,i,a){var l=Rt,h=_e(),d=Bt;if(d){if(a===void 0)throw Error(s(407));a=a()}else a=i();var v=!un((Kt||h).memoizedState,a);v&&(h.memoizedState=a,Me=!0),h=h.queue;var T=gg.bind(null,l,h,e);if(Zo(2048,8,T,[e]),h.getSnapshot!==i||v||ye!==null&&ye.memoizedState.tag&1){if(l.flags|=2048,Aa(9,Gu(),pg.bind(null,l,h,a,i),null),Jt===null)throw Error(s(349));d||(dr&124)!==0||mg(l,i,a)}return a}function mg(e,i,a){e.flags|=16384,e={getSnapshot:i,value:a},i=Rt.updateQueue,i===null?(i=Rf(),Rt.updateQueue=i,i.stores=[e]):(a=i.stores,a===null?i.stores=[e]:a.push(e))}function pg(e,i,a,l){i.value=a,i.getSnapshot=l,yg(i)&&_g(e)}function gg(e,i,a){return a(function(){yg(i)&&_g(e)})}function yg(e){var i=e.getSnapshot;e=e.value;try{var a=i();return!un(e,a)}catch{return!0}}function _g(e){var i=ma(e,2);i!==null&&pn(i,e,2)}function Df(e){var i=nn();if(typeof e=="function"){var a=e;if(e=a(),ws){on(!0);try{a()}finally{on(!1)}}}return i.memoizedState=i.baseState=e,i.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:xi,lastRenderedState:e},i}function vg(e,i,a,l){return e.baseState=a,If(e,Kt,typeof l=="function"?l:xi)}function wS(e,i,a,l,h){if(Ku(e))throw Error(s(485));if(e=i.action,e!==null){var d={payload:h,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(v){d.listeners.push(v)}};K.T!==null?a(!0):d.isTransition=!1,l(d),a=i.pending,a===null?(d.next=i.pending=d,Eg(i,d)):(d.next=a.next,i.pending=a.next=d)}}function Eg(e,i){var a=i.action,l=i.payload,h=e.state;if(i.isTransition){var d=K.T,v={};K.T=v;try{var T=a(h,l),w=K.S;w!==null&&w(v,T),Tg(e,i,T)}catch(z){Of(e,i,z)}finally{K.T=d}}else try{d=a(h,l),Tg(e,i,d)}catch(z){Of(e,i,z)}}function Tg(e,i,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(l){Sg(e,i,l)},function(l){return Of(e,i,l)}):Sg(e,i,a)}function Sg(e,i,a){i.status="fulfilled",i.value=a,Ag(i),e.state=a,i=e.pending,i!==null&&(a=i.next,a===i?e.pending=null:(a=a.next,i.next=a,Eg(e,a)))}function Of(e,i,a){var l=e.pending;if(e.pending=null,l!==null){l=l.next;do i.status="rejected",i.reason=a,Ag(i),i=i.next;while(i!==l)}e.action=null}function Ag(e){e=e.listeners;for(var i=0;i<e.length;i++)(0,e[i])()}function bg(e,i){return i}function Rg(e,i){if(Bt){var a=Jt.formState;if(a!==null){t:{var l=Rt;if(Bt){if(ue){e:{for(var h=ue,d=ii;h.nodeType!==8;){if(!d){h=null;break e}if(h=Un(h.nextSibling),h===null){h=null;break e}}d=h.data,h=d==="F!"||d==="F"?h:null}if(h){ue=Un(h.nextSibling),l=h.data==="F!";break t}}Ss(l)}l=!1}l&&(i=a[0])}}return a=nn(),a.memoizedState=a.baseState=i,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:bg,lastRenderedState:i},a.queue=l,a=Fg.bind(null,Rt,l),l.dispatch=a,l=Df(!1),d=xf.bind(null,Rt,!1,l.queue),l=nn(),h={state:i,dispatch:null,action:e,pending:null},l.queue=h,a=wS.bind(null,Rt,h,d,a),h.dispatch=a,l.memoizedState=e,[i,a,!1]}function wg(e){var i=_e();return Ig(i,Kt,e)}function Ig(e,i,a){if(i=If(e,i,bg)[0],e=Fu(xi)[0],typeof i=="object"&&i!==null&&typeof i.then=="function")try{var l=$o(i)}catch(v){throw v===Fo?Uu:v}else l=i;i=_e();var h=i.queue,d=h.dispatch;return a!==i.memoizedState&&(Rt.flags|=2048,Aa(9,Gu(),IS.bind(null,h,a),null)),[l,d,e]}function IS(e,i){e.action=i}function Cg(e){var i=_e(),a=Kt;if(a!==null)return Ig(i,a,e);_e(),i=i.memoizedState,a=_e();var l=a.queue.dispatch;return a.memoizedState=e,[i,l,!1]}function Aa(e,i,a,l){return e={tag:e,create:a,deps:l,inst:i,next:null},i=Rt.updateQueue,i===null&&(i=Rf(),Rt.updateQueue=i),a=i.lastEffect,a===null?i.lastEffect=e.next=e:(l=a.next,a.next=e,e.next=l,i.lastEffect=e),e}function Gu(){return{destroy:void 0,resource:void 0}}function Dg(){return _e().memoizedState}function Qu(e,i,a,l){var h=nn();l=l===void 0?null:l,Rt.flags|=e,h.memoizedState=Aa(1|i,Gu(),a,l)}function Zo(e,i,a,l){var h=_e();l=l===void 0?null:l;var d=h.memoizedState.inst;Kt!==null&&l!==null&&Ef(l,Kt.memoizedState.deps)?h.memoizedState=Aa(i,d,a,l):(Rt.flags|=e,h.memoizedState=Aa(1|i,d,a,l))}function Og(e,i){Qu(8390656,8,e,i)}function Ng(e,i){Zo(2048,8,e,i)}function Mg(e,i){return Zo(4,2,e,i)}function Vg(e,i){return Zo(4,4,e,i)}function Pg(e,i){if(typeof i=="function"){e=e();var a=i(e);return function(){typeof a=="function"?a():i(null)}}if(i!=null)return e=e(),i.current=e,function(){i.current=null}}function xg(e,i,a){a=a!=null?a.concat([e]):null,Zo(4,4,Pg.bind(null,i,e),a)}function Nf(){}function kg(e,i){var a=_e();i=i===void 0?null:i;var l=a.memoizedState;return i!==null&&Ef(i,l[1])?l[0]:(a.memoizedState=[e,i],e)}function Lg(e,i){var a=_e();i=i===void 0?null:i;var l=a.memoizedState;if(i!==null&&Ef(i,l[1]))return l[0];if(l=e(),ws){on(!0);try{e()}finally{on(!1)}}return a.memoizedState=[l,i],l}function Mf(e,i,a){return a===void 0||(dr&1073741824)!==0?e.memoizedState=i:(e.memoizedState=a,e=By(),Rt.lanes|=e,Er|=e,a)}function Ug(e,i,a,l){return un(a,i)?a:Ea.current!==null?(e=Mf(e,a,l),un(e,i)||(Me=!0),e):(dr&42)===0?(Me=!0,e.memoizedState=a):(e=By(),Rt.lanes|=e,Er|=e,i)}function zg(e,i,a,l,h){var d=st.p;st.p=d!==0&&8>d?d:8;var v=K.T,T={};K.T=T,xf(e,!1,i,a);try{var w=h(),z=K.S;if(z!==null&&z(T,w),w!==null&&typeof w=="object"&&typeof w.then=="function"){var Y=AS(w,l);Jo(e,i,Y,mn(e))}else Jo(e,i,l,mn(e))}catch(Z){Jo(e,i,{then:function(){},status:"rejected",reason:Z},mn())}finally{st.p=d,K.T=v}}function CS(){}function Vf(e,i,a,l){if(e.tag!==5)throw Error(s(476));var h=Bg(e).queue;zg(e,h,i,ft,a===null?CS:function(){return Hg(e),a(l)})}function Bg(e){var i=e.memoizedState;if(i!==null)return i;i={memoizedState:ft,baseState:ft,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:xi,lastRenderedState:ft},next:null};var a={};return i.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:xi,lastRenderedState:a},next:null},e.memoizedState=i,e=e.alternate,e!==null&&(e.memoizedState=i),i}function Hg(e){var i=Bg(e).next.queue;Jo(e,i,{},mn())}function Pf(){return Qe(gl)}function qg(){return _e().memoizedState}function jg(){return _e().memoizedState}function DS(e){for(var i=e.return;i!==null;){switch(i.tag){case 24:case 3:var a=mn();e=hr(a);var l=fr(i,e,a);l!==null&&(pn(l,i,a),Qo(l,i,a)),i={cache:cf()},e.payload=i;return}i=i.return}}function OS(e,i,a){var l=mn();a={lane:l,revertLane:0,action:a,hasEagerState:!1,eagerState:null,next:null},Ku(e)?Gg(i,a):(a=Wh(e,i,a,l),a!==null&&(pn(a,e,l),Qg(a,i,l)))}function Fg(e,i,a){var l=mn();Jo(e,i,a,l)}function Jo(e,i,a,l){var h={lane:l,revertLane:0,action:a,hasEagerState:!1,eagerState:null,next:null};if(Ku(e))Gg(i,h);else{var d=e.alternate;if(e.lanes===0&&(d===null||d.lanes===0)&&(d=i.lastRenderedReducer,d!==null))try{var v=i.lastRenderedState,T=d(v,a);if(h.hasEagerState=!0,h.eagerState=T,un(T,v))return Ou(e,i,h,0),Jt===null&&Du(),!1}catch{}finally{}if(a=Wh(e,i,h,l),a!==null)return pn(a,e,l),Qg(a,i,l),!0}return!1}function xf(e,i,a,l){if(l={lane:2,revertLane:dd(),action:l,hasEagerState:!1,eagerState:null,next:null},Ku(e)){if(i)throw Error(s(479))}else i=Wh(e,a,l,2),i!==null&&pn(i,e,2)}function Ku(e){var i=e.alternate;return e===Rt||i!==null&&i===Rt}function Gg(e,i){Ta=Hu=!0;var a=e.pending;a===null?i.next=i:(i.next=a.next,a.next=i),e.pending=i}function Qg(e,i,a){if((a&4194048)!==0){var l=i.lanes;l&=e.pendingLanes,a|=l,i.lanes=a,Eo(e,a)}}var Yu={readContext:Qe,use:ju,useCallback:fe,useContext:fe,useEffect:fe,useImperativeHandle:fe,useLayoutEffect:fe,useInsertionEffect:fe,useMemo:fe,useReducer:fe,useRef:fe,useState:fe,useDebugValue:fe,useDeferredValue:fe,useTransition:fe,useSyncExternalStore:fe,useId:fe,useHostTransitionStatus:fe,useFormState:fe,useActionState:fe,useOptimistic:fe,useMemoCache:fe,useCacheRefresh:fe},Kg={readContext:Qe,use:ju,useCallback:function(e,i){return nn().memoizedState=[e,i===void 0?null:i],e},useContext:Qe,useEffect:Og,useImperativeHandle:function(e,i,a){a=a!=null?a.concat([e]):null,Qu(4194308,4,Pg.bind(null,i,e),a)},useLayoutEffect:function(e,i){return Qu(4194308,4,e,i)},useInsertionEffect:function(e,i){Qu(4,2,e,i)},useMemo:function(e,i){var a=nn();i=i===void 0?null:i;var l=e();if(ws){on(!0);try{e()}finally{on(!1)}}return a.memoizedState=[l,i],l},useReducer:function(e,i,a){var l=nn();if(a!==void 0){var h=a(i);if(ws){on(!0);try{a(i)}finally{on(!1)}}}else h=i;return l.memoizedState=l.baseState=h,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:h},l.queue=e,e=e.dispatch=OS.bind(null,Rt,e),[l.memoizedState,e]},useRef:function(e){var i=nn();return e={current:e},i.memoizedState=e},useState:function(e){e=Df(e);var i=e.queue,a=Fg.bind(null,Rt,i);return i.dispatch=a,[e.memoizedState,a]},useDebugValue:Nf,useDeferredValue:function(e,i){var a=nn();return Mf(a,e,i)},useTransition:function(){var e=Df(!1);return e=zg.bind(null,Rt,e.queue,!0,!1),nn().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,i,a){var l=Rt,h=nn();if(Bt){if(a===void 0)throw Error(s(407));a=a()}else{if(a=i(),Jt===null)throw Error(s(349));(kt&124)!==0||mg(l,i,a)}h.memoizedState=a;var d={value:a,getSnapshot:i};return h.queue=d,Og(gg.bind(null,l,d,e),[e]),l.flags|=2048,Aa(9,Gu(),pg.bind(null,l,d,a,i),null),a},useId:function(){var e=nn(),i=Jt.identifierPrefix;if(Bt){var a=Mi,l=Ni;a=(l&~(1<<32-Ge(l)-1)).toString(32)+a,i="«"+i+"R"+a,a=qu++,0<a&&(i+="H"+a.toString(32)),i+="»"}else a=bS++,i="«"+i+"r"+a.toString(32)+"»";return e.memoizedState=i},useHostTransitionStatus:Pf,useFormState:Rg,useActionState:Rg,useOptimistic:function(e){var i=nn();i.memoizedState=i.baseState=e;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return i.queue=a,i=xf.bind(null,Rt,!0,a),a.dispatch=i,[e,i]},useMemoCache:wf,useCacheRefresh:function(){return nn().memoizedState=DS.bind(null,Rt)}},Yg={readContext:Qe,use:ju,useCallback:kg,useContext:Qe,useEffect:Ng,useImperativeHandle:xg,useInsertionEffect:Mg,useLayoutEffect:Vg,useMemo:Lg,useReducer:Fu,useRef:Dg,useState:function(){return Fu(xi)},useDebugValue:Nf,useDeferredValue:function(e,i){var a=_e();return Ug(a,Kt.memoizedState,e,i)},useTransition:function(){var e=Fu(xi)[0],i=_e().memoizedState;return[typeof e=="boolean"?e:$o(e),i]},useSyncExternalStore:dg,useId:qg,useHostTransitionStatus:Pf,useFormState:wg,useActionState:wg,useOptimistic:function(e,i){var a=_e();return vg(a,Kt,e,i)},useMemoCache:wf,useCacheRefresh:jg},NS={readContext:Qe,use:ju,useCallback:kg,useContext:Qe,useEffect:Ng,useImperativeHandle:xg,useInsertionEffect:Mg,useLayoutEffect:Vg,useMemo:Lg,useReducer:Cf,useRef:Dg,useState:function(){return Cf(xi)},useDebugValue:Nf,useDeferredValue:function(e,i){var a=_e();return Kt===null?Mf(a,e,i):Ug(a,Kt.memoizedState,e,i)},useTransition:function(){var e=Cf(xi)[0],i=_e().memoizedState;return[typeof e=="boolean"?e:$o(e),i]},useSyncExternalStore:dg,useId:qg,useHostTransitionStatus:Pf,useFormState:Cg,useActionState:Cg,useOptimistic:function(e,i){var a=_e();return Kt!==null?vg(a,Kt,e,i):(a.baseState=e,[e,a.queue.dispatch])},useMemoCache:wf,useCacheRefresh:jg},ba=null,Wo=0;function Xu(e){var i=Wo;return Wo+=1,ba===null&&(ba=[]),sg(ba,e,i)}function tl(e,i){i=i.props.ref,e.ref=i!==void 0?i:null}function $u(e,i){throw i.$$typeof===A?Error(s(525)):(e=Object.prototype.toString.call(i),Error(s(31,e==="[object Object]"?"object with keys {"+Object.keys(i).join(", ")+"}":e)))}function Xg(e){var i=e._init;return i(e._payload)}function $g(e){function i(P,O){if(e){var U=P.deletions;U===null?(P.deletions=[O],P.flags|=16):U.push(O)}}function a(P,O){if(!e)return null;for(;O!==null;)i(P,O),O=O.sibling;return null}function l(P){for(var O=new Map;P!==null;)P.key!==null?O.set(P.key,P):O.set(P.index,P),P=P.sibling;return O}function h(P,O){return P=Oi(P,O),P.index=0,P.sibling=null,P}function d(P,O,U){return P.index=U,e?(U=P.alternate,U!==null?(U=U.index,U<O?(P.flags|=67108866,O):U):(P.flags|=67108866,O)):(P.flags|=1048576,O)}function v(P){return e&&P.alternate===null&&(P.flags|=67108866),P}function T(P,O,U,X){return O===null||O.tag!==6?(O=ef(U,P.mode,X),O.return=P,O):(O=h(O,U),O.return=P,O)}function w(P,O,U,X){var lt=U.type;return lt===F?Y(P,O,U.props.children,X,U.key):O!==null&&(O.elementType===lt||typeof lt=="object"&&lt!==null&&lt.$$typeof===b&&Xg(lt)===O.type)?(O=h(O,U.props),tl(O,U),O.return=P,O):(O=Mu(U.type,U.key,U.props,null,P.mode,X),tl(O,U),O.return=P,O)}function z(P,O,U,X){return O===null||O.tag!==4||O.stateNode.containerInfo!==U.containerInfo||O.stateNode.implementation!==U.implementation?(O=nf(U,P.mode,X),O.return=P,O):(O=h(O,U.children||[]),O.return=P,O)}function Y(P,O,U,X,lt){return O===null||O.tag!==7?(O=_s(U,P.mode,X,lt),O.return=P,O):(O=h(O,U),O.return=P,O)}function Z(P,O,U){if(typeof O=="string"&&O!==""||typeof O=="number"||typeof O=="bigint")return O=ef(""+O,P.mode,U),O.return=P,O;if(typeof O=="object"&&O!==null){switch(O.$$typeof){case R:return U=Mu(O.type,O.key,O.props,null,P.mode,U),tl(U,O),U.return=P,U;case k:return O=nf(O,P.mode,U),O.return=P,O;case b:var X=O._init;return O=X(O._payload),Z(P,O,U)}if(oe(O)||x(O))return O=_s(O,P.mode,U,null),O.return=P,O;if(typeof O.then=="function")return Z(P,Xu(O),U);if(O.$$typeof===it)return Z(P,ku(P,O),U);$u(P,O)}return null}function B(P,O,U,X){var lt=O!==null?O.key:null;if(typeof U=="string"&&U!==""||typeof U=="number"||typeof U=="bigint")return lt!==null?null:T(P,O,""+U,X);if(typeof U=="object"&&U!==null){switch(U.$$typeof){case R:return U.key===lt?w(P,O,U,X):null;case k:return U.key===lt?z(P,O,U,X):null;case b:return lt=U._init,U=lt(U._payload),B(P,O,U,X)}if(oe(U)||x(U))return lt!==null?null:Y(P,O,U,X,null);if(typeof U.then=="function")return B(P,O,Xu(U),X);if(U.$$typeof===it)return B(P,O,ku(P,U),X);$u(P,U)}return null}function H(P,O,U,X,lt){if(typeof X=="string"&&X!==""||typeof X=="number"||typeof X=="bigint")return P=P.get(U)||null,T(O,P,""+X,lt);if(typeof X=="object"&&X!==null){switch(X.$$typeof){case R:return P=P.get(X.key===null?U:X.key)||null,w(O,P,X,lt);case k:return P=P.get(X.key===null?U:X.key)||null,z(O,P,X,lt);case b:var It=X._init;return X=It(X._payload),H(P,O,U,X,lt)}if(oe(X)||x(X))return P=P.get(U)||null,Y(O,P,X,lt,null);if(typeof X.then=="function")return H(P,O,U,Xu(X),lt);if(X.$$typeof===it)return H(P,O,U,ku(O,X),lt);$u(O,X)}return null}function _t(P,O,U,X){for(var lt=null,It=null,ht=O,gt=O=0,Pe=null;ht!==null&&gt<U.length;gt++){ht.index>gt?(Pe=ht,ht=null):Pe=ht.sibling;var Ut=B(P,ht,U[gt],X);if(Ut===null){ht===null&&(ht=Pe);break}e&&ht&&Ut.alternate===null&&i(P,ht),O=d(Ut,O,gt),It===null?lt=Ut:It.sibling=Ut,It=Ut,ht=Pe}if(gt===U.length)return a(P,ht),Bt&&Es(P,gt),lt;if(ht===null){for(;gt<U.length;gt++)ht=Z(P,U[gt],X),ht!==null&&(O=d(ht,O,gt),It===null?lt=ht:It.sibling=ht,It=ht);return Bt&&Es(P,gt),lt}for(ht=l(ht);gt<U.length;gt++)Pe=H(ht,P,gt,U[gt],X),Pe!==null&&(e&&Pe.alternate!==null&&ht.delete(Pe.key===null?gt:Pe.key),O=d(Pe,O,gt),It===null?lt=Pe:It.sibling=Pe,It=Pe);return e&&ht.forEach(function(Dr){return i(P,Dr)}),Bt&&Es(P,gt),lt}function pt(P,O,U,X){if(U==null)throw Error(s(151));for(var lt=null,It=null,ht=O,gt=O=0,Pe=null,Ut=U.next();ht!==null&&!Ut.done;gt++,Ut=U.next()){ht.index>gt?(Pe=ht,ht=null):Pe=ht.sibling;var Dr=B(P,ht,Ut.value,X);if(Dr===null){ht===null&&(ht=Pe);break}e&&ht&&Dr.alternate===null&&i(P,ht),O=d(Dr,O,gt),It===null?lt=Dr:It.sibling=Dr,It=Dr,ht=Pe}if(Ut.done)return a(P,ht),Bt&&Es(P,gt),lt;if(ht===null){for(;!Ut.done;gt++,Ut=U.next())Ut=Z(P,Ut.value,X),Ut!==null&&(O=d(Ut,O,gt),It===null?lt=Ut:It.sibling=Ut,It=Ut);return Bt&&Es(P,gt),lt}for(ht=l(ht);!Ut.done;gt++,Ut=U.next())Ut=H(ht,P,gt,Ut.value,X),Ut!==null&&(e&&Ut.alternate!==null&&ht.delete(Ut.key===null?gt:Ut.key),O=d(Ut,O,gt),It===null?lt=Ut:It.sibling=Ut,It=Ut);return e&&ht.forEach(function(MA){return i(P,MA)}),Bt&&Es(P,gt),lt}function Xt(P,O,U,X){if(typeof U=="object"&&U!==null&&U.type===F&&U.key===null&&(U=U.props.children),typeof U=="object"&&U!==null){switch(U.$$typeof){case R:t:{for(var lt=U.key;O!==null;){if(O.key===lt){if(lt=U.type,lt===F){if(O.tag===7){a(P,O.sibling),X=h(O,U.props.children),X.return=P,P=X;break t}}else if(O.elementType===lt||typeof lt=="object"&&lt!==null&&lt.$$typeof===b&&Xg(lt)===O.type){a(P,O.sibling),X=h(O,U.props),tl(X,U),X.return=P,P=X;break t}a(P,O);break}else i(P,O);O=O.sibling}U.type===F?(X=_s(U.props.children,P.mode,X,U.key),X.return=P,P=X):(X=Mu(U.type,U.key,U.props,null,P.mode,X),tl(X,U),X.return=P,P=X)}return v(P);case k:t:{for(lt=U.key;O!==null;){if(O.key===lt)if(O.tag===4&&O.stateNode.containerInfo===U.containerInfo&&O.stateNode.implementation===U.implementation){a(P,O.sibling),X=h(O,U.children||[]),X.return=P,P=X;break t}else{a(P,O);break}else i(P,O);O=O.sibling}X=nf(U,P.mode,X),X.return=P,P=X}return v(P);case b:return lt=U._init,U=lt(U._payload),Xt(P,O,U,X)}if(oe(U))return _t(P,O,U,X);if(x(U)){if(lt=x(U),typeof lt!="function")throw Error(s(150));return U=lt.call(U),pt(P,O,U,X)}if(typeof U.then=="function")return Xt(P,O,Xu(U),X);if(U.$$typeof===it)return Xt(P,O,ku(P,U),X);$u(P,U)}return typeof U=="string"&&U!==""||typeof U=="number"||typeof U=="bigint"?(U=""+U,O!==null&&O.tag===6?(a(P,O.sibling),X=h(O,U),X.return=P,P=X):(a(P,O),X=ef(U,P.mode,X),X.return=P,P=X),v(P)):a(P,O)}return function(P,O,U,X){try{Wo=0;var lt=Xt(P,O,U,X);return ba=null,lt}catch(ht){if(ht===Fo||ht===Uu)throw ht;var It=cn(29,ht,null,P.mode);return It.lanes=X,It.return=P,It}finally{}}}var Ra=$g(!0),Zg=$g(!1),In=W(null),ri=null;function mr(e){var i=e.alternate;nt(Re,Re.current&1),nt(In,e),ri===null&&(i===null||Ea.current!==null||i.memoizedState!==null)&&(ri=e)}function Jg(e){if(e.tag===22){if(nt(Re,Re.current),nt(In,e),ri===null){var i=e.alternate;i!==null&&i.memoizedState!==null&&(ri=e)}}else pr()}function pr(){nt(Re,Re.current),nt(In,In.current)}function ki(e){at(In),ri===e&&(ri=null),at(Re)}var Re=W(0);function Zu(e){for(var i=e;i!==null;){if(i.tag===13){var a=i.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||a.data==="$?"||Rd(a)))return i}else if(i.tag===19&&i.memoizedProps.revealOrder!==void 0){if((i.flags&128)!==0)return i}else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===e)break;for(;i.sibling===null;){if(i.return===null||i.return===e)return null;i=i.return}i.sibling.return=i.return,i=i.sibling}return null}function kf(e,i,a,l){i=e.memoizedState,a=a(l,i),a=a==null?i:E({},i,a),e.memoizedState=a,e.lanes===0&&(e.updateQueue.baseState=a)}var Lf={enqueueSetState:function(e,i,a){e=e._reactInternals;var l=mn(),h=hr(l);h.payload=i,a!=null&&(h.callback=a),i=fr(e,h,l),i!==null&&(pn(i,e,l),Qo(i,e,l))},enqueueReplaceState:function(e,i,a){e=e._reactInternals;var l=mn(),h=hr(l);h.tag=1,h.payload=i,a!=null&&(h.callback=a),i=fr(e,h,l),i!==null&&(pn(i,e,l),Qo(i,e,l))},enqueueForceUpdate:function(e,i){e=e._reactInternals;var a=mn(),l=hr(a);l.tag=2,i!=null&&(l.callback=i),i=fr(e,l,a),i!==null&&(pn(i,e,a),Qo(i,e,a))}};function Wg(e,i,a,l,h,d,v){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(l,d,v):i.prototype&&i.prototype.isPureReactComponent?!ko(a,l)||!ko(h,d):!0}function ty(e,i,a,l){e=i.state,typeof i.componentWillReceiveProps=="function"&&i.componentWillReceiveProps(a,l),typeof i.UNSAFE_componentWillReceiveProps=="function"&&i.UNSAFE_componentWillReceiveProps(a,l),i.state!==e&&Lf.enqueueReplaceState(i,i.state,null)}function Is(e,i){var a=i;if("ref"in i){a={};for(var l in i)l!=="ref"&&(a[l]=i[l])}if(e=e.defaultProps){a===i&&(a=E({},a));for(var h in e)a[h]===void 0&&(a[h]=e[h])}return a}var Ju=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var i=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(i))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)};function ey(e){Ju(e)}function ny(e){console.error(e)}function iy(e){Ju(e)}function Wu(e,i){try{var a=e.onUncaughtError;a(i.value,{componentStack:i.stack})}catch(l){setTimeout(function(){throw l})}}function ry(e,i,a){try{var l=e.onCaughtError;l(a.value,{componentStack:a.stack,errorBoundary:i.tag===1?i.stateNode:null})}catch(h){setTimeout(function(){throw h})}}function Uf(e,i,a){return a=hr(a),a.tag=3,a.payload={element:null},a.callback=function(){Wu(e,i)},a}function sy(e){return e=hr(e),e.tag=3,e}function ay(e,i,a,l){var h=a.type.getDerivedStateFromError;if(typeof h=="function"){var d=l.value;e.payload=function(){return h(d)},e.callback=function(){ry(i,a,l)}}var v=a.stateNode;v!==null&&typeof v.componentDidCatch=="function"&&(e.callback=function(){ry(i,a,l),typeof h!="function"&&(Tr===null?Tr=new Set([this]):Tr.add(this));var T=l.stack;this.componentDidCatch(l.value,{componentStack:T!==null?T:""})})}function MS(e,i,a,l,h){if(a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(i=a.alternate,i!==null&&Ho(i,a,h,!0),a=In.current,a!==null){switch(a.tag){case 13:return ri===null?ld():a.alternate===null&&ce===0&&(ce=3),a.flags&=-257,a.flags|=65536,a.lanes=h,l===df?a.flags|=16384:(i=a.updateQueue,i===null?a.updateQueue=new Set([l]):i.add(l),cd(e,l,h)),!1;case 22:return a.flags|=65536,l===df?a.flags|=16384:(i=a.updateQueue,i===null?(i={transitions:null,markerInstances:null,retryQueue:new Set([l])},a.updateQueue=i):(a=i.retryQueue,a===null?i.retryQueue=new Set([l]):a.add(l)),cd(e,l,h)),!1}throw Error(s(435,a.tag))}return cd(e,l,h),ld(),!1}if(Bt)return i=In.current,i!==null?((i.flags&65536)===0&&(i.flags|=256),i.flags|=65536,i.lanes=h,l!==af&&(e=Error(s(422),{cause:l}),Bo(An(e,a)))):(l!==af&&(i=Error(s(423),{cause:l}),Bo(An(i,a))),e=e.current.alternate,e.flags|=65536,h&=-h,e.lanes|=h,l=An(l,a),h=Uf(e.stateNode,l,h),gf(e,h),ce!==4&&(ce=2)),!1;var d=Error(s(520),{cause:l});if(d=An(d,a),ol===null?ol=[d]:ol.push(d),ce!==4&&(ce=2),i===null)return!0;l=An(l,a),a=i;do{switch(a.tag){case 3:return a.flags|=65536,e=h&-h,a.lanes|=e,e=Uf(a.stateNode,l,e),gf(a,e),!1;case 1:if(i=a.type,d=a.stateNode,(a.flags&128)===0&&(typeof i.getDerivedStateFromError=="function"||d!==null&&typeof d.componentDidCatch=="function"&&(Tr===null||!Tr.has(d))))return a.flags|=65536,h&=-h,a.lanes|=h,h=sy(h),ay(h,e,a,l),gf(a,h),!1}a=a.return}while(a!==null);return!1}var oy=Error(s(461)),Me=!1;function ze(e,i,a,l){i.child=e===null?Zg(i,null,a,l):Ra(i,e.child,a,l)}function ly(e,i,a,l,h){a=a.render;var d=i.ref;if("ref"in l){var v={};for(var T in l)T!=="ref"&&(v[T]=l[T])}else v=l;return bs(i),l=Tf(e,i,a,v,d,h),T=Sf(),e!==null&&!Me?(Af(e,i,h),Li(e,i,h)):(Bt&&T&&rf(i),i.flags|=1,ze(e,i,l,h),i.child)}function uy(e,i,a,l,h){if(e===null){var d=a.type;return typeof d=="function"&&!tf(d)&&d.defaultProps===void 0&&a.compare===null?(i.tag=15,i.type=d,cy(e,i,d,l,h)):(e=Mu(a.type,null,l,i,i.mode,h),e.ref=i.ref,e.return=i,i.child=e)}if(d=e.child,!Qf(e,h)){var v=d.memoizedProps;if(a=a.compare,a=a!==null?a:ko,a(v,l)&&e.ref===i.ref)return Li(e,i,h)}return i.flags|=1,e=Oi(d,l),e.ref=i.ref,e.return=i,i.child=e}function cy(e,i,a,l,h){if(e!==null){var d=e.memoizedProps;if(ko(d,l)&&e.ref===i.ref)if(Me=!1,i.pendingProps=l=d,Qf(e,h))(e.flags&131072)!==0&&(Me=!0);else return i.lanes=e.lanes,Li(e,i,h)}return zf(e,i,a,l,h)}function hy(e,i,a){var l=i.pendingProps,h=l.children,d=e!==null?e.memoizedState:null;if(l.mode==="hidden"){if((i.flags&128)!==0){if(l=d!==null?d.baseLanes|a:a,e!==null){for(h=i.child=e.child,d=0;h!==null;)d=d|h.lanes|h.childLanes,h=h.sibling;i.childLanes=d&~l}else i.childLanes=0,i.child=null;return fy(e,i,l,a)}if((a&536870912)!==0)i.memoizedState={baseLanes:0,cachePool:null},e!==null&&Lu(i,d!==null?d.cachePool:null),d!==null?cg(i,d):_f(),Jg(i);else return i.lanes=i.childLanes=536870912,fy(e,i,d!==null?d.baseLanes|a:a,a)}else d!==null?(Lu(i,d.cachePool),cg(i,d),pr(),i.memoizedState=null):(e!==null&&Lu(i,null),_f(),pr());return ze(e,i,h,a),i.child}function fy(e,i,a,l){var h=ff();return h=h===null?null:{parent:be._currentValue,pool:h},i.memoizedState={baseLanes:a,cachePool:h},e!==null&&Lu(i,null),_f(),Jg(i),e!==null&&Ho(e,i,l,!0),null}function tc(e,i){var a=i.ref;if(a===null)e!==null&&e.ref!==null&&(i.flags|=4194816);else{if(typeof a!="function"&&typeof a!="object")throw Error(s(284));(e===null||e.ref!==a)&&(i.flags|=4194816)}}function zf(e,i,a,l,h){return bs(i),a=Tf(e,i,a,l,void 0,h),l=Sf(),e!==null&&!Me?(Af(e,i,h),Li(e,i,h)):(Bt&&l&&rf(i),i.flags|=1,ze(e,i,a,h),i.child)}function dy(e,i,a,l,h,d){return bs(i),i.updateQueue=null,a=fg(i,l,a,h),hg(e),l=Sf(),e!==null&&!Me?(Af(e,i,d),Li(e,i,d)):(Bt&&l&&rf(i),i.flags|=1,ze(e,i,a,d),i.child)}function my(e,i,a,l,h){if(bs(i),i.stateNode===null){var d=pa,v=a.contextType;typeof v=="object"&&v!==null&&(d=Qe(v)),d=new a(l,d),i.memoizedState=d.state!==null&&d.state!==void 0?d.state:null,d.updater=Lf,i.stateNode=d,d._reactInternals=i,d=i.stateNode,d.props=l,d.state=i.memoizedState,d.refs={},mf(i),v=a.contextType,d.context=typeof v=="object"&&v!==null?Qe(v):pa,d.state=i.memoizedState,v=a.getDerivedStateFromProps,typeof v=="function"&&(kf(i,a,v,l),d.state=i.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof d.getSnapshotBeforeUpdate=="function"||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(v=d.state,typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount(),v!==d.state&&Lf.enqueueReplaceState(d,d.state,null),Yo(i,l,d,h),Ko(),d.state=i.memoizedState),typeof d.componentDidMount=="function"&&(i.flags|=4194308),l=!0}else if(e===null){d=i.stateNode;var T=i.memoizedProps,w=Is(a,T);d.props=w;var z=d.context,Y=a.contextType;v=pa,typeof Y=="object"&&Y!==null&&(v=Qe(Y));var Z=a.getDerivedStateFromProps;Y=typeof Z=="function"||typeof d.getSnapshotBeforeUpdate=="function",T=i.pendingProps!==T,Y||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(T||z!==v)&&ty(i,d,l,v),cr=!1;var B=i.memoizedState;d.state=B,Yo(i,l,d,h),Ko(),z=i.memoizedState,T||B!==z||cr?(typeof Z=="function"&&(kf(i,a,Z,l),z=i.memoizedState),(w=cr||Wg(i,a,w,l,B,z,v))?(Y||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount()),typeof d.componentDidMount=="function"&&(i.flags|=4194308)):(typeof d.componentDidMount=="function"&&(i.flags|=4194308),i.memoizedProps=l,i.memoizedState=z),d.props=l,d.state=z,d.context=v,l=w):(typeof d.componentDidMount=="function"&&(i.flags|=4194308),l=!1)}else{d=i.stateNode,pf(e,i),v=i.memoizedProps,Y=Is(a,v),d.props=Y,Z=i.pendingProps,B=d.context,z=a.contextType,w=pa,typeof z=="object"&&z!==null&&(w=Qe(z)),T=a.getDerivedStateFromProps,(z=typeof T=="function"||typeof d.getSnapshotBeforeUpdate=="function")||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(v!==Z||B!==w)&&ty(i,d,l,w),cr=!1,B=i.memoizedState,d.state=B,Yo(i,l,d,h),Ko();var H=i.memoizedState;v!==Z||B!==H||cr||e!==null&&e.dependencies!==null&&xu(e.dependencies)?(typeof T=="function"&&(kf(i,a,T,l),H=i.memoizedState),(Y=cr||Wg(i,a,Y,l,B,H,w)||e!==null&&e.dependencies!==null&&xu(e.dependencies))?(z||typeof d.UNSAFE_componentWillUpdate!="function"&&typeof d.componentWillUpdate!="function"||(typeof d.componentWillUpdate=="function"&&d.componentWillUpdate(l,H,w),typeof d.UNSAFE_componentWillUpdate=="function"&&d.UNSAFE_componentWillUpdate(l,H,w)),typeof d.componentDidUpdate=="function"&&(i.flags|=4),typeof d.getSnapshotBeforeUpdate=="function"&&(i.flags|=1024)):(typeof d.componentDidUpdate!="function"||v===e.memoizedProps&&B===e.memoizedState||(i.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||v===e.memoizedProps&&B===e.memoizedState||(i.flags|=1024),i.memoizedProps=l,i.memoizedState=H),d.props=l,d.state=H,d.context=w,l=Y):(typeof d.componentDidUpdate!="function"||v===e.memoizedProps&&B===e.memoizedState||(i.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||v===e.memoizedProps&&B===e.memoizedState||(i.flags|=1024),l=!1)}return d=l,tc(e,i),l=(i.flags&128)!==0,d||l?(d=i.stateNode,a=l&&typeof a.getDerivedStateFromError!="function"?null:d.render(),i.flags|=1,e!==null&&l?(i.child=Ra(i,e.child,null,h),i.child=Ra(i,null,a,h)):ze(e,i,a,h),i.memoizedState=d.state,e=i.child):e=Li(e,i,h),e}function py(e,i,a,l){return zo(),i.flags|=256,ze(e,i,a,l),i.child}var Bf={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Hf(e){return{baseLanes:e,cachePool:ng()}}function qf(e,i,a){return e=e!==null?e.childLanes&~a:0,i&&(e|=Cn),e}function gy(e,i,a){var l=i.pendingProps,h=!1,d=(i.flags&128)!==0,v;if((v=d)||(v=e!==null&&e.memoizedState===null?!1:(Re.current&2)!==0),v&&(h=!0,i.flags&=-129),v=(i.flags&32)!==0,i.flags&=-33,e===null){if(Bt){if(h?mr(i):pr(),Bt){var T=ue,w;if(w=T){t:{for(w=T,T=ii;w.nodeType!==8;){if(!T){T=null;break t}if(w=Un(w.nextSibling),w===null){T=null;break t}}T=w}T!==null?(i.memoizedState={dehydrated:T,treeContext:vs!==null?{id:Ni,overflow:Mi}:null,retryLane:536870912,hydrationErrors:null},w=cn(18,null,null,0),w.stateNode=T,w.return=i,i.child=w,en=i,ue=null,w=!0):w=!1}w||Ss(i)}if(T=i.memoizedState,T!==null&&(T=T.dehydrated,T!==null))return Rd(T)?i.lanes=32:i.lanes=536870912,null;ki(i)}return T=l.children,l=l.fallback,h?(pr(),h=i.mode,T=ec({mode:"hidden",children:T},h),l=_s(l,h,a,null),T.return=i,l.return=i,T.sibling=l,i.child=T,h=i.child,h.memoizedState=Hf(a),h.childLanes=qf(e,v,a),i.memoizedState=Bf,l):(mr(i),jf(i,T))}if(w=e.memoizedState,w!==null&&(T=w.dehydrated,T!==null)){if(d)i.flags&256?(mr(i),i.flags&=-257,i=Ff(e,i,a)):i.memoizedState!==null?(pr(),i.child=e.child,i.flags|=128,i=null):(pr(),h=l.fallback,T=i.mode,l=ec({mode:"visible",children:l.children},T),h=_s(h,T,a,null),h.flags|=2,l.return=i,h.return=i,l.sibling=h,i.child=l,Ra(i,e.child,null,a),l=i.child,l.memoizedState=Hf(a),l.childLanes=qf(e,v,a),i.memoizedState=Bf,i=h);else if(mr(i),Rd(T)){if(v=T.nextSibling&&T.nextSibling.dataset,v)var z=v.dgst;v=z,l=Error(s(419)),l.stack="",l.digest=v,Bo({value:l,source:null,stack:null}),i=Ff(e,i,a)}else if(Me||Ho(e,i,a,!1),v=(a&e.childLanes)!==0,Me||v){if(v=Jt,v!==null&&(l=a&-a,l=(l&42)!==0?1:nr(l),l=(l&(v.suspendedLanes|a))!==0?0:l,l!==0&&l!==w.retryLane))throw w.retryLane=l,ma(e,l),pn(v,e,l),oy;T.data==="$?"||ld(),i=Ff(e,i,a)}else T.data==="$?"?(i.flags|=192,i.child=e.child,i=null):(e=w.treeContext,ue=Un(T.nextSibling),en=i,Bt=!0,Ts=null,ii=!1,e!==null&&(Rn[wn++]=Ni,Rn[wn++]=Mi,Rn[wn++]=vs,Ni=e.id,Mi=e.overflow,vs=i),i=jf(i,l.children),i.flags|=4096);return i}return h?(pr(),h=l.fallback,T=i.mode,w=e.child,z=w.sibling,l=Oi(w,{mode:"hidden",children:l.children}),l.subtreeFlags=w.subtreeFlags&65011712,z!==null?h=Oi(z,h):(h=_s(h,T,a,null),h.flags|=2),h.return=i,l.return=i,l.sibling=h,i.child=l,l=h,h=i.child,T=e.child.memoizedState,T===null?T=Hf(a):(w=T.cachePool,w!==null?(z=be._currentValue,w=w.parent!==z?{parent:z,pool:z}:w):w=ng(),T={baseLanes:T.baseLanes|a,cachePool:w}),h.memoizedState=T,h.childLanes=qf(e,v,a),i.memoizedState=Bf,l):(mr(i),a=e.child,e=a.sibling,a=Oi(a,{mode:"visible",children:l.children}),a.return=i,a.sibling=null,e!==null&&(v=i.deletions,v===null?(i.deletions=[e],i.flags|=16):v.push(e)),i.child=a,i.memoizedState=null,a)}function jf(e,i){return i=ec({mode:"visible",children:i},e.mode),i.return=e,e.child=i}function ec(e,i){return e=cn(22,e,null,i),e.lanes=0,e.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},e}function Ff(e,i,a){return Ra(i,e.child,null,a),e=jf(i,i.pendingProps.children),e.flags|=2,i.memoizedState=null,e}function yy(e,i,a){e.lanes|=i;var l=e.alternate;l!==null&&(l.lanes|=i),lf(e.return,i,a)}function Gf(e,i,a,l,h){var d=e.memoizedState;d===null?e.memoizedState={isBackwards:i,rendering:null,renderingStartTime:0,last:l,tail:a,tailMode:h}:(d.isBackwards=i,d.rendering=null,d.renderingStartTime=0,d.last=l,d.tail=a,d.tailMode=h)}function _y(e,i,a){var l=i.pendingProps,h=l.revealOrder,d=l.tail;if(ze(e,i,l.children,a),l=Re.current,(l&2)!==0)l=l&1|2,i.flags|=128;else{if(e!==null&&(e.flags&128)!==0)t:for(e=i.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&yy(e,a,i);else if(e.tag===19)yy(e,a,i);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===i)break t;for(;e.sibling===null;){if(e.return===null||e.return===i)break t;e=e.return}e.sibling.return=e.return,e=e.sibling}l&=1}switch(nt(Re,l),h){case"forwards":for(a=i.child,h=null;a!==null;)e=a.alternate,e!==null&&Zu(e)===null&&(h=a),a=a.sibling;a=h,a===null?(h=i.child,i.child=null):(h=a.sibling,a.sibling=null),Gf(i,!1,h,a,d);break;case"backwards":for(a=null,h=i.child,i.child=null;h!==null;){if(e=h.alternate,e!==null&&Zu(e)===null){i.child=h;break}e=h.sibling,h.sibling=a,a=h,h=e}Gf(i,!0,a,null,d);break;case"together":Gf(i,!1,null,null,void 0);break;default:i.memoizedState=null}return i.child}function Li(e,i,a){if(e!==null&&(i.dependencies=e.dependencies),Er|=i.lanes,(a&i.childLanes)===0)if(e!==null){if(Ho(e,i,a,!1),(a&i.childLanes)===0)return null}else return null;if(e!==null&&i.child!==e.child)throw Error(s(153));if(i.child!==null){for(e=i.child,a=Oi(e,e.pendingProps),i.child=a,a.return=i;e.sibling!==null;)e=e.sibling,a=a.sibling=Oi(e,e.pendingProps),a.return=i;a.sibling=null}return i.child}function Qf(e,i){return(e.lanes&i)!==0?!0:(e=e.dependencies,!!(e!==null&&xu(e)))}function VS(e,i,a){switch(i.tag){case 3:Zt(i,i.stateNode.containerInfo),ur(i,be,e.memoizedState.cache),zo();break;case 27:case 5:er(i);break;case 4:Zt(i,i.stateNode.containerInfo);break;case 10:ur(i,i.type,i.memoizedProps.value);break;case 13:var l=i.memoizedState;if(l!==null)return l.dehydrated!==null?(mr(i),i.flags|=128,null):(a&i.child.childLanes)!==0?gy(e,i,a):(mr(i),e=Li(e,i,a),e!==null?e.sibling:null);mr(i);break;case 19:var h=(e.flags&128)!==0;if(l=(a&i.childLanes)!==0,l||(Ho(e,i,a,!1),l=(a&i.childLanes)!==0),h){if(l)return _y(e,i,a);i.flags|=128}if(h=i.memoizedState,h!==null&&(h.rendering=null,h.tail=null,h.lastEffect=null),nt(Re,Re.current),l)break;return null;case 22:case 23:return i.lanes=0,hy(e,i,a);case 24:ur(i,be,e.memoizedState.cache)}return Li(e,i,a)}function vy(e,i,a){if(e!==null)if(e.memoizedProps!==i.pendingProps)Me=!0;else{if(!Qf(e,a)&&(i.flags&128)===0)return Me=!1,VS(e,i,a);Me=(e.flags&131072)!==0}else Me=!1,Bt&&(i.flags&1048576)!==0&&Xp(i,Pu,i.index);switch(i.lanes=0,i.tag){case 16:t:{e=i.pendingProps;var l=i.elementType,h=l._init;if(l=h(l._payload),i.type=l,typeof l=="function")tf(l)?(e=Is(l,e),i.tag=1,i=my(null,i,l,e,a)):(i.tag=0,i=zf(null,i,l,e,a));else{if(l!=null){if(h=l.$$typeof,h===Tt){i.tag=11,i=ly(null,i,l,e,a);break t}else if(h===M){i.tag=14,i=uy(null,i,l,e,a);break t}}throw i=ke(l)||l,Error(s(306,i,""))}}return i;case 0:return zf(e,i,i.type,i.pendingProps,a);case 1:return l=i.type,h=Is(l,i.pendingProps),my(e,i,l,h,a);case 3:t:{if(Zt(i,i.stateNode.containerInfo),e===null)throw Error(s(387));l=i.pendingProps;var d=i.memoizedState;h=d.element,pf(e,i),Yo(i,l,null,a);var v=i.memoizedState;if(l=v.cache,ur(i,be,l),l!==d.cache&&uf(i,[be],a,!0),Ko(),l=v.element,d.isDehydrated)if(d={element:l,isDehydrated:!1,cache:v.cache},i.updateQueue.baseState=d,i.memoizedState=d,i.flags&256){i=py(e,i,l,a);break t}else if(l!==h){h=An(Error(s(424)),i),Bo(h),i=py(e,i,l,a);break t}else{switch(e=i.stateNode.containerInfo,e.nodeType){case 9:e=e.body;break;default:e=e.nodeName==="HTML"?e.ownerDocument.body:e}for(ue=Un(e.firstChild),en=i,Bt=!0,Ts=null,ii=!0,a=Zg(i,null,l,a),i.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling}else{if(zo(),l===h){i=Li(e,i,a);break t}ze(e,i,l,a)}i=i.child}return i;case 26:return tc(e,i),e===null?(a=A_(i.type,null,i.pendingProps,null))?i.memoizedState=a:Bt||(a=i.type,e=i.pendingProps,l=pc(Et.current).createElement(a),l[Te]=i,l[pe]=e,He(l,a,e),he(l),i.stateNode=l):i.memoizedState=A_(i.type,e.memoizedProps,i.pendingProps,e.memoizedState),null;case 27:return er(i),e===null&&Bt&&(l=i.stateNode=E_(i.type,i.pendingProps,Et.current),en=i,ii=!0,h=ue,br(i.type)?(wd=h,ue=Un(l.firstChild)):ue=h),ze(e,i,i.pendingProps.children,a),tc(e,i),e===null&&(i.flags|=4194304),i.child;case 5:return e===null&&Bt&&((h=l=ue)&&(l=oA(l,i.type,i.pendingProps,ii),l!==null?(i.stateNode=l,en=i,ue=Un(l.firstChild),ii=!1,h=!0):h=!1),h||Ss(i)),er(i),h=i.type,d=i.pendingProps,v=e!==null?e.memoizedProps:null,l=d.children,Sd(h,d)?l=null:v!==null&&Sd(h,v)&&(i.flags|=32),i.memoizedState!==null&&(h=Tf(e,i,RS,null,null,a),gl._currentValue=h),tc(e,i),ze(e,i,l,a),i.child;case 6:return e===null&&Bt&&((e=a=ue)&&(a=lA(a,i.pendingProps,ii),a!==null?(i.stateNode=a,en=i,ue=null,e=!0):e=!1),e||Ss(i)),null;case 13:return gy(e,i,a);case 4:return Zt(i,i.stateNode.containerInfo),l=i.pendingProps,e===null?i.child=Ra(i,null,l,a):ze(e,i,l,a),i.child;case 11:return ly(e,i,i.type,i.pendingProps,a);case 7:return ze(e,i,i.pendingProps,a),i.child;case 8:return ze(e,i,i.pendingProps.children,a),i.child;case 12:return ze(e,i,i.pendingProps.children,a),i.child;case 10:return l=i.pendingProps,ur(i,i.type,l.value),ze(e,i,l.children,a),i.child;case 9:return h=i.type._context,l=i.pendingProps.children,bs(i),h=Qe(h),l=l(h),i.flags|=1,ze(e,i,l,a),i.child;case 14:return uy(e,i,i.type,i.pendingProps,a);case 15:return cy(e,i,i.type,i.pendingProps,a);case 19:return _y(e,i,a);case 31:return l=i.pendingProps,a=i.mode,l={mode:l.mode,children:l.children},e===null?(a=ec(l,a),a.ref=i.ref,i.child=a,a.return=i,i=a):(a=Oi(e.child,l),a.ref=i.ref,i.child=a,a.return=i,i=a),i;case 22:return hy(e,i,a);case 24:return bs(i),l=Qe(be),e===null?(h=ff(),h===null&&(h=Jt,d=cf(),h.pooledCache=d,d.refCount++,d!==null&&(h.pooledCacheLanes|=a),h=d),i.memoizedState={parent:l,cache:h},mf(i),ur(i,be,h)):((e.lanes&a)!==0&&(pf(e,i),Yo(i,null,null,a),Ko()),h=e.memoizedState,d=i.memoizedState,h.parent!==l?(h={parent:l,cache:l},i.memoizedState=h,i.lanes===0&&(i.memoizedState=i.updateQueue.baseState=h),ur(i,be,l)):(l=d.cache,ur(i,be,l),l!==h.cache&&uf(i,[be],a,!0))),ze(e,i,i.pendingProps.children,a),i.child;case 29:throw i.pendingProps}throw Error(s(156,i.tag))}function Ui(e){e.flags|=4}function Ey(e,i){if(i.type!=="stylesheet"||(i.state.loading&4)!==0)e.flags&=-16777217;else if(e.flags|=16777216,!C_(i)){if(i=In.current,i!==null&&((kt&4194048)===kt?ri!==null:(kt&62914560)!==kt&&(kt&536870912)===0||i!==ri))throw Go=df,ig;e.flags|=8192}}function nc(e,i){i!==null&&(e.flags|=4),e.flags&16384&&(i=e.tag!==22?_o():536870912,e.lanes|=i,Da|=i)}function el(e,i){if(!Bt)switch(e.tailMode){case"hidden":i=e.tail;for(var a=null;i!==null;)i.alternate!==null&&(a=i),i=i.sibling;a===null?e.tail=null:a.sibling=null;break;case"collapsed":a=e.tail;for(var l=null;a!==null;)a.alternate!==null&&(l=a),a=a.sibling;l===null?i||e.tail===null?e.tail=null:e.tail.sibling=null:l.sibling=null}}function re(e){var i=e.alternate!==null&&e.alternate.child===e.child,a=0,l=0;if(i)for(var h=e.child;h!==null;)a|=h.lanes|h.childLanes,l|=h.subtreeFlags&65011712,l|=h.flags&65011712,h.return=e,h=h.sibling;else for(h=e.child;h!==null;)a|=h.lanes|h.childLanes,l|=h.subtreeFlags,l|=h.flags,h.return=e,h=h.sibling;return e.subtreeFlags|=l,e.childLanes=a,i}function PS(e,i,a){var l=i.pendingProps;switch(sf(i),i.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return re(i),null;case 1:return re(i),null;case 3:return a=i.stateNode,l=null,e!==null&&(l=e.memoizedState.cache),i.memoizedState.cache!==l&&(i.flags|=2048),Pi(be),Gn(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(e===null||e.child===null)&&(Uo(i)?Ui(i):e===null||e.memoizedState.isDehydrated&&(i.flags&256)===0||(i.flags|=1024,Jp())),re(i),null;case 26:return a=i.memoizedState,e===null?(Ui(i),a!==null?(re(i),Ey(i,a)):(re(i),i.flags&=-16777217)):a?a!==e.memoizedState?(Ui(i),re(i),Ey(i,a)):(re(i),i.flags&=-16777217):(e.memoizedProps!==l&&Ui(i),re(i),i.flags&=-16777217),null;case 27:yi(i),a=Et.current;var h=i.type;if(e!==null&&i.stateNode!=null)e.memoizedProps!==l&&Ui(i);else{if(!l){if(i.stateNode===null)throw Error(s(166));return re(i),null}e=dt.current,Uo(i)?$p(i):(e=E_(h,l,a),i.stateNode=e,Ui(i))}return re(i),null;case 5:if(yi(i),a=i.type,e!==null&&i.stateNode!=null)e.memoizedProps!==l&&Ui(i);else{if(!l){if(i.stateNode===null)throw Error(s(166));return re(i),null}if(e=dt.current,Uo(i))$p(i);else{switch(h=pc(Et.current),e){case 1:e=h.createElementNS("http://www.w3.org/2000/svg",a);break;case 2:e=h.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;default:switch(a){case"svg":e=h.createElementNS("http://www.w3.org/2000/svg",a);break;case"math":e=h.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;case"script":e=h.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild);break;case"select":e=typeof l.is=="string"?h.createElement("select",{is:l.is}):h.createElement("select"),l.multiple?e.multiple=!0:l.size&&(e.size=l.size);break;default:e=typeof l.is=="string"?h.createElement(a,{is:l.is}):h.createElement(a)}}e[Te]=i,e[pe]=l;t:for(h=i.child;h!==null;){if(h.tag===5||h.tag===6)e.appendChild(h.stateNode);else if(h.tag!==4&&h.tag!==27&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===i)break t;for(;h.sibling===null;){if(h.return===null||h.return===i)break t;h=h.return}h.sibling.return=h.return,h=h.sibling}i.stateNode=e;t:switch(He(e,a,l),a){case"button":case"input":case"select":case"textarea":e=!!l.autoFocus;break t;case"img":e=!0;break t;default:e=!1}e&&Ui(i)}}return re(i),i.flags&=-16777217,null;case 6:if(e&&i.stateNode!=null)e.memoizedProps!==l&&Ui(i);else{if(typeof l!="string"&&i.stateNode===null)throw Error(s(166));if(e=Et.current,Uo(i)){if(e=i.stateNode,a=i.memoizedProps,l=null,h=en,h!==null)switch(h.tag){case 27:case 5:l=h.memoizedProps}e[Te]=i,e=!!(e.nodeValue===a||l!==null&&l.suppressHydrationWarning===!0||d_(e.nodeValue,a)),e||Ss(i)}else e=pc(e).createTextNode(l),e[Te]=i,i.stateNode=e}return re(i),null;case 13:if(l=i.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(h=Uo(i),l!==null&&l.dehydrated!==null){if(e===null){if(!h)throw Error(s(318));if(h=i.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(s(317));h[Te]=i}else zo(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;re(i),h=!1}else h=Jp(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=h),h=!0;if(!h)return i.flags&256?(ki(i),i):(ki(i),null)}if(ki(i),(i.flags&128)!==0)return i.lanes=a,i;if(a=l!==null,e=e!==null&&e.memoizedState!==null,a){l=i.child,h=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(h=l.alternate.memoizedState.cachePool.pool);var d=null;l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(d=l.memoizedState.cachePool.pool),d!==h&&(l.flags|=2048)}return a!==e&&a&&(i.child.flags|=8192),nc(i,i.updateQueue),re(i),null;case 4:return Gn(),e===null&&yd(i.stateNode.containerInfo),re(i),null;case 10:return Pi(i.type),re(i),null;case 19:if(at(Re),h=i.memoizedState,h===null)return re(i),null;if(l=(i.flags&128)!==0,d=h.rendering,d===null)if(l)el(h,!1);else{if(ce!==0||e!==null&&(e.flags&128)!==0)for(e=i.child;e!==null;){if(d=Zu(e),d!==null){for(i.flags|=128,el(h,!1),e=d.updateQueue,i.updateQueue=e,nc(i,e),i.subtreeFlags=0,e=a,a=i.child;a!==null;)Yp(a,e),a=a.sibling;return nt(Re,Re.current&1|2),i.child}e=e.sibling}h.tail!==null&&yn()>sc&&(i.flags|=128,l=!0,el(h,!1),i.lanes=4194304)}else{if(!l)if(e=Zu(d),e!==null){if(i.flags|=128,l=!0,e=e.updateQueue,i.updateQueue=e,nc(i,e),el(h,!0),h.tail===null&&h.tailMode==="hidden"&&!d.alternate&&!Bt)return re(i),null}else 2*yn()-h.renderingStartTime>sc&&a!==536870912&&(i.flags|=128,l=!0,el(h,!1),i.lanes=4194304);h.isBackwards?(d.sibling=i.child,i.child=d):(e=h.last,e!==null?e.sibling=d:i.child=d,h.last=d)}return h.tail!==null?(i=h.tail,h.rendering=i,h.tail=i.sibling,h.renderingStartTime=yn(),i.sibling=null,e=Re.current,nt(Re,l?e&1|2:e&1),i):(re(i),null);case 22:case 23:return ki(i),vf(),l=i.memoizedState!==null,e!==null?e.memoizedState!==null!==l&&(i.flags|=8192):l&&(i.flags|=8192),l?(a&536870912)!==0&&(i.flags&128)===0&&(re(i),i.subtreeFlags&6&&(i.flags|=8192)):re(i),a=i.updateQueue,a!==null&&nc(i,a.retryQueue),a=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(a=e.memoizedState.cachePool.pool),l=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(l=i.memoizedState.cachePool.pool),l!==a&&(i.flags|=2048),e!==null&&at(Rs),null;case 24:return a=null,e!==null&&(a=e.memoizedState.cache),i.memoizedState.cache!==a&&(i.flags|=2048),Pi(be),re(i),null;case 25:return null;case 30:return null}throw Error(s(156,i.tag))}function xS(e,i){switch(sf(i),i.tag){case 1:return e=i.flags,e&65536?(i.flags=e&-65537|128,i):null;case 3:return Pi(be),Gn(),e=i.flags,(e&65536)!==0&&(e&128)===0?(i.flags=e&-65537|128,i):null;case 26:case 27:case 5:return yi(i),null;case 13:if(ki(i),e=i.memoizedState,e!==null&&e.dehydrated!==null){if(i.alternate===null)throw Error(s(340));zo()}return e=i.flags,e&65536?(i.flags=e&-65537|128,i):null;case 19:return at(Re),null;case 4:return Gn(),null;case 10:return Pi(i.type),null;case 22:case 23:return ki(i),vf(),e!==null&&at(Rs),e=i.flags,e&65536?(i.flags=e&-65537|128,i):null;case 24:return Pi(be),null;case 25:return null;default:return null}}function Ty(e,i){switch(sf(i),i.tag){case 3:Pi(be),Gn();break;case 26:case 27:case 5:yi(i);break;case 4:Gn();break;case 13:ki(i);break;case 19:at(Re);break;case 10:Pi(i.type);break;case 22:case 23:ki(i),vf(),e!==null&&at(Rs);break;case 24:Pi(be)}}function nl(e,i){try{var a=i.updateQueue,l=a!==null?a.lastEffect:null;if(l!==null){var h=l.next;a=h;do{if((a.tag&e)===e){l=void 0;var d=a.create,v=a.inst;l=d(),v.destroy=l}a=a.next}while(a!==h)}}catch(T){$t(i,i.return,T)}}function gr(e,i,a){try{var l=i.updateQueue,h=l!==null?l.lastEffect:null;if(h!==null){var d=h.next;l=d;do{if((l.tag&e)===e){var v=l.inst,T=v.destroy;if(T!==void 0){v.destroy=void 0,h=i;var w=a,z=T;try{z()}catch(Y){$t(h,w,Y)}}}l=l.next}while(l!==d)}}catch(Y){$t(i,i.return,Y)}}function Sy(e){var i=e.updateQueue;if(i!==null){var a=e.stateNode;try{ug(i,a)}catch(l){$t(e,e.return,l)}}}function Ay(e,i,a){a.props=Is(e.type,e.memoizedProps),a.state=e.memoizedState;try{a.componentWillUnmount()}catch(l){$t(e,i,l)}}function il(e,i){try{var a=e.ref;if(a!==null){switch(e.tag){case 26:case 27:case 5:var l=e.stateNode;break;case 30:l=e.stateNode;break;default:l=e.stateNode}typeof a=="function"?e.refCleanup=a(l):a.current=l}}catch(h){$t(e,i,h)}}function si(e,i){var a=e.ref,l=e.refCleanup;if(a!==null)if(typeof l=="function")try{l()}catch(h){$t(e,i,h)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(h){$t(e,i,h)}else a.current=null}function by(e){var i=e.type,a=e.memoizedProps,l=e.stateNode;try{t:switch(i){case"button":case"input":case"select":case"textarea":a.autoFocus&&l.focus();break t;case"img":a.src?l.src=a.src:a.srcSet&&(l.srcset=a.srcSet)}}catch(h){$t(e,e.return,h)}}function Kf(e,i,a){try{var l=e.stateNode;nA(l,e.type,a,i),l[pe]=i}catch(h){$t(e,e.return,h)}}function Ry(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&br(e.type)||e.tag===4}function Yf(e){t:for(;;){for(;e.sibling===null;){if(e.return===null||Ry(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&br(e.type)||e.flags&2||e.child===null||e.tag===4)continue t;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Xf(e,i,a){var l=e.tag;if(l===5||l===6)e=e.stateNode,i?(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a).insertBefore(e,i):(i=a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,i.appendChild(e),a=a._reactRootContainer,a!=null||i.onclick!==null||(i.onclick=mc));else if(l!==4&&(l===27&&br(e.type)&&(a=e.stateNode,i=null),e=e.child,e!==null))for(Xf(e,i,a),e=e.sibling;e!==null;)Xf(e,i,a),e=e.sibling}function ic(e,i,a){var l=e.tag;if(l===5||l===6)e=e.stateNode,i?a.insertBefore(e,i):a.appendChild(e);else if(l!==4&&(l===27&&br(e.type)&&(a=e.stateNode),e=e.child,e!==null))for(ic(e,i,a),e=e.sibling;e!==null;)ic(e,i,a),e=e.sibling}function wy(e){var i=e.stateNode,a=e.memoizedProps;try{for(var l=e.type,h=i.attributes;h.length;)i.removeAttributeNode(h[0]);He(i,l,a),i[Te]=e,i[pe]=a}catch(d){$t(e,e.return,d)}}var zi=!1,de=!1,$f=!1,Iy=typeof WeakSet=="function"?WeakSet:Set,Ve=null;function kS(e,i){if(e=e.containerInfo,Ed=Tc,e=Up(e),Kh(e)){if("selectionStart"in e)var a={start:e.selectionStart,end:e.selectionEnd};else t:{a=(a=e.ownerDocument)&&a.defaultView||window;var l=a.getSelection&&a.getSelection();if(l&&l.rangeCount!==0){a=l.anchorNode;var h=l.anchorOffset,d=l.focusNode;l=l.focusOffset;try{a.nodeType,d.nodeType}catch{a=null;break t}var v=0,T=-1,w=-1,z=0,Y=0,Z=e,B=null;e:for(;;){for(var H;Z!==a||h!==0&&Z.nodeType!==3||(T=v+h),Z!==d||l!==0&&Z.nodeType!==3||(w=v+l),Z.nodeType===3&&(v+=Z.nodeValue.length),(H=Z.firstChild)!==null;)B=Z,Z=H;for(;;){if(Z===e)break e;if(B===a&&++z===h&&(T=v),B===d&&++Y===l&&(w=v),(H=Z.nextSibling)!==null)break;Z=B,B=Z.parentNode}Z=H}a=T===-1||w===-1?null:{start:T,end:w}}else a=null}a=a||{start:0,end:0}}else a=null;for(Td={focusedElem:e,selectionRange:a},Tc=!1,Ve=i;Ve!==null;)if(i=Ve,e=i.child,(i.subtreeFlags&1024)!==0&&e!==null)e.return=i,Ve=e;else for(;Ve!==null;){switch(i=Ve,d=i.alternate,e=i.flags,i.tag){case 0:break;case 11:case 15:break;case 1:if((e&1024)!==0&&d!==null){e=void 0,a=i,h=d.memoizedProps,d=d.memoizedState,l=a.stateNode;try{var _t=Is(a.type,h,a.elementType===a.type);e=l.getSnapshotBeforeUpdate(_t,d),l.__reactInternalSnapshotBeforeUpdate=e}catch(pt){$t(a,a.return,pt)}}break;case 3:if((e&1024)!==0){if(e=i.stateNode.containerInfo,a=e.nodeType,a===9)bd(e);else if(a===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":bd(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((e&1024)!==0)throw Error(s(163))}if(e=i.sibling,e!==null){e.return=i.return,Ve=e;break}Ve=i.return}}function Cy(e,i,a){var l=a.flags;switch(a.tag){case 0:case 11:case 15:yr(e,a),l&4&&nl(5,a);break;case 1:if(yr(e,a),l&4)if(e=a.stateNode,i===null)try{e.componentDidMount()}catch(v){$t(a,a.return,v)}else{var h=Is(a.type,i.memoizedProps);i=i.memoizedState;try{e.componentDidUpdate(h,i,e.__reactInternalSnapshotBeforeUpdate)}catch(v){$t(a,a.return,v)}}l&64&&Sy(a),l&512&&il(a,a.return);break;case 3:if(yr(e,a),l&64&&(e=a.updateQueue,e!==null)){if(i=null,a.child!==null)switch(a.child.tag){case 27:case 5:i=a.child.stateNode;break;case 1:i=a.child.stateNode}try{ug(e,i)}catch(v){$t(a,a.return,v)}}break;case 27:i===null&&l&4&&wy(a);case 26:case 5:yr(e,a),i===null&&l&4&&by(a),l&512&&il(a,a.return);break;case 12:yr(e,a);break;case 13:yr(e,a),l&4&&Ny(e,a),l&64&&(e=a.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(a=GS.bind(null,a),uA(e,a))));break;case 22:if(l=a.memoizedState!==null||zi,!l){i=i!==null&&i.memoizedState!==null||de,h=zi;var d=de;zi=l,(de=i)&&!d?_r(e,a,(a.subtreeFlags&8772)!==0):yr(e,a),zi=h,de=d}break;case 30:break;default:yr(e,a)}}function Dy(e){var i=e.alternate;i!==null&&(e.alternate=null,Dy(i)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(i=e.stateNode,i!==null&&sr(i)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var ne=null,rn=!1;function Bi(e,i,a){for(a=a.child;a!==null;)Oy(e,i,a),a=a.sibling}function Oy(e,i,a){if(jt&&typeof jt.onCommitFiberUnmount=="function")try{jt.onCommitFiberUnmount(le,a)}catch{}switch(a.tag){case 26:de||si(a,i),Bi(e,i,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:de||si(a,i);var l=ne,h=rn;br(a.type)&&(ne=a.stateNode,rn=!1),Bi(e,i,a),fl(a.stateNode),ne=l,rn=h;break;case 5:de||si(a,i);case 6:if(l=ne,h=rn,ne=null,Bi(e,i,a),ne=l,rn=h,ne!==null)if(rn)try{(ne.nodeType===9?ne.body:ne.nodeName==="HTML"?ne.ownerDocument.body:ne).removeChild(a.stateNode)}catch(d){$t(a,i,d)}else try{ne.removeChild(a.stateNode)}catch(d){$t(a,i,d)}break;case 18:ne!==null&&(rn?(e=ne,__(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,a.stateNode),El(e)):__(ne,a.stateNode));break;case 4:l=ne,h=rn,ne=a.stateNode.containerInfo,rn=!0,Bi(e,i,a),ne=l,rn=h;break;case 0:case 11:case 14:case 15:de||gr(2,a,i),de||gr(4,a,i),Bi(e,i,a);break;case 1:de||(si(a,i),l=a.stateNode,typeof l.componentWillUnmount=="function"&&Ay(a,i,l)),Bi(e,i,a);break;case 21:Bi(e,i,a);break;case 22:de=(l=de)||a.memoizedState!==null,Bi(e,i,a),de=l;break;default:Bi(e,i,a)}}function Ny(e,i){if(i.memoizedState===null&&(e=i.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{El(e)}catch(a){$t(i,i.return,a)}}function LS(e){switch(e.tag){case 13:case 19:var i=e.stateNode;return i===null&&(i=e.stateNode=new Iy),i;case 22:return e=e.stateNode,i=e._retryCache,i===null&&(i=e._retryCache=new Iy),i;default:throw Error(s(435,e.tag))}}function Zf(e,i){var a=LS(e);i.forEach(function(l){var h=QS.bind(null,e,l);a.has(l)||(a.add(l),l.then(h,h))})}function hn(e,i){var a=i.deletions;if(a!==null)for(var l=0;l<a.length;l++){var h=a[l],d=e,v=i,T=v;t:for(;T!==null;){switch(T.tag){case 27:if(br(T.type)){ne=T.stateNode,rn=!1;break t}break;case 5:ne=T.stateNode,rn=!1;break t;case 3:case 4:ne=T.stateNode.containerInfo,rn=!0;break t}T=T.return}if(ne===null)throw Error(s(160));Oy(d,v,h),ne=null,rn=!1,d=h.alternate,d!==null&&(d.return=null),h.return=null}if(i.subtreeFlags&13878)for(i=i.child;i!==null;)My(i,e),i=i.sibling}var Ln=null;function My(e,i){var a=e.alternate,l=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:hn(i,e),fn(e),l&4&&(gr(3,e,e.return),nl(3,e),gr(5,e,e.return));break;case 1:hn(i,e),fn(e),l&512&&(de||a===null||si(a,a.return)),l&64&&zi&&(e=e.updateQueue,e!==null&&(l=e.callbacks,l!==null&&(a=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=a===null?l:a.concat(l))));break;case 26:var h=Ln;if(hn(i,e),fn(e),l&512&&(de||a===null||si(a,a.return)),l&4){var d=a!==null?a.memoizedState:null;if(l=e.memoizedState,a===null)if(l===null)if(e.stateNode===null){t:{l=e.type,a=e.memoizedProps,h=h.ownerDocument||h;e:switch(l){case"title":d=h.getElementsByTagName("title")[0],(!d||d[ns]||d[Te]||d.namespaceURI==="http://www.w3.org/2000/svg"||d.hasAttribute("itemprop"))&&(d=h.createElement(l),h.head.insertBefore(d,h.querySelector("head > title"))),He(d,l,a),d[Te]=e,he(d),l=d;break t;case"link":var v=w_("link","href",h).get(l+(a.href||""));if(v){for(var T=0;T<v.length;T++)if(d=v[T],d.getAttribute("href")===(a.href==null||a.href===""?null:a.href)&&d.getAttribute("rel")===(a.rel==null?null:a.rel)&&d.getAttribute("title")===(a.title==null?null:a.title)&&d.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){v.splice(T,1);break e}}d=h.createElement(l),He(d,l,a),h.head.appendChild(d);break;case"meta":if(v=w_("meta","content",h).get(l+(a.content||""))){for(T=0;T<v.length;T++)if(d=v[T],d.getAttribute("content")===(a.content==null?null:""+a.content)&&d.getAttribute("name")===(a.name==null?null:a.name)&&d.getAttribute("property")===(a.property==null?null:a.property)&&d.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&d.getAttribute("charset")===(a.charSet==null?null:a.charSet)){v.splice(T,1);break e}}d=h.createElement(l),He(d,l,a),h.head.appendChild(d);break;default:throw Error(s(468,l))}d[Te]=e,he(d),l=d}e.stateNode=l}else I_(h,e.type,e.stateNode);else e.stateNode=R_(h,l,e.memoizedProps);else d!==l?(d===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):d.count--,l===null?I_(h,e.type,e.stateNode):R_(h,l,e.memoizedProps)):l===null&&e.stateNode!==null&&Kf(e,e.memoizedProps,a.memoizedProps)}break;case 27:hn(i,e),fn(e),l&512&&(de||a===null||si(a,a.return)),a!==null&&l&4&&Kf(e,e.memoizedProps,a.memoizedProps);break;case 5:if(hn(i,e),fn(e),l&512&&(de||a===null||si(a,a.return)),e.flags&32){h=e.stateNode;try{vn(h,"")}catch(H){$t(e,e.return,H)}}l&4&&e.stateNode!=null&&(h=e.memoizedProps,Kf(e,h,a!==null?a.memoizedProps:h)),l&1024&&($f=!0);break;case 6:if(hn(i,e),fn(e),l&4){if(e.stateNode===null)throw Error(s(162));l=e.memoizedProps,a=e.stateNode;try{a.nodeValue=l}catch(H){$t(e,e.return,H)}}break;case 3:if(_c=null,h=Ln,Ln=gc(i.containerInfo),hn(i,e),Ln=h,fn(e),l&4&&a!==null&&a.memoizedState.isDehydrated)try{El(i.containerInfo)}catch(H){$t(e,e.return,H)}$f&&($f=!1,Vy(e));break;case 4:l=Ln,Ln=gc(e.stateNode.containerInfo),hn(i,e),fn(e),Ln=l;break;case 12:hn(i,e),fn(e);break;case 13:hn(i,e),fn(e),e.child.flags&8192&&e.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(id=yn()),l&4&&(l=e.updateQueue,l!==null&&(e.updateQueue=null,Zf(e,l)));break;case 22:h=e.memoizedState!==null;var w=a!==null&&a.memoizedState!==null,z=zi,Y=de;if(zi=z||h,de=Y||w,hn(i,e),de=Y,zi=z,fn(e),l&8192)t:for(i=e.stateNode,i._visibility=h?i._visibility&-2:i._visibility|1,h&&(a===null||w||zi||de||Cs(e)),a=null,i=e;;){if(i.tag===5||i.tag===26){if(a===null){w=a=i;try{if(d=w.stateNode,h)v=d.style,typeof v.setProperty=="function"?v.setProperty("display","none","important"):v.display="none";else{T=w.stateNode;var Z=w.memoizedProps.style,B=Z!=null&&Z.hasOwnProperty("display")?Z.display:null;T.style.display=B==null||typeof B=="boolean"?"":(""+B).trim()}}catch(H){$t(w,w.return,H)}}}else if(i.tag===6){if(a===null){w=i;try{w.stateNode.nodeValue=h?"":w.memoizedProps}catch(H){$t(w,w.return,H)}}}else if((i.tag!==22&&i.tag!==23||i.memoizedState===null||i===e)&&i.child!==null){i.child.return=i,i=i.child;continue}if(i===e)break t;for(;i.sibling===null;){if(i.return===null||i.return===e)break t;a===i&&(a=null),i=i.return}a===i&&(a=null),i.sibling.return=i.return,i=i.sibling}l&4&&(l=e.updateQueue,l!==null&&(a=l.retryQueue,a!==null&&(l.retryQueue=null,Zf(e,a))));break;case 19:hn(i,e),fn(e),l&4&&(l=e.updateQueue,l!==null&&(e.updateQueue=null,Zf(e,l)));break;case 30:break;case 21:break;default:hn(i,e),fn(e)}}function fn(e){var i=e.flags;if(i&2){try{for(var a,l=e.return;l!==null;){if(Ry(l)){a=l;break}l=l.return}if(a==null)throw Error(s(160));switch(a.tag){case 27:var h=a.stateNode,d=Yf(e);ic(e,d,h);break;case 5:var v=a.stateNode;a.flags&32&&(vn(v,""),a.flags&=-33);var T=Yf(e);ic(e,T,v);break;case 3:case 4:var w=a.stateNode.containerInfo,z=Yf(e);Xf(e,z,w);break;default:throw Error(s(161))}}catch(Y){$t(e,e.return,Y)}e.flags&=-3}i&4096&&(e.flags&=-4097)}function Vy(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var i=e;Vy(i),i.tag===5&&i.flags&1024&&i.stateNode.reset(),e=e.sibling}}function yr(e,i){if(i.subtreeFlags&8772)for(i=i.child;i!==null;)Cy(e,i.alternate,i),i=i.sibling}function Cs(e){for(e=e.child;e!==null;){var i=e;switch(i.tag){case 0:case 11:case 14:case 15:gr(4,i,i.return),Cs(i);break;case 1:si(i,i.return);var a=i.stateNode;typeof a.componentWillUnmount=="function"&&Ay(i,i.return,a),Cs(i);break;case 27:fl(i.stateNode);case 26:case 5:si(i,i.return),Cs(i);break;case 22:i.memoizedState===null&&Cs(i);break;case 30:Cs(i);break;default:Cs(i)}e=e.sibling}}function _r(e,i,a){for(a=a&&(i.subtreeFlags&8772)!==0,i=i.child;i!==null;){var l=i.alternate,h=e,d=i,v=d.flags;switch(d.tag){case 0:case 11:case 15:_r(h,d,a),nl(4,d);break;case 1:if(_r(h,d,a),l=d,h=l.stateNode,typeof h.componentDidMount=="function")try{h.componentDidMount()}catch(z){$t(l,l.return,z)}if(l=d,h=l.updateQueue,h!==null){var T=l.stateNode;try{var w=h.shared.hiddenCallbacks;if(w!==null)for(h.shared.hiddenCallbacks=null,h=0;h<w.length;h++)lg(w[h],T)}catch(z){$t(l,l.return,z)}}a&&v&64&&Sy(d),il(d,d.return);break;case 27:wy(d);case 26:case 5:_r(h,d,a),a&&l===null&&v&4&&by(d),il(d,d.return);break;case 12:_r(h,d,a);break;case 13:_r(h,d,a),a&&v&4&&Ny(h,d);break;case 22:d.memoizedState===null&&_r(h,d,a),il(d,d.return);break;case 30:break;default:_r(h,d,a)}i=i.sibling}}function Jf(e,i){var a=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(a=e.memoizedState.cachePool.pool),e=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(e=i.memoizedState.cachePool.pool),e!==a&&(e!=null&&e.refCount++,a!=null&&qo(a))}function Wf(e,i){e=null,i.alternate!==null&&(e=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==e&&(i.refCount++,e!=null&&qo(e))}function ai(e,i,a,l){if(i.subtreeFlags&10256)for(i=i.child;i!==null;)Py(e,i,a,l),i=i.sibling}function Py(e,i,a,l){var h=i.flags;switch(i.tag){case 0:case 11:case 15:ai(e,i,a,l),h&2048&&nl(9,i);break;case 1:ai(e,i,a,l);break;case 3:ai(e,i,a,l),h&2048&&(e=null,i.alternate!==null&&(e=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==e&&(i.refCount++,e!=null&&qo(e)));break;case 12:if(h&2048){ai(e,i,a,l),e=i.stateNode;try{var d=i.memoizedProps,v=d.id,T=d.onPostCommit;typeof T=="function"&&T(v,i.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(w){$t(i,i.return,w)}}else ai(e,i,a,l);break;case 13:ai(e,i,a,l);break;case 23:break;case 22:d=i.stateNode,v=i.alternate,i.memoizedState!==null?d._visibility&2?ai(e,i,a,l):rl(e,i):d._visibility&2?ai(e,i,a,l):(d._visibility|=2,wa(e,i,a,l,(i.subtreeFlags&10256)!==0)),h&2048&&Jf(v,i);break;case 24:ai(e,i,a,l),h&2048&&Wf(i.alternate,i);break;default:ai(e,i,a,l)}}function wa(e,i,a,l,h){for(h=h&&(i.subtreeFlags&10256)!==0,i=i.child;i!==null;){var d=e,v=i,T=a,w=l,z=v.flags;switch(v.tag){case 0:case 11:case 15:wa(d,v,T,w,h),nl(8,v);break;case 23:break;case 22:var Y=v.stateNode;v.memoizedState!==null?Y._visibility&2?wa(d,v,T,w,h):rl(d,v):(Y._visibility|=2,wa(d,v,T,w,h)),h&&z&2048&&Jf(v.alternate,v);break;case 24:wa(d,v,T,w,h),h&&z&2048&&Wf(v.alternate,v);break;default:wa(d,v,T,w,h)}i=i.sibling}}function rl(e,i){if(i.subtreeFlags&10256)for(i=i.child;i!==null;){var a=e,l=i,h=l.flags;switch(l.tag){case 22:rl(a,l),h&2048&&Jf(l.alternate,l);break;case 24:rl(a,l),h&2048&&Wf(l.alternate,l);break;default:rl(a,l)}i=i.sibling}}var sl=8192;function Ia(e){if(e.subtreeFlags&sl)for(e=e.child;e!==null;)xy(e),e=e.sibling}function xy(e){switch(e.tag){case 26:Ia(e),e.flags&sl&&e.memoizedState!==null&&SA(Ln,e.memoizedState,e.memoizedProps);break;case 5:Ia(e);break;case 3:case 4:var i=Ln;Ln=gc(e.stateNode.containerInfo),Ia(e),Ln=i;break;case 22:e.memoizedState===null&&(i=e.alternate,i!==null&&i.memoizedState!==null?(i=sl,sl=16777216,Ia(e),sl=i):Ia(e));break;default:Ia(e)}}function ky(e){var i=e.alternate;if(i!==null&&(e=i.child,e!==null)){i.child=null;do i=e.sibling,e.sibling=null,e=i;while(e!==null)}}function al(e){var i=e.deletions;if((e.flags&16)!==0){if(i!==null)for(var a=0;a<i.length;a++){var l=i[a];Ve=l,Uy(l,e)}ky(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)Ly(e),e=e.sibling}function Ly(e){switch(e.tag){case 0:case 11:case 15:al(e),e.flags&2048&&gr(9,e,e.return);break;case 3:al(e);break;case 12:al(e);break;case 22:var i=e.stateNode;e.memoizedState!==null&&i._visibility&2&&(e.return===null||e.return.tag!==13)?(i._visibility&=-3,rc(e)):al(e);break;default:al(e)}}function rc(e){var i=e.deletions;if((e.flags&16)!==0){if(i!==null)for(var a=0;a<i.length;a++){var l=i[a];Ve=l,Uy(l,e)}ky(e)}for(e=e.child;e!==null;){switch(i=e,i.tag){case 0:case 11:case 15:gr(8,i,i.return),rc(i);break;case 22:a=i.stateNode,a._visibility&2&&(a._visibility&=-3,rc(i));break;default:rc(i)}e=e.sibling}}function Uy(e,i){for(;Ve!==null;){var a=Ve;switch(a.tag){case 0:case 11:case 15:gr(8,a,i);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var l=a.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:qo(a.memoizedState.cache)}if(l=a.child,l!==null)l.return=a,Ve=l;else t:for(a=e;Ve!==null;){l=Ve;var h=l.sibling,d=l.return;if(Dy(l),l===a){Ve=null;break t}if(h!==null){h.return=d,Ve=h;break t}Ve=d}}}var US={getCacheForType:function(e){var i=Qe(be),a=i.data.get(e);return a===void 0&&(a=e(),i.data.set(e,a)),a}},zS=typeof WeakMap=="function"?WeakMap:Map,Ft=0,Jt=null,Ct=null,kt=0,Gt=0,dn=null,vr=!1,Ca=!1,td=!1,Hi=0,ce=0,Er=0,Ds=0,ed=0,Cn=0,Da=0,ol=null,sn=null,nd=!1,id=0,sc=1/0,ac=null,Tr=null,Be=0,Sr=null,Oa=null,Na=0,rd=0,sd=null,zy=null,ll=0,ad=null;function mn(){if((Ft&2)!==0&&kt!==0)return kt&-kt;if(K.T!==null){var e=_a;return e!==0?e:dd()}return ir()}function By(){Cn===0&&(Cn=(kt&536870912)===0||Bt?yo():536870912);var e=In.current;return e!==null&&(e.flags|=32),Cn}function pn(e,i,a){(e===Jt&&(Gt===2||Gt===9)||e.cancelPendingCommit!==null)&&(Ma(e,0),Ar(e,kt,Cn,!1)),vi(e,a),((Ft&2)===0||e!==Jt)&&(e===Jt&&((Ft&2)===0&&(Ds|=a),ce===4&&Ar(e,kt,Cn,!1)),oi(e))}function Hy(e,i,a){if((Ft&6)!==0)throw Error(s(327));var l=!a&&(i&124)===0&&(i&e.expiredLanes)===0||es(e,i),h=l?qS(e,i):ud(e,i,!0),d=l;do{if(h===0){Ca&&!l&&Ar(e,i,0,!1);break}else{if(a=e.current.alternate,d&&!BS(a)){h=ud(e,i,!1),d=!1;continue}if(h===2){if(d=i,e.errorRecoveryDisabledLanes&d)var v=0;else v=e.pendingLanes&-536870913,v=v!==0?v:v&536870912?536870912:0;if(v!==0){i=v;t:{var T=e;h=ol;var w=T.current.memoizedState.isDehydrated;if(w&&(Ma(T,v).flags|=256),v=ud(T,v,!1),v!==2){if(td&&!w){T.errorRecoveryDisabledLanes|=d,Ds|=d,h=4;break t}d=sn,sn=h,d!==null&&(sn===null?sn=d:sn.push.apply(sn,d))}h=v}if(d=!1,h!==2)continue}}if(h===1){Ma(e,0),Ar(e,i,0,!0);break}t:{switch(l=e,d=h,d){case 0:case 1:throw Error(s(345));case 4:if((i&4194048)!==i)break;case 6:Ar(l,i,Cn,!vr);break t;case 2:sn=null;break;case 3:case 5:break;default:throw Error(s(329))}if((i&62914560)===i&&(h=id+300-yn(),10<h)){if(Ar(l,i,Cn,!vr),Xs(l,0,!0)!==0)break t;l.timeoutHandle=g_(qy.bind(null,l,a,sn,ac,nd,i,Cn,Ds,Da,vr,d,2,-0,0),h);break t}qy(l,a,sn,ac,nd,i,Cn,Ds,Da,vr,d,0,-0,0)}}break}while(!0);oi(e)}function qy(e,i,a,l,h,d,v,T,w,z,Y,Z,B,H){if(e.timeoutHandle=-1,Z=i.subtreeFlags,(Z&8192||(Z&16785408)===16785408)&&(pl={stylesheets:null,count:0,unsuspend:TA},xy(i),Z=AA(),Z!==null)){e.cancelPendingCommit=Z(Xy.bind(null,e,i,d,a,l,h,v,T,w,Y,1,B,H)),Ar(e,d,v,!z);return}Xy(e,i,d,a,l,h,v,T,w)}function BS(e){for(var i=e;;){var a=i.tag;if((a===0||a===11||a===15)&&i.flags&16384&&(a=i.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var l=0;l<a.length;l++){var h=a[l],d=h.getSnapshot;h=h.value;try{if(!un(d(),h))return!1}catch{return!1}}if(a=i.child,i.subtreeFlags&16384&&a!==null)a.return=i,i=a;else{if(i===e)break;for(;i.sibling===null;){if(i.return===null||i.return===e)return!0;i=i.return}i.sibling.return=i.return,i=i.sibling}}return!0}function Ar(e,i,a,l){i&=~ed,i&=~Ds,e.suspendedLanes|=i,e.pingedLanes&=~i,l&&(e.warmLanes|=i),l=e.expirationTimes;for(var h=i;0<h;){var d=31-Ge(h),v=1<<d;l[d]=-1,h&=~v}a!==0&&Qn(e,a,i)}function oc(){return(Ft&6)===0?(ul(0),!1):!0}function od(){if(Ct!==null){if(Gt===0)var e=Ct.return;else e=Ct,Vi=As=null,bf(e),ba=null,Wo=0,e=Ct;for(;e!==null;)Ty(e.alternate,e),e=e.return;Ct=null}}function Ma(e,i){var a=e.timeoutHandle;a!==-1&&(e.timeoutHandle=-1,rA(a)),a=e.cancelPendingCommit,a!==null&&(e.cancelPendingCommit=null,a()),od(),Jt=e,Ct=a=Oi(e.current,null),kt=i,Gt=0,dn=null,vr=!1,Ca=es(e,i),td=!1,Da=Cn=ed=Ds=Er=ce=0,sn=ol=null,nd=!1,(i&8)!==0&&(i|=i&32);var l=e.entangledLanes;if(l!==0)for(e=e.entanglements,l&=i;0<l;){var h=31-Ge(l),d=1<<h;i|=e[h],l&=~d}return Hi=i,Du(),a}function jy(e,i){Rt=null,K.H=Yu,i===Fo||i===Uu?(i=ag(),Gt=3):i===ig?(i=ag(),Gt=4):Gt=i===oy?8:i!==null&&typeof i=="object"&&typeof i.then=="function"?6:1,dn=i,Ct===null&&(ce=1,Wu(e,An(i,e.current)))}function Fy(){var e=K.H;return K.H=Yu,e===null?Yu:e}function Gy(){var e=K.A;return K.A=US,e}function ld(){ce=4,vr||(kt&4194048)!==kt&&In.current!==null||(Ca=!0),(Er&134217727)===0&&(Ds&134217727)===0||Jt===null||Ar(Jt,kt,Cn,!1)}function ud(e,i,a){var l=Ft;Ft|=2;var h=Fy(),d=Gy();(Jt!==e||kt!==i)&&(ac=null,Ma(e,i)),i=!1;var v=ce;t:do try{if(Gt!==0&&Ct!==null){var T=Ct,w=dn;switch(Gt){case 8:od(),v=6;break t;case 3:case 2:case 9:case 6:In.current===null&&(i=!0);var z=Gt;if(Gt=0,dn=null,Va(e,T,w,z),a&&Ca){v=0;break t}break;default:z=Gt,Gt=0,dn=null,Va(e,T,w,z)}}HS(),v=ce;break}catch(Y){jy(e,Y)}while(!0);return i&&e.shellSuspendCounter++,Vi=As=null,Ft=l,K.H=h,K.A=d,Ct===null&&(Jt=null,kt=0,Du()),v}function HS(){for(;Ct!==null;)Qy(Ct)}function qS(e,i){var a=Ft;Ft|=2;var l=Fy(),h=Gy();Jt!==e||kt!==i?(ac=null,sc=yn()+500,Ma(e,i)):Ca=es(e,i);t:do try{if(Gt!==0&&Ct!==null){i=Ct;var d=dn;e:switch(Gt){case 1:Gt=0,dn=null,Va(e,i,d,1);break;case 2:case 9:if(rg(d)){Gt=0,dn=null,Ky(i);break}i=function(){Gt!==2&&Gt!==9||Jt!==e||(Gt=7),oi(e)},d.then(i,i);break t;case 3:Gt=7;break t;case 4:Gt=5;break t;case 7:rg(d)?(Gt=0,dn=null,Ky(i)):(Gt=0,dn=null,Va(e,i,d,7));break;case 5:var v=null;switch(Ct.tag){case 26:v=Ct.memoizedState;case 5:case 27:var T=Ct;if(!v||C_(v)){Gt=0,dn=null;var w=T.sibling;if(w!==null)Ct=w;else{var z=T.return;z!==null?(Ct=z,lc(z)):Ct=null}break e}}Gt=0,dn=null,Va(e,i,d,5);break;case 6:Gt=0,dn=null,Va(e,i,d,6);break;case 8:od(),ce=6;break t;default:throw Error(s(462))}}jS();break}catch(Y){jy(e,Y)}while(!0);return Vi=As=null,K.H=l,K.A=h,Ft=a,Ct!==null?0:(Jt=null,kt=0,Du(),ce)}function jS(){for(;Ct!==null&&!fo();)Qy(Ct)}function Qy(e){var i=vy(e.alternate,e,Hi);e.memoizedProps=e.pendingProps,i===null?lc(e):Ct=i}function Ky(e){var i=e,a=i.alternate;switch(i.tag){case 15:case 0:i=dy(a,i,i.pendingProps,i.type,void 0,kt);break;case 11:i=dy(a,i,i.pendingProps,i.type.render,i.ref,kt);break;case 5:bf(i);default:Ty(a,i),i=Ct=Yp(i,Hi),i=vy(a,i,Hi)}e.memoizedProps=e.pendingProps,i===null?lc(e):Ct=i}function Va(e,i,a,l){Vi=As=null,bf(i),ba=null,Wo=0;var h=i.return;try{if(MS(e,h,i,a,kt)){ce=1,Wu(e,An(a,e.current)),Ct=null;return}}catch(d){if(h!==null)throw Ct=h,d;ce=1,Wu(e,An(a,e.current)),Ct=null;return}i.flags&32768?(Bt||l===1?e=!0:Ca||(kt&536870912)!==0?e=!1:(vr=e=!0,(l===2||l===9||l===3||l===6)&&(l=In.current,l!==null&&l.tag===13&&(l.flags|=16384))),Yy(i,e)):lc(i)}function lc(e){var i=e;do{if((i.flags&32768)!==0){Yy(i,vr);return}e=i.return;var a=PS(i.alternate,i,Hi);if(a!==null){Ct=a;return}if(i=i.sibling,i!==null){Ct=i;return}Ct=i=e}while(i!==null);ce===0&&(ce=5)}function Yy(e,i){do{var a=xS(e.alternate,e);if(a!==null){a.flags&=32767,Ct=a;return}if(a=e.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!i&&(e=e.sibling,e!==null)){Ct=e;return}Ct=e=a}while(e!==null);ce=6,Ct=null}function Xy(e,i,a,l,h,d,v,T,w){e.cancelPendingCommit=null;do uc();while(Be!==0);if((Ft&6)!==0)throw Error(s(327));if(i!==null){if(i===e.current)throw Error(s(177));if(d=i.lanes|i.childLanes,d|=Jh,vo(e,a,d,v,T,w),e===Jt&&(Ct=Jt=null,kt=0),Oa=i,Sr=e,Na=a,rd=d,sd=h,zy=l,(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?(e.callbackNode=null,e.callbackPriority=0,KS(Zr,function(){return t_(),null})):(e.callbackNode=null,e.callbackPriority=0),l=(i.flags&13878)!==0,(i.subtreeFlags&13878)!==0||l){l=K.T,K.T=null,h=st.p,st.p=2,v=Ft,Ft|=4;try{kS(e,i,a)}finally{Ft=v,st.p=h,K.T=l}}Be=1,$y(),Zy(),Jy()}}function $y(){if(Be===1){Be=0;var e=Sr,i=Oa,a=(i.flags&13878)!==0;if((i.subtreeFlags&13878)!==0||a){a=K.T,K.T=null;var l=st.p;st.p=2;var h=Ft;Ft|=4;try{My(i,e);var d=Td,v=Up(e.containerInfo),T=d.focusedElem,w=d.selectionRange;if(v!==T&&T&&T.ownerDocument&&Lp(T.ownerDocument.documentElement,T)){if(w!==null&&Kh(T)){var z=w.start,Y=w.end;if(Y===void 0&&(Y=z),"selectionStart"in T)T.selectionStart=z,T.selectionEnd=Math.min(Y,T.value.length);else{var Z=T.ownerDocument||document,B=Z&&Z.defaultView||window;if(B.getSelection){var H=B.getSelection(),_t=T.textContent.length,pt=Math.min(w.start,_t),Xt=w.end===void 0?pt:Math.min(w.end,_t);!H.extend&&pt>Xt&&(v=Xt,Xt=pt,pt=v);var P=kp(T,pt),O=kp(T,Xt);if(P&&O&&(H.rangeCount!==1||H.anchorNode!==P.node||H.anchorOffset!==P.offset||H.focusNode!==O.node||H.focusOffset!==O.offset)){var U=Z.createRange();U.setStart(P.node,P.offset),H.removeAllRanges(),pt>Xt?(H.addRange(U),H.extend(O.node,O.offset)):(U.setEnd(O.node,O.offset),H.addRange(U))}}}}for(Z=[],H=T;H=H.parentNode;)H.nodeType===1&&Z.push({element:H,left:H.scrollLeft,top:H.scrollTop});for(typeof T.focus=="function"&&T.focus(),T=0;T<Z.length;T++){var X=Z[T];X.element.scrollLeft=X.left,X.element.scrollTop=X.top}}Tc=!!Ed,Td=Ed=null}finally{Ft=h,st.p=l,K.T=a}}e.current=i,Be=2}}function Zy(){if(Be===2){Be=0;var e=Sr,i=Oa,a=(i.flags&8772)!==0;if((i.subtreeFlags&8772)!==0||a){a=K.T,K.T=null;var l=st.p;st.p=2;var h=Ft;Ft|=4;try{Cy(e,i.alternate,i)}finally{Ft=h,st.p=l,K.T=a}}Be=3}}function Jy(){if(Be===4||Be===3){Be=0,ru();var e=Sr,i=Oa,a=Na,l=zy;(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?Be=5:(Be=0,Oa=Sr=null,Wy(e,e.pendingLanes));var h=e.pendingLanes;if(h===0&&(Tr=null),$s(a),i=i.stateNode,jt&&typeof jt.onCommitFiberRoot=="function")try{jt.onCommitFiberRoot(le,i,void 0,(i.current.flags&128)===128)}catch{}if(l!==null){i=K.T,h=st.p,st.p=2,K.T=null;try{for(var d=e.onRecoverableError,v=0;v<l.length;v++){var T=l[v];d(T.value,{componentStack:T.stack})}}finally{K.T=i,st.p=h}}(Na&3)!==0&&uc(),oi(e),h=e.pendingLanes,(a&4194090)!==0&&(h&42)!==0?e===ad?ll++:(ll=0,ad=e):ll=0,ul(0)}}function Wy(e,i){(e.pooledCacheLanes&=i)===0&&(i=e.pooledCache,i!=null&&(e.pooledCache=null,qo(i)))}function uc(e){return $y(),Zy(),Jy(),t_()}function t_(){if(Be!==5)return!1;var e=Sr,i=rd;rd=0;var a=$s(Na),l=K.T,h=st.p;try{st.p=32>a?32:a,K.T=null,a=sd,sd=null;var d=Sr,v=Na;if(Be=0,Oa=Sr=null,Na=0,(Ft&6)!==0)throw Error(s(331));var T=Ft;if(Ft|=4,Ly(d.current),Py(d,d.current,v,a),Ft=T,ul(0,!1),jt&&typeof jt.onPostCommitFiberRoot=="function")try{jt.onPostCommitFiberRoot(le,d)}catch{}return!0}finally{st.p=h,K.T=l,Wy(e,i)}}function e_(e,i,a){i=An(a,i),i=Uf(e.stateNode,i,2),e=fr(e,i,2),e!==null&&(vi(e,2),oi(e))}function $t(e,i,a){if(e.tag===3)e_(e,e,a);else for(;i!==null;){if(i.tag===3){e_(i,e,a);break}else if(i.tag===1){var l=i.stateNode;if(typeof i.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(Tr===null||!Tr.has(l))){e=An(a,e),a=sy(2),l=fr(i,a,2),l!==null&&(ay(a,l,i,e),vi(l,2),oi(l));break}}i=i.return}}function cd(e,i,a){var l=e.pingCache;if(l===null){l=e.pingCache=new zS;var h=new Set;l.set(i,h)}else h=l.get(i),h===void 0&&(h=new Set,l.set(i,h));h.has(a)||(td=!0,h.add(a),e=FS.bind(null,e,i,a),i.then(e,e))}function FS(e,i,a){var l=e.pingCache;l!==null&&l.delete(i),e.pingedLanes|=e.suspendedLanes&a,e.warmLanes&=~a,Jt===e&&(kt&a)===a&&(ce===4||ce===3&&(kt&62914560)===kt&&300>yn()-id?(Ft&2)===0&&Ma(e,0):ed|=a,Da===kt&&(Da=0)),oi(e)}function n_(e,i){i===0&&(i=_o()),e=ma(e,i),e!==null&&(vi(e,i),oi(e))}function GS(e){var i=e.memoizedState,a=0;i!==null&&(a=i.retryLane),n_(e,a)}function QS(e,i){var a=0;switch(e.tag){case 13:var l=e.stateNode,h=e.memoizedState;h!==null&&(a=h.retryLane);break;case 19:l=e.stateNode;break;case 22:l=e.stateNode._retryCache;break;default:throw Error(s(314))}l!==null&&l.delete(i),n_(e,a)}function KS(e,i){return Xr(e,i)}var cc=null,Pa=null,hd=!1,hc=!1,fd=!1,Os=0;function oi(e){e!==Pa&&e.next===null&&(Pa===null?cc=Pa=e:Pa=Pa.next=e),hc=!0,hd||(hd=!0,XS())}function ul(e,i){if(!fd&&hc){fd=!0;do for(var a=!1,l=cc;l!==null;){if(e!==0){var h=l.pendingLanes;if(h===0)var d=0;else{var v=l.suspendedLanes,T=l.pingedLanes;d=(1<<31-Ge(42|e)+1)-1,d&=h&~(v&~T),d=d&201326741?d&201326741|1:d?d|2:0}d!==0&&(a=!0,a_(l,d))}else d=kt,d=Xs(l,l===Jt?d:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),(d&3)===0||es(l,d)||(a=!0,a_(l,d));l=l.next}while(a);fd=!1}}function YS(){i_()}function i_(){hc=hd=!1;var e=0;Os!==0&&(iA()&&(e=Os),Os=0);for(var i=yn(),a=null,l=cc;l!==null;){var h=l.next,d=r_(l,i);d===0?(l.next=null,a===null?cc=h:a.next=h,h===null&&(Pa=a)):(a=l,(e!==0||(d&3)!==0)&&(hc=!0)),l=h}ul(e)}function r_(e,i){for(var a=e.suspendedLanes,l=e.pingedLanes,h=e.expirationTimes,d=e.pendingLanes&-62914561;0<d;){var v=31-Ge(d),T=1<<v,w=h[v];w===-1?((T&a)===0||(T&l)!==0)&&(h[v]=go(T,i)):w<=i&&(e.expiredLanes|=T),d&=~T}if(i=Jt,a=kt,a=Xs(e,e===i?a:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),l=e.callbackNode,a===0||e===i&&(Gt===2||Gt===9)||e.cancelPendingCommit!==null)return l!==null&&l!==null&&$r(l),e.callbackNode=null,e.callbackPriority=0;if((a&3)===0||es(e,a)){if(i=a&-a,i===e.callbackPriority)return i;switch(l!==null&&$r(l),$s(a)){case 2:case 8:a=Ks;break;case 32:a=Zr;break;case 268435456:a=Ys;break;default:a=Zr}return l=s_.bind(null,e),a=Xr(a,l),e.callbackPriority=i,e.callbackNode=a,i}return l!==null&&l!==null&&$r(l),e.callbackPriority=2,e.callbackNode=null,2}function s_(e,i){if(Be!==0&&Be!==5)return e.callbackNode=null,e.callbackPriority=0,null;var a=e.callbackNode;if(uc()&&e.callbackNode!==a)return null;var l=kt;return l=Xs(e,e===Jt?l:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),l===0?null:(Hy(e,l,i),r_(e,yn()),e.callbackNode!=null&&e.callbackNode===a?s_.bind(null,e):null)}function a_(e,i){if(uc())return null;Hy(e,i,!0)}function XS(){sA(function(){(Ft&6)!==0?Xr(mo,YS):i_()})}function dd(){return Os===0&&(Os=yo()),Os}function o_(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:na(""+e)}function l_(e,i){var a=i.ownerDocument.createElement("input");return a.name=i.name,a.value=i.value,e.id&&a.setAttribute("form",e.id),i.parentNode.insertBefore(a,i),e=new FormData(e),a.parentNode.removeChild(a),e}function $S(e,i,a,l,h){if(i==="submit"&&a&&a.stateNode===h){var d=o_((h[pe]||null).action),v=l.submitter;v&&(i=(i=v[pe]||null)?o_(i.formAction):v.getAttribute("formAction"),i!==null&&(d=i,v=null));var T=new ia("action","action",null,l,h);e.push({event:T,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(Os!==0){var w=v?l_(h,v):new FormData(h);Vf(a,{pending:!0,data:w,method:h.method,action:d},null,w)}}else typeof d=="function"&&(T.preventDefault(),w=v?l_(h,v):new FormData(h),Vf(a,{pending:!0,data:w,method:h.method,action:d},d,w))},currentTarget:h}]})}}for(var md=0;md<Zh.length;md++){var pd=Zh[md],ZS=pd.toLowerCase(),JS=pd[0].toUpperCase()+pd.slice(1);kn(ZS,"on"+JS)}kn(Hp,"onAnimationEnd"),kn(qp,"onAnimationIteration"),kn(jp,"onAnimationStart"),kn("dblclick","onDoubleClick"),kn("focusin","onFocus"),kn("focusout","onBlur"),kn(pS,"onTransitionRun"),kn(gS,"onTransitionStart"),kn(yS,"onTransitionCancel"),kn(Fp,"onTransitionEnd"),Ti("onMouseEnter",["mouseout","mouseover"]),Ti("onMouseLeave",["mouseout","mouseover"]),Ti("onPointerEnter",["pointerout","pointerover"]),Ti("onPointerLeave",["pointerout","pointerover"]),Pn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Pn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Pn("onBeforeInput",["compositionend","keypress","textInput","paste"]),Pn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Pn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Pn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var cl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),WS=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(cl));function u_(e,i){i=(i&4)!==0;for(var a=0;a<e.length;a++){var l=e[a],h=l.event;l=l.listeners;t:{var d=void 0;if(i)for(var v=l.length-1;0<=v;v--){var T=l[v],w=T.instance,z=T.currentTarget;if(T=T.listener,w!==d&&h.isPropagationStopped())break t;d=T,h.currentTarget=z;try{d(h)}catch(Y){Ju(Y)}h.currentTarget=null,d=w}else for(v=0;v<l.length;v++){if(T=l[v],w=T.instance,z=T.currentTarget,T=T.listener,w!==d&&h.isPropagationStopped())break t;d=T,h.currentTarget=z;try{d(h)}catch(Y){Ju(Y)}h.currentTarget=null,d=w}}}}function Dt(e,i){var a=i[To];a===void 0&&(a=i[To]=new Set);var l=e+"__bubble";a.has(l)||(c_(i,e,2,!1),a.add(l))}function gd(e,i,a){var l=0;i&&(l|=4),c_(a,e,l,i)}var fc="_reactListening"+Math.random().toString(36).slice(2);function yd(e){if(!e[fc]){e[fc]=!0,So.forEach(function(a){a!=="selectionchange"&&(WS.has(a)||gd(a,!1,e),gd(a,!0,e))});var i=e.nodeType===9?e:e.ownerDocument;i===null||i[fc]||(i[fc]=!0,gd("selectionchange",!1,i))}}function c_(e,i,a,l){switch(P_(i)){case 2:var h=wA;break;case 8:h=IA;break;default:h=Nd}a=h.bind(null,i,a,e),h=void 0,!Tn||i!=="touchstart"&&i!=="touchmove"&&i!=="wheel"||(h=!0),l?h!==void 0?e.addEventListener(i,a,{capture:!0,passive:h}):e.addEventListener(i,a,!0):h!==void 0?e.addEventListener(i,a,{passive:h}):e.addEventListener(i,a,!1)}function _d(e,i,a,l,h){var d=l;if((i&1)===0&&(i&2)===0&&l!==null)t:for(;;){if(l===null)return;var v=l.tag;if(v===3||v===4){var T=l.stateNode.containerInfo;if(T===h)break;if(v===4)for(v=l.return;v!==null;){var w=v.tag;if((w===3||w===4)&&v.stateNode.containerInfo===h)return;v=v.return}for(;T!==null;){if(v=Ei(T),v===null)return;if(w=v.tag,w===5||w===6||w===26||w===27){l=d=v;continue t}T=T.parentNode}}l=l.return}mu(function(){var z=d,Y=En(a),Z=[];t:{var B=Gp.get(e);if(B!==void 0){var H=ia,_t=e;switch(e){case"keypress":if(Jn(a)===0)break t;case"keydown":case"keyup":H=ua;break;case"focusin":_t="focus",H=aa;break;case"focusout":_t="blur",H=aa;break;case"beforeblur":case"afterblur":H=aa;break;case"click":if(a.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":H=Sn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":H=jh;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":H=Su;break;case Hp:case qp:case jp:H=oa;break;case Fp:H=bu;break;case"scroll":case"scrollend":H=pu;break;case"wheel":H=ca;break;case"copy":case"cut":case"paste":H=la;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":H=Po;break;case"toggle":case"beforetoggle":H=wu}var pt=(i&4)!==0,Xt=!pt&&(e==="scroll"||e==="scrollend"),P=pt?B!==null?B+"Capture":null:B;pt=[];for(var O=z,U;O!==null;){var X=O;if(U=X.stateNode,X=X.tag,X!==5&&X!==26&&X!==27||U===null||P===null||(X=us(O,P),X!=null&&pt.push(hl(O,X,U))),Xt)break;O=O.return}0<pt.length&&(B=new H(B,_t,null,a,Y),Z.push({event:B,listeners:pt}))}}if((i&7)===0){t:{if(B=e==="mouseover"||e==="pointerover",H=e==="mouseout"||e==="pointerout",B&&a!==bi&&(_t=a.relatedTarget||a.fromElement)&&(Ei(_t)||_t[_n]))break t;if((H||B)&&(B=Y.window===Y?Y:(B=Y.ownerDocument)?B.defaultView||B.parentWindow:window,H?(_t=a.relatedTarget||a.toElement,H=z,_t=_t?Ei(_t):null,_t!==null&&(Xt=u(_t),pt=_t.tag,_t!==Xt||pt!==5&&pt!==27&&pt!==6)&&(_t=null)):(H=null,_t=z),H!==_t)){if(pt=Sn,X="onMouseLeave",P="onMouseEnter",O="mouse",(e==="pointerout"||e==="pointerover")&&(pt=Po,X="onPointerLeave",P="onPointerEnter",O="pointer"),Xt=H==null?B:Yn(H),U=_t==null?B:Yn(_t),B=new pt(X,O+"leave",H,a,Y),B.target=Xt,B.relatedTarget=U,X=null,Ei(Y)===z&&(pt=new pt(P,O+"enter",_t,a,Y),pt.target=U,pt.relatedTarget=Xt,X=pt),Xt=X,H&&_t)e:{for(pt=H,P=_t,O=0,U=pt;U;U=xa(U))O++;for(U=0,X=P;X;X=xa(X))U++;for(;0<O-U;)pt=xa(pt),O--;for(;0<U-O;)P=xa(P),U--;for(;O--;){if(pt===P||P!==null&&pt===P.alternate)break e;pt=xa(pt),P=xa(P)}pt=null}else pt=null;H!==null&&h_(Z,B,H,pt,!1),_t!==null&&Xt!==null&&h_(Z,Xt,_t,pt,!0)}}t:{if(B=z?Yn(z):window,H=B.nodeName&&B.nodeName.toLowerCase(),H==="select"||H==="input"&&B.type==="file")var lt=Op;else if(Ae(B))if(Np)lt=fS;else{lt=cS;var It=uS}else H=B.nodeName,!H||H.toLowerCase()!=="input"||B.type!=="checkbox"&&B.type!=="radio"?z&&Io(z.elementType)&&(lt=Op):lt=hS;if(lt&&(lt=lt(e,z))){Di(Z,lt,a,Y);break t}It&&It(e,B,z),e==="focusout"&&z&&B.type==="number"&&z.memoizedProps.value!=null&&or(B,"number",B.value)}switch(It=z?Yn(z):window,e){case"focusin":(Ae(It)||It.contentEditable==="true")&&(ha=It,Yh=z,Lo=null);break;case"focusout":Lo=Yh=ha=null;break;case"mousedown":Xh=!0;break;case"contextmenu":case"mouseup":case"dragend":Xh=!1,zp(Z,a,Y);break;case"selectionchange":if(mS)break;case"keydown":case"keyup":zp(Z,a,Y)}var ht;if(ei)t:{switch(e){case"compositionstart":var gt="onCompositionStart";break t;case"compositionend":gt="onCompositionEnd";break t;case"compositionupdate":gt="onCompositionUpdate";break t}gt=void 0}else Pt?j(e,a)&&(gt="onCompositionEnd"):e==="keydown"&&a.keyCode===229&&(gt="onCompositionStart");gt&&(_&&a.locale!=="ko"&&(Pt||gt!=="onCompositionStart"?gt==="onCompositionEnd"&&Pt&&(ht=Do()):(Zn=Y,lr="value"in Zn?Zn.value:Zn.textContent,Pt=!0)),It=dc(z,gt),0<It.length&&(gt=new Mo(gt,e,null,a,Y),Z.push({event:gt,listeners:It}),ht?gt.data=ht:(ht=rt(a),ht!==null&&(gt.data=ht)))),(ht=p?Se(e,a):xt(e,a))&&(gt=dc(z,"onBeforeInput"),0<gt.length&&(It=new Mo("onBeforeInput","beforeinput",null,a,Y),Z.push({event:It,listeners:gt}),It.data=ht)),$S(Z,e,z,a,Y)}u_(Z,i)})}function hl(e,i,a){return{instance:e,listener:i,currentTarget:a}}function dc(e,i){for(var a=i+"Capture",l=[];e!==null;){var h=e,d=h.stateNode;if(h=h.tag,h!==5&&h!==26&&h!==27||d===null||(h=us(e,a),h!=null&&l.unshift(hl(e,h,d)),h=us(e,i),h!=null&&l.push(hl(e,h,d))),e.tag===3)return l;e=e.return}return[]}function xa(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function h_(e,i,a,l,h){for(var d=i._reactName,v=[];a!==null&&a!==l;){var T=a,w=T.alternate,z=T.stateNode;if(T=T.tag,w!==null&&w===l)break;T!==5&&T!==26&&T!==27||z===null||(w=z,h?(z=us(a,d),z!=null&&v.unshift(hl(a,z,w))):h||(z=us(a,d),z!=null&&v.push(hl(a,z,w)))),a=a.return}v.length!==0&&e.push({event:i,listeners:v})}var tA=/\r\n?/g,eA=/\u0000|\uFFFD/g;function f_(e){return(typeof e=="string"?e:""+e).replace(tA,`
`).replace(eA,"")}function d_(e,i){return i=f_(i),f_(e)===i}function mc(){}function Yt(e,i,a,l,h,d){switch(a){case"children":typeof l=="string"?i==="body"||i==="textarea"&&l===""||vn(e,l):(typeof l=="number"||typeof l=="bigint")&&i!=="body"&&vn(e,""+l);break;case"className":Xn(e,"class",l);break;case"tabIndex":Xn(e,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":Xn(e,a,l);break;case"style":wo(e,l,d);break;case"data":if(i!=="object"){Xn(e,"data",l);break}case"src":case"href":if(l===""&&(i!=="a"||a!=="href")){e.removeAttribute(a);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){e.removeAttribute(a);break}l=na(""+l),e.setAttribute(a,l);break;case"action":case"formAction":if(typeof l=="function"){e.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof d=="function"&&(a==="formAction"?(i!=="input"&&Yt(e,i,"name",h.name,h,null),Yt(e,i,"formEncType",h.formEncType,h,null),Yt(e,i,"formMethod",h.formMethod,h,null),Yt(e,i,"formTarget",h.formTarget,h,null)):(Yt(e,i,"encType",h.encType,h,null),Yt(e,i,"method",h.method,h,null),Yt(e,i,"target",h.target,h,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){e.removeAttribute(a);break}l=na(""+l),e.setAttribute(a,l);break;case"onClick":l!=null&&(e.onclick=mc);break;case"onScroll":l!=null&&Dt("scroll",e);break;case"onScrollEnd":l!=null&&Dt("scrollend",e);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(a=l.__html,a!=null){if(h.children!=null)throw Error(s(60));e.innerHTML=a}}break;case"multiple":e.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":e.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){e.removeAttribute("xlink:href");break}a=na(""+l),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?e.setAttribute(a,""+l):e.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?e.setAttribute(a,""):e.removeAttribute(a);break;case"capture":case"download":l===!0?e.setAttribute(a,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?e.setAttribute(a,l):e.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?e.setAttribute(a,l):e.removeAttribute(a);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?e.removeAttribute(a):e.setAttribute(a,l);break;case"popover":Dt("beforetoggle",e),Dt("toggle",e),ar(e,"popover",l);break;case"xlinkActuate":Le(e,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":Le(e,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":Le(e,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":Le(e,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":Le(e,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":Le(e,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":Le(e,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":Le(e,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":Le(e,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":ar(e,"is",l);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=Hh.get(a)||a,ar(e,a,l))}}function vd(e,i,a,l,h,d){switch(a){case"style":wo(e,l,d);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(a=l.__html,a!=null){if(h.children!=null)throw Error(s(60));e.innerHTML=a}}break;case"children":typeof l=="string"?vn(e,l):(typeof l=="number"||typeof l=="bigint")&&vn(e,""+l);break;case"onScroll":l!=null&&Dt("scroll",e);break;case"onScrollEnd":l!=null&&Dt("scrollend",e);break;case"onClick":l!=null&&(e.onclick=mc);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Zs.hasOwnProperty(a))t:{if(a[0]==="o"&&a[1]==="n"&&(h=a.endsWith("Capture"),i=a.slice(2,h?a.length-7:void 0),d=e[pe]||null,d=d!=null?d[a]:null,typeof d=="function"&&e.removeEventListener(i,d,h),typeof l=="function")){typeof d!="function"&&d!==null&&(a in e?e[a]=null:e.hasAttribute(a)&&e.removeAttribute(a)),e.addEventListener(i,l,h);break t}a in e?e[a]=l:l===!0?e.setAttribute(a,""):ar(e,a,l)}}}function He(e,i,a){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Dt("error",e),Dt("load",e);var l=!1,h=!1,d;for(d in a)if(a.hasOwnProperty(d)){var v=a[d];if(v!=null)switch(d){case"src":l=!0;break;case"srcSet":h=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,i));default:Yt(e,i,d,v,a,null)}}h&&Yt(e,i,"srcSet",a.srcSet,a,null),l&&Yt(e,i,"src",a.src,a,null);return;case"input":Dt("invalid",e);var T=d=v=h=null,w=null,z=null;for(l in a)if(a.hasOwnProperty(l)){var Y=a[l];if(Y!=null)switch(l){case"name":h=Y;break;case"type":v=Y;break;case"checked":w=Y;break;case"defaultChecked":z=Y;break;case"value":d=Y;break;case"defaultValue":T=Y;break;case"children":case"dangerouslySetInnerHTML":if(Y!=null)throw Error(s(137,i));break;default:Yt(e,i,l,Y,a,null)}}as(e,d,T,w,z,v,h,!1),ea(e);return;case"select":Dt("invalid",e),l=v=d=null;for(h in a)if(a.hasOwnProperty(h)&&(T=a[h],T!=null))switch(h){case"value":d=T;break;case"defaultValue":v=T;break;case"multiple":l=T;default:Yt(e,i,h,T,a,null)}i=d,a=v,e.multiple=!!l,i!=null?Ai(e,!!l,i,!1):a!=null&&Ai(e,!!l,a,!0);return;case"textarea":Dt("invalid",e),d=h=l=null;for(v in a)if(a.hasOwnProperty(v)&&(T=a[v],T!=null))switch(v){case"value":l=T;break;case"defaultValue":h=T;break;case"children":d=T;break;case"dangerouslySetInnerHTML":if(T!=null)throw Error(s(91));break;default:Yt(e,i,v,T,a,null)}os(e,l,h,d),ea(e);return;case"option":for(w in a)if(a.hasOwnProperty(w)&&(l=a[w],l!=null))switch(w){case"selected":e.selected=l&&typeof l!="function"&&typeof l!="symbol";break;default:Yt(e,i,w,l,a,null)}return;case"dialog":Dt("beforetoggle",e),Dt("toggle",e),Dt("cancel",e),Dt("close",e);break;case"iframe":case"object":Dt("load",e);break;case"video":case"audio":for(l=0;l<cl.length;l++)Dt(cl[l],e);break;case"image":Dt("error",e),Dt("load",e);break;case"details":Dt("toggle",e);break;case"embed":case"source":case"link":Dt("error",e),Dt("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(z in a)if(a.hasOwnProperty(z)&&(l=a[z],l!=null))switch(z){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,i));default:Yt(e,i,z,l,a,null)}return;default:if(Io(i)){for(Y in a)a.hasOwnProperty(Y)&&(l=a[Y],l!==void 0&&vd(e,i,Y,l,a,void 0));return}}for(T in a)a.hasOwnProperty(T)&&(l=a[T],l!=null&&Yt(e,i,T,l,a,null))}function nA(e,i,a,l){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var h=null,d=null,v=null,T=null,w=null,z=null,Y=null;for(H in a){var Z=a[H];if(a.hasOwnProperty(H)&&Z!=null)switch(H){case"checked":break;case"value":break;case"defaultValue":w=Z;default:l.hasOwnProperty(H)||Yt(e,i,H,null,l,Z)}}for(var B in l){var H=l[B];if(Z=a[B],l.hasOwnProperty(B)&&(H!=null||Z!=null))switch(B){case"type":d=H;break;case"name":h=H;break;case"checked":z=H;break;case"defaultChecked":Y=H;break;case"value":v=H;break;case"defaultValue":T=H;break;case"children":case"dangerouslySetInnerHTML":if(H!=null)throw Error(s(137,i));break;default:H!==Z&&Yt(e,i,B,H,l,Z)}}ln(e,v,T,w,z,Y,d,h);return;case"select":H=v=T=B=null;for(d in a)if(w=a[d],a.hasOwnProperty(d)&&w!=null)switch(d){case"value":break;case"multiple":H=w;default:l.hasOwnProperty(d)||Yt(e,i,d,null,l,w)}for(h in l)if(d=l[h],w=a[h],l.hasOwnProperty(h)&&(d!=null||w!=null))switch(h){case"value":B=d;break;case"defaultValue":T=d;break;case"multiple":v=d;default:d!==w&&Yt(e,i,h,d,l,w)}i=T,a=v,l=H,B!=null?Ai(e,!!a,B,!1):!!l!=!!a&&(i!=null?Ai(e,!!a,i,!0):Ai(e,!!a,a?[]:"",!1));return;case"textarea":H=B=null;for(T in a)if(h=a[T],a.hasOwnProperty(T)&&h!=null&&!l.hasOwnProperty(T))switch(T){case"value":break;case"children":break;default:Yt(e,i,T,null,l,h)}for(v in l)if(h=l[v],d=a[v],l.hasOwnProperty(v)&&(h!=null||d!=null))switch(v){case"value":B=h;break;case"defaultValue":H=h;break;case"children":break;case"dangerouslySetInnerHTML":if(h!=null)throw Error(s(91));break;default:h!==d&&Yt(e,i,v,h,l,d)}Qt(e,B,H);return;case"option":for(var _t in a)if(B=a[_t],a.hasOwnProperty(_t)&&B!=null&&!l.hasOwnProperty(_t))switch(_t){case"selected":e.selected=!1;break;default:Yt(e,i,_t,null,l,B)}for(w in l)if(B=l[w],H=a[w],l.hasOwnProperty(w)&&B!==H&&(B!=null||H!=null))switch(w){case"selected":e.selected=B&&typeof B!="function"&&typeof B!="symbol";break;default:Yt(e,i,w,B,l,H)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var pt in a)B=a[pt],a.hasOwnProperty(pt)&&B!=null&&!l.hasOwnProperty(pt)&&Yt(e,i,pt,null,l,B);for(z in l)if(B=l[z],H=a[z],l.hasOwnProperty(z)&&B!==H&&(B!=null||H!=null))switch(z){case"children":case"dangerouslySetInnerHTML":if(B!=null)throw Error(s(137,i));break;default:Yt(e,i,z,B,l,H)}return;default:if(Io(i)){for(var Xt in a)B=a[Xt],a.hasOwnProperty(Xt)&&B!==void 0&&!l.hasOwnProperty(Xt)&&vd(e,i,Xt,void 0,l,B);for(Y in l)B=l[Y],H=a[Y],!l.hasOwnProperty(Y)||B===H||B===void 0&&H===void 0||vd(e,i,Y,B,l,H);return}}for(var P in a)B=a[P],a.hasOwnProperty(P)&&B!=null&&!l.hasOwnProperty(P)&&Yt(e,i,P,null,l,B);for(Z in l)B=l[Z],H=a[Z],!l.hasOwnProperty(Z)||B===H||B==null&&H==null||Yt(e,i,Z,B,l,H)}var Ed=null,Td=null;function pc(e){return e.nodeType===9?e:e.ownerDocument}function m_(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function p_(e,i){if(e===0)switch(i){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&i==="foreignObject"?0:e}function Sd(e,i){return e==="textarea"||e==="noscript"||typeof i.children=="string"||typeof i.children=="number"||typeof i.children=="bigint"||typeof i.dangerouslySetInnerHTML=="object"&&i.dangerouslySetInnerHTML!==null&&i.dangerouslySetInnerHTML.__html!=null}var Ad=null;function iA(){var e=window.event;return e&&e.type==="popstate"?e===Ad?!1:(Ad=e,!0):(Ad=null,!1)}var g_=typeof setTimeout=="function"?setTimeout:void 0,rA=typeof clearTimeout=="function"?clearTimeout:void 0,y_=typeof Promise=="function"?Promise:void 0,sA=typeof queueMicrotask=="function"?queueMicrotask:typeof y_<"u"?function(e){return y_.resolve(null).then(e).catch(aA)}:g_;function aA(e){setTimeout(function(){throw e})}function br(e){return e==="head"}function __(e,i){var a=i,l=0,h=0;do{var d=a.nextSibling;if(e.removeChild(a),d&&d.nodeType===8)if(a=d.data,a==="/$"){if(0<l&&8>l){a=l;var v=e.ownerDocument;if(a&1&&fl(v.documentElement),a&2&&fl(v.body),a&4)for(a=v.head,fl(a),v=a.firstChild;v;){var T=v.nextSibling,w=v.nodeName;v[ns]||w==="SCRIPT"||w==="STYLE"||w==="LINK"&&v.rel.toLowerCase()==="stylesheet"||a.removeChild(v),v=T}}if(h===0){e.removeChild(d),El(i);return}h--}else a==="$"||a==="$?"||a==="$!"?h++:l=a.charCodeAt(0)-48;else l=0;a=d}while(a);El(i)}function bd(e){var i=e.firstChild;for(i&&i.nodeType===10&&(i=i.nextSibling);i;){var a=i;switch(i=i.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":bd(a),sr(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}e.removeChild(a)}}function oA(e,i,a,l){for(;e.nodeType===1;){var h=a;if(e.nodeName.toLowerCase()!==i.toLowerCase()){if(!l&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(l){if(!e[ns])switch(i){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(d=e.getAttribute("rel"),d==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(d!==h.rel||e.getAttribute("href")!==(h.href==null||h.href===""?null:h.href)||e.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin)||e.getAttribute("title")!==(h.title==null?null:h.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(d=e.getAttribute("src"),(d!==(h.src==null?null:h.src)||e.getAttribute("type")!==(h.type==null?null:h.type)||e.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin))&&d&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(i==="input"&&e.type==="hidden"){var d=h.name==null?null:""+h.name;if(h.type==="hidden"&&e.getAttribute("name")===d)return e}else return e;if(e=Un(e.nextSibling),e===null)break}return null}function lA(e,i,a){if(i==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!a||(e=Un(e.nextSibling),e===null))return null;return e}function Rd(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState==="complete"}function uA(e,i){var a=e.ownerDocument;if(e.data!=="$?"||a.readyState==="complete")i();else{var l=function(){i(),a.removeEventListener("DOMContentLoaded",l)};a.addEventListener("DOMContentLoaded",l),e._reactRetry=l}}function Un(e){for(;e!=null;e=e.nextSibling){var i=e.nodeType;if(i===1||i===3)break;if(i===8){if(i=e.data,i==="$"||i==="$!"||i==="$?"||i==="F!"||i==="F")break;if(i==="/$")return null}}return e}var wd=null;function v_(e){e=e.previousSibling;for(var i=0;e;){if(e.nodeType===8){var a=e.data;if(a==="$"||a==="$!"||a==="$?"){if(i===0)return e;i--}else a==="/$"&&i++}e=e.previousSibling}return null}function E_(e,i,a){switch(i=pc(a),e){case"html":if(e=i.documentElement,!e)throw Error(s(452));return e;case"head":if(e=i.head,!e)throw Error(s(453));return e;case"body":if(e=i.body,!e)throw Error(s(454));return e;default:throw Error(s(451))}}function fl(e){for(var i=e.attributes;i.length;)e.removeAttributeNode(i[0]);sr(e)}var Dn=new Map,T_=new Set;function gc(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var qi=st.d;st.d={f:cA,r:hA,D:fA,C:dA,L:mA,m:pA,X:yA,S:gA,M:_A};function cA(){var e=qi.f(),i=oc();return e||i}function hA(e){var i=Kn(e);i!==null&&i.tag===5&&i.type==="form"?Hg(i):qi.r(e)}var ka=typeof document>"u"?null:document;function S_(e,i,a){var l=ka;if(l&&typeof i=="string"&&i){var h=ge(i);h='link[rel="'+e+'"][href="'+h+'"]',typeof a=="string"&&(h+='[crossorigin="'+a+'"]'),T_.has(h)||(T_.add(h),e={rel:e,crossOrigin:a,href:i},l.querySelector(h)===null&&(i=l.createElement("link"),He(i,"link",e),he(i),l.head.appendChild(i)))}}function fA(e){qi.D(e),S_("dns-prefetch",e,null)}function dA(e,i){qi.C(e,i),S_("preconnect",e,i)}function mA(e,i,a){qi.L(e,i,a);var l=ka;if(l&&e&&i){var h='link[rel="preload"][as="'+ge(i)+'"]';i==="image"&&a&&a.imageSrcSet?(h+='[imagesrcset="'+ge(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(h+='[imagesizes="'+ge(a.imageSizes)+'"]')):h+='[href="'+ge(e)+'"]';var d=h;switch(i){case"style":d=La(e);break;case"script":d=Ua(e)}Dn.has(d)||(e=E({rel:"preload",href:i==="image"&&a&&a.imageSrcSet?void 0:e,as:i},a),Dn.set(d,e),l.querySelector(h)!==null||i==="style"&&l.querySelector(dl(d))||i==="script"&&l.querySelector(ml(d))||(i=l.createElement("link"),He(i,"link",e),he(i),l.head.appendChild(i)))}}function pA(e,i){qi.m(e,i);var a=ka;if(a&&e){var l=i&&typeof i.as=="string"?i.as:"script",h='link[rel="modulepreload"][as="'+ge(l)+'"][href="'+ge(e)+'"]',d=h;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":d=Ua(e)}if(!Dn.has(d)&&(e=E({rel:"modulepreload",href:e},i),Dn.set(d,e),a.querySelector(h)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(ml(d)))return}l=a.createElement("link"),He(l,"link",e),he(l),a.head.appendChild(l)}}}function gA(e,i,a){qi.S(e,i,a);var l=ka;if(l&&e){var h=Je(l).hoistableStyles,d=La(e);i=i||"default";var v=h.get(d);if(!v){var T={loading:0,preload:null};if(v=l.querySelector(dl(d)))T.loading=5;else{e=E({rel:"stylesheet",href:e,"data-precedence":i},a),(a=Dn.get(d))&&Id(e,a);var w=v=l.createElement("link");he(w),He(w,"link",e),w._p=new Promise(function(z,Y){w.onload=z,w.onerror=Y}),w.addEventListener("load",function(){T.loading|=1}),w.addEventListener("error",function(){T.loading|=2}),T.loading|=4,yc(v,i,l)}v={type:"stylesheet",instance:v,count:1,state:T},h.set(d,v)}}}function yA(e,i){qi.X(e,i);var a=ka;if(a&&e){var l=Je(a).hoistableScripts,h=Ua(e),d=l.get(h);d||(d=a.querySelector(ml(h)),d||(e=E({src:e,async:!0},i),(i=Dn.get(h))&&Cd(e,i),d=a.createElement("script"),he(d),He(d,"link",e),a.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},l.set(h,d))}}function _A(e,i){qi.M(e,i);var a=ka;if(a&&e){var l=Je(a).hoistableScripts,h=Ua(e),d=l.get(h);d||(d=a.querySelector(ml(h)),d||(e=E({src:e,async:!0,type:"module"},i),(i=Dn.get(h))&&Cd(e,i),d=a.createElement("script"),he(d),He(d,"link",e),a.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},l.set(h,d))}}function A_(e,i,a,l){var h=(h=Et.current)?gc(h):null;if(!h)throw Error(s(446));switch(e){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(i=La(a.href),a=Je(h).hoistableStyles,l=a.get(i),l||(l={type:"style",instance:null,count:0,state:null},a.set(i,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){e=La(a.href);var d=Je(h).hoistableStyles,v=d.get(e);if(v||(h=h.ownerDocument||h,v={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},d.set(e,v),(d=h.querySelector(dl(e)))&&!d._p&&(v.instance=d,v.state.loading=5),Dn.has(e)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},Dn.set(e,a),d||vA(h,e,a,v.state))),i&&l===null)throw Error(s(528,""));return v}if(i&&l!==null)throw Error(s(529,""));return null;case"script":return i=a.async,a=a.src,typeof a=="string"&&i&&typeof i!="function"&&typeof i!="symbol"?(i=Ua(a),a=Je(h).hoistableScripts,l=a.get(i),l||(l={type:"script",instance:null,count:0,state:null},a.set(i,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,e))}}function La(e){return'href="'+ge(e)+'"'}function dl(e){return'link[rel="stylesheet"]['+e+"]"}function b_(e){return E({},e,{"data-precedence":e.precedence,precedence:null})}function vA(e,i,a,l){e.querySelector('link[rel="preload"][as="style"]['+i+"]")?l.loading=1:(i=e.createElement("link"),l.preload=i,i.addEventListener("load",function(){return l.loading|=1}),i.addEventListener("error",function(){return l.loading|=2}),He(i,"link",a),he(i),e.head.appendChild(i))}function Ua(e){return'[src="'+ge(e)+'"]'}function ml(e){return"script[async]"+e}function R_(e,i,a){if(i.count++,i.instance===null)switch(i.type){case"style":var l=e.querySelector('style[data-href~="'+ge(a.href)+'"]');if(l)return i.instance=l,he(l),l;var h=E({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return l=(e.ownerDocument||e).createElement("style"),he(l),He(l,"style",h),yc(l,a.precedence,e),i.instance=l;case"stylesheet":h=La(a.href);var d=e.querySelector(dl(h));if(d)return i.state.loading|=4,i.instance=d,he(d),d;l=b_(a),(h=Dn.get(h))&&Id(l,h),d=(e.ownerDocument||e).createElement("link"),he(d);var v=d;return v._p=new Promise(function(T,w){v.onload=T,v.onerror=w}),He(d,"link",l),i.state.loading|=4,yc(d,a.precedence,e),i.instance=d;case"script":return d=Ua(a.src),(h=e.querySelector(ml(d)))?(i.instance=h,he(h),h):(l=a,(h=Dn.get(d))&&(l=E({},a),Cd(l,h)),e=e.ownerDocument||e,h=e.createElement("script"),he(h),He(h,"link",l),e.head.appendChild(h),i.instance=h);case"void":return null;default:throw Error(s(443,i.type))}else i.type==="stylesheet"&&(i.state.loading&4)===0&&(l=i.instance,i.state.loading|=4,yc(l,a.precedence,e));return i.instance}function yc(e,i,a){for(var l=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),h=l.length?l[l.length-1]:null,d=h,v=0;v<l.length;v++){var T=l[v];if(T.dataset.precedence===i)d=T;else if(d!==h)break}d?d.parentNode.insertBefore(e,d.nextSibling):(i=a.nodeType===9?a.head:a,i.insertBefore(e,i.firstChild))}function Id(e,i){e.crossOrigin==null&&(e.crossOrigin=i.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=i.referrerPolicy),e.title==null&&(e.title=i.title)}function Cd(e,i){e.crossOrigin==null&&(e.crossOrigin=i.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=i.referrerPolicy),e.integrity==null&&(e.integrity=i.integrity)}var _c=null;function w_(e,i,a){if(_c===null){var l=new Map,h=_c=new Map;h.set(a,l)}else h=_c,l=h.get(a),l||(l=new Map,h.set(a,l));if(l.has(e))return l;for(l.set(e,null),a=a.getElementsByTagName(e),h=0;h<a.length;h++){var d=a[h];if(!(d[ns]||d[Te]||e==="link"&&d.getAttribute("rel")==="stylesheet")&&d.namespaceURI!=="http://www.w3.org/2000/svg"){var v=d.getAttribute(i)||"";v=e+v;var T=l.get(v);T?T.push(d):l.set(v,[d])}}return l}function I_(e,i,a){e=e.ownerDocument||e,e.head.insertBefore(a,i==="title"?e.querySelector("head > title"):null)}function EA(e,i,a){if(a===1||i.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof i.precedence!="string"||typeof i.href!="string"||i.href==="")break;return!0;case"link":if(typeof i.rel!="string"||typeof i.href!="string"||i.href===""||i.onLoad||i.onError)break;switch(i.rel){case"stylesheet":return e=i.disabled,typeof i.precedence=="string"&&e==null;default:return!0}case"script":if(i.async&&typeof i.async!="function"&&typeof i.async!="symbol"&&!i.onLoad&&!i.onError&&i.src&&typeof i.src=="string")return!0}return!1}function C_(e){return!(e.type==="stylesheet"&&(e.state.loading&3)===0)}var pl=null;function TA(){}function SA(e,i,a){if(pl===null)throw Error(s(475));var l=pl;if(i.type==="stylesheet"&&(typeof a.media!="string"||matchMedia(a.media).matches!==!1)&&(i.state.loading&4)===0){if(i.instance===null){var h=La(a.href),d=e.querySelector(dl(h));if(d){e=d._p,e!==null&&typeof e=="object"&&typeof e.then=="function"&&(l.count++,l=vc.bind(l),e.then(l,l)),i.state.loading|=4,i.instance=d,he(d);return}d=e.ownerDocument||e,a=b_(a),(h=Dn.get(h))&&Id(a,h),d=d.createElement("link"),he(d);var v=d;v._p=new Promise(function(T,w){v.onload=T,v.onerror=w}),He(d,"link",a),i.instance=d}l.stylesheets===null&&(l.stylesheets=new Map),l.stylesheets.set(i,e),(e=i.state.preload)&&(i.state.loading&3)===0&&(l.count++,i=vc.bind(l),e.addEventListener("load",i),e.addEventListener("error",i))}}function AA(){if(pl===null)throw Error(s(475));var e=pl;return e.stylesheets&&e.count===0&&Dd(e,e.stylesheets),0<e.count?function(i){var a=setTimeout(function(){if(e.stylesheets&&Dd(e,e.stylesheets),e.unsuspend){var l=e.unsuspend;e.unsuspend=null,l()}},6e4);return e.unsuspend=i,function(){e.unsuspend=null,clearTimeout(a)}}:null}function vc(){if(this.count--,this.count===0){if(this.stylesheets)Dd(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var Ec=null;function Dd(e,i){e.stylesheets=null,e.unsuspend!==null&&(e.count++,Ec=new Map,i.forEach(bA,e),Ec=null,vc.call(e))}function bA(e,i){if(!(i.state.loading&4)){var a=Ec.get(e);if(a)var l=a.get(null);else{a=new Map,Ec.set(e,a);for(var h=e.querySelectorAll("link[data-precedence],style[data-precedence]"),d=0;d<h.length;d++){var v=h[d];(v.nodeName==="LINK"||v.getAttribute("media")!=="not all")&&(a.set(v.dataset.precedence,v),l=v)}l&&a.set(null,l)}h=i.instance,v=h.getAttribute("data-precedence"),d=a.get(v)||l,d===l&&a.set(null,h),a.set(v,h),this.count++,l=vc.bind(this),h.addEventListener("load",l),h.addEventListener("error",l),d?d.parentNode.insertBefore(h,d.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(h,e.firstChild)),i.state.loading|=4}}var gl={$$typeof:it,Provider:null,Consumer:null,_currentValue:ft,_currentValue2:ft,_threadCount:0};function RA(e,i,a,l,h,d,v,T){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=_i(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=_i(0),this.hiddenUpdates=_i(null),this.identifierPrefix=l,this.onUncaughtError=h,this.onCaughtError=d,this.onRecoverableError=v,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=T,this.incompleteTransitions=new Map}function D_(e,i,a,l,h,d,v,T,w,z,Y,Z){return e=new RA(e,i,a,v,T,w,z,Z),i=1,d===!0&&(i|=24),d=cn(3,null,null,i),e.current=d,d.stateNode=e,i=cf(),i.refCount++,e.pooledCache=i,i.refCount++,d.memoizedState={element:l,isDehydrated:a,cache:i},mf(d),e}function O_(e){return e?(e=pa,e):pa}function N_(e,i,a,l,h,d){h=O_(h),l.context===null?l.context=h:l.pendingContext=h,l=hr(i),l.payload={element:a},d=d===void 0?null:d,d!==null&&(l.callback=d),a=fr(e,l,i),a!==null&&(pn(a,e,i),Qo(a,e,i))}function M_(e,i){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var a=e.retryLane;e.retryLane=a!==0&&a<i?a:i}}function Od(e,i){M_(e,i),(e=e.alternate)&&M_(e,i)}function V_(e){if(e.tag===13){var i=ma(e,67108864);i!==null&&pn(i,e,67108864),Od(e,67108864)}}var Tc=!0;function wA(e,i,a,l){var h=K.T;K.T=null;var d=st.p;try{st.p=2,Nd(e,i,a,l)}finally{st.p=d,K.T=h}}function IA(e,i,a,l){var h=K.T;K.T=null;var d=st.p;try{st.p=8,Nd(e,i,a,l)}finally{st.p=d,K.T=h}}function Nd(e,i,a,l){if(Tc){var h=Md(l);if(h===null)_d(e,i,l,Sc,a),x_(e,l);else if(DA(h,e,i,a,l))l.stopPropagation();else if(x_(e,l),i&4&&-1<CA.indexOf(e)){for(;h!==null;){var d=Kn(h);if(d!==null)switch(d.tag){case 3:if(d=d.stateNode,d.current.memoizedState.isDehydrated){var v=Vn(d.pendingLanes);if(v!==0){var T=d;for(T.pendingLanes|=2,T.entangledLanes|=2;v;){var w=1<<31-Ge(v);T.entanglements[1]|=w,v&=~w}oi(d),(Ft&6)===0&&(sc=yn()+500,ul(0))}}break;case 13:T=ma(d,2),T!==null&&pn(T,d,2),oc(),Od(d,2)}if(d=Md(l),d===null&&_d(e,i,l,Sc,a),d===h)break;h=d}h!==null&&l.stopPropagation()}else _d(e,i,l,null,a)}}function Md(e){return e=En(e),Vd(e)}var Sc=null;function Vd(e){if(Sc=null,e=Ei(e),e!==null){var i=u(e);if(i===null)e=null;else{var a=i.tag;if(a===13){if(e=f(i),e!==null)return e;e=null}else if(a===3){if(i.stateNode.current.memoizedState.isDehydrated)return i.tag===3?i.stateNode.containerInfo:null;e=null}else i!==e&&(e=null)}}return Sc=e,null}function P_(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(xh()){case mo:return 2;case Ks:return 8;case Zr:case kh:return 32;case Ys:return 268435456;default:return 32}default:return 32}}var Pd=!1,Rr=null,wr=null,Ir=null,yl=new Map,_l=new Map,Cr=[],CA="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function x_(e,i){switch(e){case"focusin":case"focusout":Rr=null;break;case"dragenter":case"dragleave":wr=null;break;case"mouseover":case"mouseout":Ir=null;break;case"pointerover":case"pointerout":yl.delete(i.pointerId);break;case"gotpointercapture":case"lostpointercapture":_l.delete(i.pointerId)}}function vl(e,i,a,l,h,d){return e===null||e.nativeEvent!==d?(e={blockedOn:i,domEventName:a,eventSystemFlags:l,nativeEvent:d,targetContainers:[h]},i!==null&&(i=Kn(i),i!==null&&V_(i)),e):(e.eventSystemFlags|=l,i=e.targetContainers,h!==null&&i.indexOf(h)===-1&&i.push(h),e)}function DA(e,i,a,l,h){switch(i){case"focusin":return Rr=vl(Rr,e,i,a,l,h),!0;case"dragenter":return wr=vl(wr,e,i,a,l,h),!0;case"mouseover":return Ir=vl(Ir,e,i,a,l,h),!0;case"pointerover":var d=h.pointerId;return yl.set(d,vl(yl.get(d)||null,e,i,a,l,h)),!0;case"gotpointercapture":return d=h.pointerId,_l.set(d,vl(_l.get(d)||null,e,i,a,l,h)),!0}return!1}function k_(e){var i=Ei(e.target);if(i!==null){var a=u(i);if(a!==null){if(i=a.tag,i===13){if(i=f(a),i!==null){e.blockedOn=i,ou(e.priority,function(){if(a.tag===13){var l=mn();l=nr(l);var h=ma(a,l);h!==null&&pn(h,a,l),Od(a,l)}});return}}else if(i===3&&a.stateNode.current.memoizedState.isDehydrated){e.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Ac(e){if(e.blockedOn!==null)return!1;for(var i=e.targetContainers;0<i.length;){var a=Md(e.nativeEvent);if(a===null){a=e.nativeEvent;var l=new a.constructor(a.type,a);bi=l,a.target.dispatchEvent(l),bi=null}else return i=Kn(a),i!==null&&V_(i),e.blockedOn=a,!1;i.shift()}return!0}function L_(e,i,a){Ac(e)&&a.delete(i)}function OA(){Pd=!1,Rr!==null&&Ac(Rr)&&(Rr=null),wr!==null&&Ac(wr)&&(wr=null),Ir!==null&&Ac(Ir)&&(Ir=null),yl.forEach(L_),_l.forEach(L_)}function bc(e,i){e.blockedOn===i&&(e.blockedOn=null,Pd||(Pd=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,OA)))}var Rc=null;function U_(e){Rc!==e&&(Rc=e,r.unstable_scheduleCallback(r.unstable_NormalPriority,function(){Rc===e&&(Rc=null);for(var i=0;i<e.length;i+=3){var a=e[i],l=e[i+1],h=e[i+2];if(typeof l!="function"){if(Vd(l||a)===null)continue;break}var d=Kn(a);d!==null&&(e.splice(i,3),i-=3,Vf(d,{pending:!0,data:h,method:a.method,action:l},l,h))}}))}function El(e){function i(w){return bc(w,e)}Rr!==null&&bc(Rr,e),wr!==null&&bc(wr,e),Ir!==null&&bc(Ir,e),yl.forEach(i),_l.forEach(i);for(var a=0;a<Cr.length;a++){var l=Cr[a];l.blockedOn===e&&(l.blockedOn=null)}for(;0<Cr.length&&(a=Cr[0],a.blockedOn===null);)k_(a),a.blockedOn===null&&Cr.shift();if(a=(e.ownerDocument||e).$$reactFormReplay,a!=null)for(l=0;l<a.length;l+=3){var h=a[l],d=a[l+1],v=h[pe]||null;if(typeof d=="function")v||U_(a);else if(v){var T=null;if(d&&d.hasAttribute("formAction")){if(h=d,v=d[pe]||null)T=v.formAction;else if(Vd(h)!==null)continue}else T=v.action;typeof T=="function"?a[l+1]=T:(a.splice(l,3),l-=3),U_(a)}}}function xd(e){this._internalRoot=e}wc.prototype.render=xd.prototype.render=function(e){var i=this._internalRoot;if(i===null)throw Error(s(409));var a=i.current,l=mn();N_(a,l,e,i,null,null)},wc.prototype.unmount=xd.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var i=e.containerInfo;N_(e.current,2,null,e,null,null),oc(),i[_n]=null}};function wc(e){this._internalRoot=e}wc.prototype.unstable_scheduleHydration=function(e){if(e){var i=ir();e={blockedOn:null,target:e,priority:i};for(var a=0;a<Cr.length&&i!==0&&i<Cr[a].priority;a++);Cr.splice(a,0,e),a===0&&k_(e)}};var z_=t.version;if(z_!=="19.1.1")throw Error(s(527,z_,"19.1.1"));st.findDOMNode=function(e){var i=e._reactInternals;if(i===void 0)throw typeof e.render=="function"?Error(s(188)):(e=Object.keys(e).join(","),Error(s(268,e)));return e=y(i),e=e!==null?g(e):null,e=e===null?null:e.stateNode,e};var NA={bundleType:0,version:"19.1.1",rendererPackageName:"react-dom",currentDispatcherRef:K,reconcilerVersion:"19.1.1"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Ic=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Ic.isDisabled&&Ic.supportsFiber)try{le=Ic.inject(NA),jt=Ic}catch{}}return Al.createRoot=function(e,i){if(!o(e))throw Error(s(299));var a=!1,l="",h=ey,d=ny,v=iy,T=null;return i!=null&&(i.unstable_strictMode===!0&&(a=!0),i.identifierPrefix!==void 0&&(l=i.identifierPrefix),i.onUncaughtError!==void 0&&(h=i.onUncaughtError),i.onCaughtError!==void 0&&(d=i.onCaughtError),i.onRecoverableError!==void 0&&(v=i.onRecoverableError),i.unstable_transitionCallbacks!==void 0&&(T=i.unstable_transitionCallbacks)),i=D_(e,1,!1,null,null,a,l,h,d,v,T,null),e[_n]=i.current,yd(e),new xd(i)},Al.hydrateRoot=function(e,i,a){if(!o(e))throw Error(s(299));var l=!1,h="",d=ey,v=ny,T=iy,w=null,z=null;return a!=null&&(a.unstable_strictMode===!0&&(l=!0),a.identifierPrefix!==void 0&&(h=a.identifierPrefix),a.onUncaughtError!==void 0&&(d=a.onUncaughtError),a.onCaughtError!==void 0&&(v=a.onCaughtError),a.onRecoverableError!==void 0&&(T=a.onRecoverableError),a.unstable_transitionCallbacks!==void 0&&(w=a.unstable_transitionCallbacks),a.formState!==void 0&&(z=a.formState)),i=D_(e,1,!0,i,a??null,l,h,d,v,T,w,z),i.context=O_(null),a=i.current,l=mn(),l=nr(l),h=hr(l),h.callback=null,fr(a,h,l),a=l,i.current.lanes=a,vi(i,a),oi(i),e[_n]=i.current,yd(e),new wc(i)},Al.version="19.1.1",Al}var ev;function yb(){if(ev)return Hd.exports;ev=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(t){console.error(t)}}return r(),Hd.exports=gb(),Hd.exports}var _b=yb();const vb=()=>{};var nv={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FE=function(r){const t=[];let n=0;for(let s=0;s<r.length;s++){let o=r.charCodeAt(s);o<128?t[n++]=o:o<2048?(t[n++]=o>>6|192,t[n++]=o&63|128):(o&64512)===55296&&s+1<r.length&&(r.charCodeAt(s+1)&64512)===56320?(o=65536+((o&1023)<<10)+(r.charCodeAt(++s)&1023),t[n++]=o>>18|240,t[n++]=o>>12&63|128,t[n++]=o>>6&63|128,t[n++]=o&63|128):(t[n++]=o>>12|224,t[n++]=o>>6&63|128,t[n++]=o&63|128)}return t},Eb=function(r){const t=[];let n=0,s=0;for(;n<r.length;){const o=r[n++];if(o<128)t[s++]=String.fromCharCode(o);else if(o>191&&o<224){const u=r[n++];t[s++]=String.fromCharCode((o&31)<<6|u&63)}else if(o>239&&o<365){const u=r[n++],f=r[n++],m=r[n++],y=((o&7)<<18|(u&63)<<12|(f&63)<<6|m&63)-65536;t[s++]=String.fromCharCode(55296+(y>>10)),t[s++]=String.fromCharCode(56320+(y&1023))}else{const u=r[n++],f=r[n++];t[s++]=String.fromCharCode((o&15)<<12|(u&63)<<6|f&63)}}return t.join("")},GE={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(r,t){if(!Array.isArray(r))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,s=[];for(let o=0;o<r.length;o+=3){const u=r[o],f=o+1<r.length,m=f?r[o+1]:0,y=o+2<r.length,g=y?r[o+2]:0,E=u>>2,A=(u&3)<<4|m>>4;let R=(m&15)<<2|g>>6,k=g&63;y||(k=64,f||(R=64)),s.push(n[E],n[A],n[R],n[k])}return s.join("")},encodeString(r,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(r):this.encodeByteArray(FE(r),t)},decodeString(r,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(r):Eb(this.decodeStringToByteArray(r,t))},decodeStringToByteArray(r,t){this.init_();const n=t?this.charToByteMapWebSafe_:this.charToByteMap_,s=[];for(let o=0;o<r.length;){const u=n[r.charAt(o++)],m=o<r.length?n[r.charAt(o)]:0;++o;const g=o<r.length?n[r.charAt(o)]:64;++o;const A=o<r.length?n[r.charAt(o)]:64;if(++o,u==null||m==null||g==null||A==null)throw new Tb;const R=u<<2|m>>4;if(s.push(R),g!==64){const k=m<<4&240|g>>2;if(s.push(k),A!==64){const F=g<<6&192|A;s.push(F)}}}return s},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let r=0;r<this.ENCODED_VALS.length;r++)this.byteToCharMap_[r]=this.ENCODED_VALS.charAt(r),this.charToByteMap_[this.byteToCharMap_[r]]=r,this.byteToCharMapWebSafe_[r]=this.ENCODED_VALS_WEBSAFE.charAt(r),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[r]]=r,r>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(r)]=r,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(r)]=r)}}};class Tb extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const Sb=function(r){const t=FE(r);return GE.encodeByteArray(t,!0)},Xc=function(r){return Sb(r).replace(/\./g,"")},QE=function(r){try{return GE.decodeString(r,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ab(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bb=()=>Ab().__FIREBASE_DEFAULTS__,Rb=()=>{if(typeof process>"u"||typeof nv>"u")return;const r=nv.__FIREBASE_DEFAULTS__;if(r)return JSON.parse(r)},wb=()=>{if(typeof document>"u")return;let r;try{r=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const t=r&&QE(r[1]);return t&&JSON.parse(t)},_h=()=>{try{return vb()||bb()||Rb()||wb()}catch(r){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${r}`);return}},KE=r=>_h()?.emulatorHosts?.[r],Ib=r=>{const t=KE(r);if(!t)return;const n=t.lastIndexOf(":");if(n<=0||n+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);const s=parseInt(t.substring(n+1),10);return t[0]==="["?[t.substring(1,n-1),s]:[t.substring(0,n),s]},YE=()=>_h()?.config,XE=r=>_h()?.[`_${r}`];/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cb{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,n)=>{this.resolve=t,this.reject=n})}wrapCallback(t){return(n,s)=>{n?this.reject(n):this.resolve(s),typeof t=="function"&&(this.promise.catch(()=>{}),t.length===1?t(n):t(n,s))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function so(r){try{return(r.startsWith("http://")||r.startsWith("https://")?new URL(r).hostname:r).endsWith(".cloudworkstations.dev")}catch{return!1}}async function $E(r){return(await fetch(r,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Db(r,t){if(r.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},s=t||"demo-project",o=r.iat||0,u=r.sub||r.user_id;if(!u)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const f={iss:`https://securetoken.google.com/${s}`,aud:s,iat:o,exp:o+3600,auth_time:o,sub:u,user_id:u,firebase:{sign_in_provider:"custom",identities:{}},...r};return[Xc(JSON.stringify(n)),Xc(JSON.stringify(f)),""].join(".")}const Dl={};function Ob(){const r={prod:[],emulator:[]};for(const t of Object.keys(Dl))Dl[t]?r.emulator.push(t):r.prod.push(t);return r}function Nb(r){let t=document.getElementById(r),n=!1;return t||(t=document.createElement("div"),t.setAttribute("id",r),n=!0),{created:n,element:t}}let iv=!1;function ZE(r,t){if(typeof window>"u"||typeof document>"u"||!so(window.location.host)||Dl[r]===t||Dl[r]||iv)return;Dl[r]=t;function n(R){return`__firebase__banner__${R}`}const s="__firebase__banner",u=Ob().prod.length>0;function f(){const R=document.getElementById(s);R&&R.remove()}function m(R){R.style.display="flex",R.style.background="#7faaf0",R.style.position="fixed",R.style.bottom="5px",R.style.left="5px",R.style.padding=".5em",R.style.borderRadius="5px",R.style.alignItems="center"}function y(R,k){R.setAttribute("width","24"),R.setAttribute("id",k),R.setAttribute("height","24"),R.setAttribute("viewBox","0 0 24 24"),R.setAttribute("fill","none"),R.style.marginLeft="-6px"}function g(){const R=document.createElement("span");return R.style.cursor="pointer",R.style.marginLeft="16px",R.style.fontSize="24px",R.innerHTML=" &times;",R.onclick=()=>{iv=!0,f()},R}function E(R,k){R.setAttribute("id",k),R.innerText="Learn more",R.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",R.setAttribute("target","__blank"),R.style.paddingLeft="5px",R.style.textDecoration="underline"}function A(){const R=Nb(s),k=n("text"),F=document.getElementById(k)||document.createElement("span"),G=n("learnmore"),q=document.getElementById(G)||document.createElement("a"),et=n("preprendIcon"),$=document.getElementById(et)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(R.created){const it=R.element;m(it),E(q,G);const Tt=g();y($,et),it.append($,F,q,Tt),document.body.appendChild(it)}u?(F.innerText="Preview backend disconnected.",$.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):($.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,F.innerText="Preview backend running in this workspace."),F.setAttribute("id",k)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",A):A()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ze(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function Mb(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Ze())}function Vb(){const r=_h()?.forceEnvironment;if(r==="node")return!0;if(r==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function Pb(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function xb(){const r=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof r=="object"&&r.id!==void 0}function kb(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function Lb(){const r=Ze();return r.indexOf("MSIE ")>=0||r.indexOf("Trident/")>=0}function Ub(){return!Vb()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function zb(){try{return typeof indexedDB=="object"}catch{return!1}}function Bb(){return new Promise((r,t)=>{try{let n=!0;const s="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(s);o.onsuccess=()=>{o.result.close(),n||self.indexedDB.deleteDatabase(s),r(!0)},o.onupgradeneeded=()=>{n=!1},o.onerror=()=>{t(o.error?.message||"")}}catch(n){t(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hb="FirebaseError";class tr extends Error{constructor(t,n,s){super(n),this.code=t,this.customData=s,this.name=Hb,Object.setPrototypeOf(this,tr.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Yl.prototype.create)}}class Yl{constructor(t,n,s){this.service=t,this.serviceName=n,this.errors=s}create(t,...n){const s=n[0]||{},o=`${this.service}/${t}`,u=this.errors[t],f=u?qb(u,s):"Error",m=`${this.serviceName}: ${f} (${o}).`;return new tr(o,m,s)}}function qb(r,t){return r.replace(jb,(n,s)=>{const o=t[s];return o!=null?String(o):`<${s}?>`})}const jb=/\{\$([^}]+)}/g;function Fb(r){for(const t in r)if(Object.prototype.hasOwnProperty.call(r,t))return!1;return!0}function Ls(r,t){if(r===t)return!0;const n=Object.keys(r),s=Object.keys(t);for(const o of n){if(!s.includes(o))return!1;const u=r[o],f=t[o];if(rv(u)&&rv(f)){if(!Ls(u,f))return!1}else if(u!==f)return!1}for(const o of s)if(!n.includes(o))return!1;return!0}function rv(r){return r!==null&&typeof r=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xl(r){const t=[];for(const[n,s]of Object.entries(r))Array.isArray(s)?s.forEach(o=>{t.push(encodeURIComponent(n)+"="+encodeURIComponent(o))}):t.push(encodeURIComponent(n)+"="+encodeURIComponent(s));return t.length?"&"+t.join("&"):""}function Gb(r,t){const n=new Qb(r,t);return n.subscribe.bind(n)}class Qb{constructor(t,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{t(this)}).catch(s=>{this.error(s)})}next(t){this.forEachObserver(n=>{n.next(t)})}error(t){this.forEachObserver(n=>{n.error(t)}),this.close(t)}complete(){this.forEachObserver(t=>{t.complete()}),this.close()}subscribe(t,n,s){let o;if(t===void 0&&n===void 0&&s===void 0)throw new Error("Missing Observer.");Kb(t,["next","error","complete"])?o=t:o={next:t,error:n,complete:s},o.next===void 0&&(o.next=Fd),o.error===void 0&&(o.error=Fd),o.complete===void 0&&(o.complete=Fd);const u=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?o.error(this.finalError):o.complete()}catch{}}),this.observers.push(o),u}unsubscribeOne(t){this.observers===void 0||this.observers[t]===void 0||(delete this.observers[t],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(t){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,t)}sendOne(t,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[t]!==void 0)try{n(this.observers[t])}catch(s){typeof console<"u"&&console.error&&console.error(s)}})}close(t){this.finalized||(this.finalized=!0,t!==void 0&&(this.finalError=t),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function Kb(r,t){if(typeof r!="object"||r===null)return!1;for(const n of t)if(n in r&&typeof r[n]=="function")return!0;return!1}function Fd(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gn(r){return r&&r._delegate?r._delegate:r}class Us{constructor(t,n,s){this.name=t,this.instanceFactory=n,this.type=s,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ns="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yb{constructor(t,n){this.name=t,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){const n=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(n)){const s=new Cb;if(this.instancesDeferred.set(n,s),this.isInitialized(n)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:n});o&&s.resolve(o)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(t){const n=this.normalizeInstanceIdentifier(t?.identifier),s=t?.optional??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(o){if(s)return null;throw o}else{if(s)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,!!this.shouldAutoInitialize()){if($b(t))try{this.getOrInitializeService({instanceIdentifier:Ns})}catch{}for(const[n,s]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(n);try{const u=this.getOrInitializeService({instanceIdentifier:o});s.resolve(u)}catch{}}}}clearInstance(t=Ns){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}async delete(){const t=Array.from(this.instances.values());await Promise.all([...t.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...t.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(t=Ns){return this.instances.has(t)}getOptions(t=Ns){return this.instancesOptions.get(t)||{}}initialize(t={}){const{options:n={}}=t,s=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(s))throw Error(`${this.name}(${s}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:s,options:n});for(const[u,f]of this.instancesDeferred.entries()){const m=this.normalizeInstanceIdentifier(u);s===m&&f.resolve(o)}return o}onInit(t,n){const s=this.normalizeInstanceIdentifier(n),o=this.onInitCallbacks.get(s)??new Set;o.add(t),this.onInitCallbacks.set(s,o);const u=this.instances.get(s);return u&&t(u,s),()=>{o.delete(t)}}invokeOnInitCallbacks(t,n){const s=this.onInitCallbacks.get(n);if(s)for(const o of s)try{o(t,n)}catch{}}getOrInitializeService({instanceIdentifier:t,options:n={}}){let s=this.instances.get(t);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:Xb(t),options:n}),this.instances.set(t,s),this.instancesOptions.set(t,n),this.invokeOnInitCallbacks(s,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,s)}catch{}return s||null}normalizeInstanceIdentifier(t=Ns){return this.component?this.component.multipleInstances?t:Ns:t}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function Xb(r){return r===Ns?void 0:r}function $b(r){return r.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zb{constructor(t){this.name=t,this.providers=new Map}addComponent(t){const n=this.getProvider(t.name);if(n.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);n.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);const n=new Yb(t,this);return this.providers.set(t,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ot;(function(r){r[r.DEBUG=0]="DEBUG",r[r.VERBOSE=1]="VERBOSE",r[r.INFO=2]="INFO",r[r.WARN=3]="WARN",r[r.ERROR=4]="ERROR",r[r.SILENT=5]="SILENT"})(Ot||(Ot={}));const Jb={debug:Ot.DEBUG,verbose:Ot.VERBOSE,info:Ot.INFO,warn:Ot.WARN,error:Ot.ERROR,silent:Ot.SILENT},Wb=Ot.INFO,tR={[Ot.DEBUG]:"log",[Ot.VERBOSE]:"log",[Ot.INFO]:"info",[Ot.WARN]:"warn",[Ot.ERROR]:"error"},eR=(r,t,...n)=>{if(t<r.logLevel)return;const s=new Date().toISOString(),o=tR[t];if(o)console[o](`[${s}]  ${r.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`)};class Lm{constructor(t){this.name=t,this._logLevel=Wb,this._logHandler=eR,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in Ot))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel=typeof t=="string"?Jb[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,Ot.DEBUG,...t),this._logHandler(this,Ot.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,Ot.VERBOSE,...t),this._logHandler(this,Ot.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,Ot.INFO,...t),this._logHandler(this,Ot.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,Ot.WARN,...t),this._logHandler(this,Ot.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,Ot.ERROR,...t),this._logHandler(this,Ot.ERROR,...t)}}const nR=(r,t)=>t.some(n=>r instanceof n);let sv,av;function iR(){return sv||(sv=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function rR(){return av||(av=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const JE=new WeakMap,rm=new WeakMap,WE=new WeakMap,Gd=new WeakMap,Um=new WeakMap;function sR(r){const t=new Promise((n,s)=>{const o=()=>{r.removeEventListener("success",u),r.removeEventListener("error",f)},u=()=>{n(xr(r.result)),o()},f=()=>{s(r.error),o()};r.addEventListener("success",u),r.addEventListener("error",f)});return t.then(n=>{n instanceof IDBCursor&&JE.set(n,r)}).catch(()=>{}),Um.set(t,r),t}function aR(r){if(rm.has(r))return;const t=new Promise((n,s)=>{const o=()=>{r.removeEventListener("complete",u),r.removeEventListener("error",f),r.removeEventListener("abort",f)},u=()=>{n(),o()},f=()=>{s(r.error||new DOMException("AbortError","AbortError")),o()};r.addEventListener("complete",u),r.addEventListener("error",f),r.addEventListener("abort",f)});rm.set(r,t)}let sm={get(r,t,n){if(r instanceof IDBTransaction){if(t==="done")return rm.get(r);if(t==="objectStoreNames")return r.objectStoreNames||WE.get(r);if(t==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return xr(r[t])},set(r,t,n){return r[t]=n,!0},has(r,t){return r instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in r}};function oR(r){sm=r(sm)}function lR(r){return r===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...n){const s=r.call(Qd(this),t,...n);return WE.set(s,t.sort?t.sort():[t]),xr(s)}:rR().includes(r)?function(...t){return r.apply(Qd(this),t),xr(JE.get(this))}:function(...t){return xr(r.apply(Qd(this),t))}}function uR(r){return typeof r=="function"?lR(r):(r instanceof IDBTransaction&&aR(r),nR(r,iR())?new Proxy(r,sm):r)}function xr(r){if(r instanceof IDBRequest)return sR(r);if(Gd.has(r))return Gd.get(r);const t=uR(r);return t!==r&&(Gd.set(r,t),Um.set(t,r)),t}const Qd=r=>Um.get(r);function cR(r,t,{blocked:n,upgrade:s,blocking:o,terminated:u}={}){const f=indexedDB.open(r,t),m=xr(f);return s&&f.addEventListener("upgradeneeded",y=>{s(xr(f.result),y.oldVersion,y.newVersion,xr(f.transaction),y)}),n&&f.addEventListener("blocked",y=>n(y.oldVersion,y.newVersion,y)),m.then(y=>{u&&y.addEventListener("close",()=>u()),o&&y.addEventListener("versionchange",g=>o(g.oldVersion,g.newVersion,g))}).catch(()=>{}),m}const hR=["get","getKey","getAll","getAllKeys","count"],fR=["put","add","delete","clear"],Kd=new Map;function ov(r,t){if(!(r instanceof IDBDatabase&&!(t in r)&&typeof t=="string"))return;if(Kd.get(t))return Kd.get(t);const n=t.replace(/FromIndex$/,""),s=t!==n,o=fR.includes(n);if(!(n in(s?IDBIndex:IDBObjectStore).prototype)||!(o||hR.includes(n)))return;const u=async function(f,...m){const y=this.transaction(f,o?"readwrite":"readonly");let g=y.store;return s&&(g=g.index(m.shift())),(await Promise.all([g[n](...m),o&&y.done]))[0]};return Kd.set(t,u),u}oR(r=>({...r,get:(t,n,s)=>ov(t,n)||r.get(t,n,s),has:(t,n)=>!!ov(t,n)||r.has(t,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dR{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(mR(n)){const s=n.getImmediate();return`${s.library}/${s.version}`}else return null}).filter(n=>n).join(" ")}}function mR(r){return r.getComponent()?.type==="VERSION"}const am="@firebase/app",lv="0.14.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $i=new Lm("@firebase/app"),pR="@firebase/app-compat",gR="@firebase/analytics-compat",yR="@firebase/analytics",_R="@firebase/app-check-compat",vR="@firebase/app-check",ER="@firebase/auth",TR="@firebase/auth-compat",SR="@firebase/database",AR="@firebase/data-connect",bR="@firebase/database-compat",RR="@firebase/functions",wR="@firebase/functions-compat",IR="@firebase/installations",CR="@firebase/installations-compat",DR="@firebase/messaging",OR="@firebase/messaging-compat",NR="@firebase/performance",MR="@firebase/performance-compat",VR="@firebase/remote-config",PR="@firebase/remote-config-compat",xR="@firebase/storage",kR="@firebase/storage-compat",LR="@firebase/firestore",UR="@firebase/ai",zR="@firebase/firestore-compat",BR="firebase",HR="12.1.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const om="[DEFAULT]",qR={[am]:"fire-core",[pR]:"fire-core-compat",[yR]:"fire-analytics",[gR]:"fire-analytics-compat",[vR]:"fire-app-check",[_R]:"fire-app-check-compat",[ER]:"fire-auth",[TR]:"fire-auth-compat",[SR]:"fire-rtdb",[AR]:"fire-data-connect",[bR]:"fire-rtdb-compat",[RR]:"fire-fn",[wR]:"fire-fn-compat",[IR]:"fire-iid",[CR]:"fire-iid-compat",[DR]:"fire-fcm",[OR]:"fire-fcm-compat",[NR]:"fire-perf",[MR]:"fire-perf-compat",[VR]:"fire-rc",[PR]:"fire-rc-compat",[xR]:"fire-gcs",[kR]:"fire-gcs-compat",[LR]:"fire-fst",[zR]:"fire-fst-compat",[UR]:"fire-vertex","fire-js":"fire-js",[BR]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $c=new Map,jR=new Map,lm=new Map;function uv(r,t){try{r.container.addComponent(t)}catch(n){$i.debug(`Component ${t.name} failed to register with FirebaseApp ${r.name}`,n)}}function Ya(r){const t=r.name;if(lm.has(t))return $i.debug(`There were multiple attempts to register component ${t}.`),!1;lm.set(t,r);for(const n of $c.values())uv(n,r);for(const n of jR.values())uv(n,r);return!0}function zm(r,t){const n=r.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),r.container.getProvider(t)}function zn(r){return r==null?!1:r.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FR={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},kr=new Yl("app","Firebase",FR);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GR{constructor(t,n,s){this._isDeleted=!1,this._options={...t},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=s,this.container.addComponent(new Us("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw kr.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ao=HR;function tT(r,t={}){let n=r;typeof t!="object"&&(t={name:t});const s={name:om,automaticDataCollectionEnabled:!0,...t},o=s.name;if(typeof o!="string"||!o)throw kr.create("bad-app-name",{appName:String(o)});if(n||(n=YE()),!n)throw kr.create("no-options");const u=$c.get(o);if(u){if(Ls(n,u.options)&&Ls(s,u.config))return u;throw kr.create("duplicate-app",{appName:o})}const f=new Zb(o);for(const y of lm.values())f.addComponent(y);const m=new GR(n,s,f);return $c.set(o,m),m}function eT(r=om){const t=$c.get(r);if(!t&&r===om&&YE())return tT();if(!t)throw kr.create("no-app",{appName:r});return t}function Lr(r,t,n){let s=qR[r]??r;n&&(s+=`-${n}`);const o=s.match(/\s|\//),u=t.match(/\s|\//);if(o||u){const f=[`Unable to register library "${s}" with version "${t}":`];o&&f.push(`library name "${s}" contains illegal characters (whitespace or "/")`),o&&u&&f.push("and"),u&&f.push(`version name "${t}" contains illegal characters (whitespace or "/")`),$i.warn(f.join(" "));return}Ya(new Us(`${s}-version`,()=>({library:s,version:t}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QR="firebase-heartbeat-database",KR=1,Ll="firebase-heartbeat-store";let Yd=null;function nT(){return Yd||(Yd=cR(QR,KR,{upgrade:(r,t)=>{switch(t){case 0:try{r.createObjectStore(Ll)}catch(n){console.warn(n)}}}}).catch(r=>{throw kr.create("idb-open",{originalErrorMessage:r.message})})),Yd}async function YR(r){try{const n=(await nT()).transaction(Ll),s=await n.objectStore(Ll).get(iT(r));return await n.done,s}catch(t){if(t instanceof tr)$i.warn(t.message);else{const n=kr.create("idb-get",{originalErrorMessage:t?.message});$i.warn(n.message)}}}async function cv(r,t){try{const s=(await nT()).transaction(Ll,"readwrite");await s.objectStore(Ll).put(t,iT(r)),await s.done}catch(n){if(n instanceof tr)$i.warn(n.message);else{const s=kr.create("idb-set",{originalErrorMessage:n?.message});$i.warn(s.message)}}}function iT(r){return`${r.name}!${r.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XR=1024,$R=30;class ZR{constructor(t){this.container=t,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new WR(n),this._heartbeatsCachePromise=this._storage.read().then(s=>(this._heartbeatsCache=s,s))}async triggerHeartbeat(){try{const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=hv();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(o=>o.date===s))return;if(this._heartbeatsCache.heartbeats.push({date:s,agent:n}),this._heartbeatsCache.heartbeats.length>$R){const o=tw(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(o,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(t){$i.warn(t)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const t=hv(),{heartbeatsToSend:n,unsentEntries:s}=JR(this._heartbeatsCache.heartbeats),o=Xc(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=t,s.length>0?(this._heartbeatsCache.heartbeats=s,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(t){return $i.warn(t),""}}}function hv(){return new Date().toISOString().substring(0,10)}function JR(r,t=XR){const n=[];let s=r.slice();for(const o of r){const u=n.find(f=>f.agent===o.agent);if(u){if(u.dates.push(o.date),fv(n)>t){u.dates.pop();break}}else if(n.push({agent:o.agent,dates:[o.date]}),fv(n)>t){n.pop();break}s=s.slice(1)}return{heartbeatsToSend:n,unsentEntries:s}}class WR{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return zb()?Bb().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await YR(this.app);return n?.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(t){if(await this._canUseIndexedDBPromise){const s=await this.read();return cv(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:t.heartbeats})}else return}async add(t){if(await this._canUseIndexedDBPromise){const s=await this.read();return cv(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...t.heartbeats]})}else return}}function fv(r){return Xc(JSON.stringify({version:2,heartbeats:r})).length}function tw(r){if(r.length===0)return-1;let t=0,n=r[0].date;for(let s=1;s<r.length;s++)r[s].date<n&&(n=r[s].date,t=s);return t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ew(r){Ya(new Us("platform-logger",t=>new dR(t),"PRIVATE")),Ya(new Us("heartbeat",t=>new ZR(t),"PRIVATE")),Lr(am,lv,r),Lr(am,lv,"esm2020"),Lr("fire-js","")}ew("");function rT(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const nw=rT,sT=new Yl("auth","Firebase",rT());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zc=new Lm("@firebase/auth");function iw(r,...t){Zc.logLevel<=Ot.WARN&&Zc.warn(`Auth (${ao}): ${r}`,...t)}function Lc(r,...t){Zc.logLevel<=Ot.ERROR&&Zc.error(`Auth (${ao}): ${r}`,...t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mi(r,...t){throw Hm(r,...t)}function qn(r,...t){return Hm(r,...t)}function Bm(r,t,n){const s={...nw(),[t]:n};return new Yl("auth","Firebase",s).create(t,{appName:r.name})}function xs(r){return Bm(r,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function rw(r,t,n){const s=n;if(!(t instanceof s))throw s.name!==t.constructor.name&&mi(r,"argument-error"),Bm(r,"argument-error",`Type of ${t.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function Hm(r,...t){if(typeof r!="string"){const n=t[0],s=[...t.slice(1)];return s[0]&&(s[0].appName=r.name),r._errorFactory.create(n,...s)}return sT.create(r,...t)}function vt(r,t,...n){if(!r)throw Hm(t,...n)}function Gi(r){const t="INTERNAL ASSERTION FAILED: "+r;throw Lc(t),new Error(t)}function Zi(r,t){r||Gi(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function um(){return typeof self<"u"&&self.location?.href||""}function sw(){return dv()==="http:"||dv()==="https:"}function dv(){return typeof self<"u"&&self.location?.protocol||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function aw(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(sw()||xb()||"connection"in navigator)?navigator.onLine:!0}function ow(){if(typeof navigator>"u")return null;const r=navigator;return r.languages&&r.languages[0]||r.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $l{constructor(t,n){this.shortDelay=t,this.longDelay=n,Zi(n>t,"Short delay should be less than long delay!"),this.isMobile=Mb()||kb()}get(){return aw()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qm(r,t){Zi(r.emulator,"Emulator should always be set here");const{url:n}=r.emulator;return t?`${n}${t.startsWith("/")?t.slice(1):t}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aT{static initialize(t,n,s){this.fetchImpl=t,n&&(this.headersImpl=n),s&&(this.responseImpl=s)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Gi("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Gi("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Gi("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lw={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uw=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],cw=new $l(3e4,6e4);function jm(r,t){return r.tenantId&&!t.tenantId?{...t,tenantId:r.tenantId}:t}async function oo(r,t,n,s,o={}){return oT(r,o,async()=>{let u={},f={};s&&(t==="GET"?f=s:u={body:JSON.stringify(s)});const m=Xl({key:r.config.apiKey,...f}).slice(1),y=await r._getAdditionalHeaders();y["Content-Type"]="application/json",r.languageCode&&(y["X-Firebase-Locale"]=r.languageCode);const g={method:t,headers:y,...u};return Pb()||(g.referrerPolicy="no-referrer"),r.emulatorConfig&&so(r.emulatorConfig.host)&&(g.credentials="include"),aT.fetch()(await lT(r,r.config.apiHost,n,m),g)})}async function oT(r,t,n){r._canInitEmulator=!1;const s={...lw,...t};try{const o=new fw(r),u=await Promise.race([n(),o.promise]);o.clearNetworkTimeout();const f=await u.json();if("needConfirmation"in f)throw Dc(r,"account-exists-with-different-credential",f);if(u.ok&&!("errorMessage"in f))return f;{const m=u.ok?f.errorMessage:f.error.message,[y,g]=m.split(" : ");if(y==="FEDERATED_USER_ID_ALREADY_LINKED")throw Dc(r,"credential-already-in-use",f);if(y==="EMAIL_EXISTS")throw Dc(r,"email-already-in-use",f);if(y==="USER_DISABLED")throw Dc(r,"user-disabled",f);const E=s[y]||y.toLowerCase().replace(/[_\s]+/g,"-");if(g)throw Bm(r,E,g);mi(r,E)}}catch(o){if(o instanceof tr)throw o;mi(r,"network-request-failed",{message:String(o)})}}async function hw(r,t,n,s,o={}){const u=await oo(r,t,n,s,o);return"mfaPendingCredential"in u&&mi(r,"multi-factor-auth-required",{_serverResponse:u}),u}async function lT(r,t,n,s){const o=`${t}${n}?${s}`,u=r,f=u.config.emulator?qm(r.config,o):`${r.config.apiScheme}://${o}`;return uw.includes(n)&&(await u._persistenceManagerAvailable,u._getPersistenceType()==="COOKIE")?u._getPersistence()._getFinalTarget(f).toString():f}class fw{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(t){this.auth=t,this.timer=null,this.promise=new Promise((n,s)=>{this.timer=setTimeout(()=>s(qn(this.auth,"network-request-failed")),cw.get())})}}function Dc(r,t,n){const s={appName:r.name};n.email&&(s.email=n.email),n.phoneNumber&&(s.phoneNumber=n.phoneNumber);const o=qn(r,t,s);return o.customData._tokenResponse=n,o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function dw(r,t){return oo(r,"POST","/v1/accounts:delete",t)}async function Jc(r,t){return oo(r,"POST","/v1/accounts:lookup",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ol(r){if(r)try{const t=new Date(Number(r));if(!isNaN(t.getTime()))return t.toUTCString()}catch{}}async function mw(r,t=!1){const n=gn(r),s=await n.getIdToken(t),o=Fm(s);vt(o&&o.exp&&o.auth_time&&o.iat,n.auth,"internal-error");const u=typeof o.firebase=="object"?o.firebase:void 0,f=u?.sign_in_provider;return{claims:o,token:s,authTime:Ol(Xd(o.auth_time)),issuedAtTime:Ol(Xd(o.iat)),expirationTime:Ol(Xd(o.exp)),signInProvider:f||null,signInSecondFactor:u?.sign_in_second_factor||null}}function Xd(r){return Number(r)*1e3}function Fm(r){const[t,n,s]=r.split(".");if(t===void 0||n===void 0||s===void 0)return Lc("JWT malformed, contained fewer than 3 sections"),null;try{const o=QE(n);return o?JSON.parse(o):(Lc("Failed to decode base64 JWT payload"),null)}catch(o){return Lc("Caught error parsing JWT payload as JSON",o?.toString()),null}}function mv(r){const t=Fm(r);return vt(t,"internal-error"),vt(typeof t.exp<"u","internal-error"),vt(typeof t.iat<"u","internal-error"),Number(t.exp)-Number(t.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ul(r,t,n=!1){if(n)return t;try{return await t}catch(s){throw s instanceof tr&&pw(s)&&r.auth.currentUser===r&&await r.auth.signOut(),s}}function pw({code:r}){return r==="auth/user-disabled"||r==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gw{constructor(t){this.user=t,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(t){if(t){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const s=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,s)}}schedule(t=!1){if(!this.isRunning)return;const n=this.getInterval(t);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(t){t?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cm{constructor(t,n){this.createdAt=t,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Ol(this.lastLoginAt),this.creationTime=Ol(this.createdAt)}_copy(t){this.createdAt=t.createdAt,this.lastLoginAt=t.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Wc(r){const t=r.auth,n=await r.getIdToken(),s=await Ul(r,Jc(t,{idToken:n}));vt(s?.users.length,t,"internal-error");const o=s.users[0];r._notifyReloadListener(o);const u=o.providerUserInfo?.length?uT(o.providerUserInfo):[],f=_w(r.providerData,u),m=r.isAnonymous,y=!(r.email&&o.passwordHash)&&!f?.length,g=m?y:!1,E={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:f,metadata:new cm(o.createdAt,o.lastLoginAt),isAnonymous:g};Object.assign(r,E)}async function yw(r){const t=gn(r);await Wc(t),await t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)}function _w(r,t){return[...r.filter(s=>!t.some(o=>o.providerId===s.providerId)),...t]}function uT(r){return r.map(({providerId:t,...n})=>({providerId:t,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function vw(r,t){const n=await oT(r,{},async()=>{const s=Xl({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:o,apiKey:u}=r.config,f=await lT(r,o,"/v1/token",`key=${u}`),m=await r._getAdditionalHeaders();m["Content-Type"]="application/x-www-form-urlencoded";const y={method:"POST",headers:m,body:s};return r.emulatorConfig&&so(r.emulatorConfig.host)&&(y.credentials="include"),aT.fetch()(f,y)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function Ew(r,t){return oo(r,"POST","/v2/accounts:revokeToken",jm(r,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ja{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(t){vt(t.idToken,"internal-error"),vt(typeof t.idToken<"u","internal-error"),vt(typeof t.refreshToken<"u","internal-error");const n="expiresIn"in t&&typeof t.expiresIn<"u"?Number(t.expiresIn):mv(t.idToken);this.updateTokensAndExpiration(t.idToken,t.refreshToken,n)}updateFromIdToken(t){vt(t.length!==0,"internal-error");const n=mv(t);this.updateTokensAndExpiration(t,null,n)}async getToken(t,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(vt(this.refreshToken,t,"user-token-expired"),this.refreshToken?(await this.refresh(t,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(t,n){const{accessToken:s,refreshToken:o,expiresIn:u}=await vw(t,n);this.updateTokensAndExpiration(s,o,Number(u))}updateTokensAndExpiration(t,n,s){this.refreshToken=n||null,this.accessToken=t||null,this.expirationTime=Date.now()+s*1e3}static fromJSON(t,n){const{refreshToken:s,accessToken:o,expirationTime:u}=n,f=new ja;return s&&(vt(typeof s=="string","internal-error",{appName:t}),f.refreshToken=s),o&&(vt(typeof o=="string","internal-error",{appName:t}),f.accessToken=o),u&&(vt(typeof u=="number","internal-error",{appName:t}),f.expirationTime=u),f}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(t){this.accessToken=t.accessToken,this.refreshToken=t.refreshToken,this.expirationTime=t.expirationTime}_clone(){return Object.assign(new ja,this.toJSON())}_performRefresh(){return Gi("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Or(r,t){vt(typeof r=="string"||typeof r>"u","internal-error",{appName:t})}class Bn{constructor({uid:t,auth:n,stsTokenManager:s,...o}){this.providerId="firebase",this.proactiveRefresh=new gw(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=n,this.stsTokenManager=s,this.accessToken=s.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new cm(o.createdAt||void 0,o.lastLoginAt||void 0)}async getIdToken(t){const n=await Ul(this,this.stsTokenManager.getToken(this.auth,t));return vt(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(t){return mw(this,t)}reload(){return yw(this)}_assign(t){this!==t&&(vt(this.uid===t.uid,this.auth,"internal-error"),this.displayName=t.displayName,this.photoURL=t.photoURL,this.email=t.email,this.emailVerified=t.emailVerified,this.phoneNumber=t.phoneNumber,this.isAnonymous=t.isAnonymous,this.tenantId=t.tenantId,this.providerData=t.providerData.map(n=>({...n})),this.metadata._copy(t.metadata),this.stsTokenManager._assign(t.stsTokenManager))}_clone(t){const n=new Bn({...this,auth:t,stsTokenManager:this.stsTokenManager._clone()});return n.metadata._copy(this.metadata),n}_onReload(t){vt(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=t,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(t){this.reloadListener?this.reloadListener(t):this.reloadUserInfo=t}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(t,n=!1){let s=!1;t.idToken&&t.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(t),s=!0),n&&await Wc(this),await this.auth._persistUserIfCurrent(this),s&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(zn(this.auth.app))return Promise.reject(xs(this.auth));const t=await this.getIdToken();return await Ul(this,dw(this.auth,{idToken:t})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(t=>({...t})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(t,n){const s=n.displayName??void 0,o=n.email??void 0,u=n.phoneNumber??void 0,f=n.photoURL??void 0,m=n.tenantId??void 0,y=n._redirectEventId??void 0,g=n.createdAt??void 0,E=n.lastLoginAt??void 0,{uid:A,emailVerified:R,isAnonymous:k,providerData:F,stsTokenManager:G}=n;vt(A&&G,t,"internal-error");const q=ja.fromJSON(this.name,G);vt(typeof A=="string",t,"internal-error"),Or(s,t.name),Or(o,t.name),vt(typeof R=="boolean",t,"internal-error"),vt(typeof k=="boolean",t,"internal-error"),Or(u,t.name),Or(f,t.name),Or(m,t.name),Or(y,t.name),Or(g,t.name),Or(E,t.name);const et=new Bn({uid:A,auth:t,email:o,emailVerified:R,displayName:s,isAnonymous:k,photoURL:f,phoneNumber:u,tenantId:m,stsTokenManager:q,createdAt:g,lastLoginAt:E});return F&&Array.isArray(F)&&(et.providerData=F.map($=>({...$}))),y&&(et._redirectEventId=y),et}static async _fromIdTokenResponse(t,n,s=!1){const o=new ja;o.updateFromServerResponse(n);const u=new Bn({uid:n.localId,auth:t,stsTokenManager:o,isAnonymous:s});return await Wc(u),u}static async _fromGetAccountInfoResponse(t,n,s){const o=n.users[0];vt(o.localId!==void 0,"internal-error");const u=o.providerUserInfo!==void 0?uT(o.providerUserInfo):[],f=!(o.email&&o.passwordHash)&&!u?.length,m=new ja;m.updateFromIdToken(s);const y=new Bn({uid:o.localId,auth:t,stsTokenManager:m,isAnonymous:f}),g={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:u,metadata:new cm(o.createdAt,o.lastLoginAt),isAnonymous:!(o.email&&o.passwordHash)&&!u?.length};return Object.assign(y,g),y}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pv=new Map;function Qi(r){Zi(r instanceof Function,"Expected a class definition");let t=pv.get(r);return t?(Zi(t instanceof r,"Instance stored in cache mismatched with class"),t):(t=new r,pv.set(r,t),t)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cT{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(t,n){this.storage[t]=n}async _get(t){const n=this.storage[t];return n===void 0?null:n}async _remove(t){delete this.storage[t]}_addListener(t,n){}_removeListener(t,n){}}cT.type="NONE";const gv=cT;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Uc(r,t,n){return`firebase:${r}:${t}:${n}`}class Fa{constructor(t,n,s){this.persistence=t,this.auth=n,this.userKey=s;const{config:o,name:u}=this.auth;this.fullUserKey=Uc(this.userKey,o.apiKey,u),this.fullPersistenceKey=Uc("persistence",o.apiKey,u),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(t){return this.persistence._set(this.fullUserKey,t.toJSON())}async getCurrentUser(){const t=await this.persistence._get(this.fullUserKey);if(!t)return null;if(typeof t=="string"){const n=await Jc(this.auth,{idToken:t}).catch(()=>{});return n?Bn._fromGetAccountInfoResponse(this.auth,n,t):null}return Bn._fromJSON(this.auth,t)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(t){if(this.persistence===t)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=t,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(t,n,s="authUser"){if(!n.length)return new Fa(Qi(gv),t,s);const o=(await Promise.all(n.map(async g=>{if(await g._isAvailable())return g}))).filter(g=>g);let u=o[0]||Qi(gv);const f=Uc(s,t.config.apiKey,t.name);let m=null;for(const g of n)try{const E=await g._get(f);if(E){let A;if(typeof E=="string"){const R=await Jc(t,{idToken:E}).catch(()=>{});if(!R)break;A=await Bn._fromGetAccountInfoResponse(t,R,E)}else A=Bn._fromJSON(t,E);g!==u&&(m=A),u=g;break}}catch{}const y=o.filter(g=>g._shouldAllowMigration);return!u._shouldAllowMigration||!y.length?new Fa(u,t,s):(u=y[0],m&&await u._set(f,m.toJSON()),await Promise.all(n.map(async g=>{if(g!==u)try{await g._remove(f)}catch{}})),new Fa(u,t,s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yv(r){const t=r.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(mT(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(hT(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(gT(t))return"Blackberry";if(yT(t))return"Webos";if(fT(t))return"Safari";if((t.includes("chrome/")||dT(t))&&!t.includes("edge/"))return"Chrome";if(pT(t))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,s=r.match(n);if(s?.length===2)return s[1]}return"Other"}function hT(r=Ze()){return/firefox\//i.test(r)}function fT(r=Ze()){const t=r.toLowerCase();return t.includes("safari/")&&!t.includes("chrome/")&&!t.includes("crios/")&&!t.includes("android")}function dT(r=Ze()){return/crios\//i.test(r)}function mT(r=Ze()){return/iemobile/i.test(r)}function pT(r=Ze()){return/android/i.test(r)}function gT(r=Ze()){return/blackberry/i.test(r)}function yT(r=Ze()){return/webos/i.test(r)}function Gm(r=Ze()){return/iphone|ipad|ipod/i.test(r)||/macintosh/i.test(r)&&/mobile/i.test(r)}function Tw(r=Ze()){return Gm(r)&&!!window.navigator?.standalone}function Sw(){return Lb()&&document.documentMode===10}function _T(r=Ze()){return Gm(r)||pT(r)||yT(r)||gT(r)||/windows phone/i.test(r)||mT(r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vT(r,t=[]){let n;switch(r){case"Browser":n=yv(Ze());break;case"Worker":n=`${yv(Ze())}-${r}`;break;default:n=r}const s=t.length?t.join(","):"FirebaseCore-web";return`${n}/JsCore/${ao}/${s}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Aw{constructor(t){this.auth=t,this.queue=[]}pushCallback(t,n){const s=u=>new Promise((f,m)=>{try{const y=t(u);f(y)}catch(y){m(y)}});s.onAbort=n,this.queue.push(s);const o=this.queue.length-1;return()=>{this.queue[o]=()=>Promise.resolve()}}async runMiddleware(t){if(this.auth.currentUser===t)return;const n=[];try{for(const s of this.queue)await s(t),s.onAbort&&n.push(s.onAbort)}catch(s){n.reverse();for(const o of n)try{o()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:s?.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function bw(r,t={}){return oo(r,"GET","/v2/passwordPolicy",jm(r,t))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rw=6;class ww{constructor(t){const n=t.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=n.minPasswordLength??Rw,n.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=n.maxPasswordLength),n.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=n.containsLowercaseCharacter),n.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=n.containsUppercaseCharacter),n.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=n.containsNumericCharacter),n.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=n.containsNonAlphanumericCharacter),this.enforcementState=t.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=t.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=t.forceUpgradeOnSignin??!1,this.schemaVersion=t.schemaVersion}validatePassword(t){const n={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(t,n),this.validatePasswordCharacterOptions(t,n),n.isValid&&(n.isValid=n.meetsMinPasswordLength??!0),n.isValid&&(n.isValid=n.meetsMaxPasswordLength??!0),n.isValid&&(n.isValid=n.containsLowercaseLetter??!0),n.isValid&&(n.isValid=n.containsUppercaseLetter??!0),n.isValid&&(n.isValid=n.containsNumericCharacter??!0),n.isValid&&(n.isValid=n.containsNonAlphanumericCharacter??!0),n}validatePasswordLengthOptions(t,n){const s=this.customStrengthOptions.minPasswordLength,o=this.customStrengthOptions.maxPasswordLength;s&&(n.meetsMinPasswordLength=t.length>=s),o&&(n.meetsMaxPasswordLength=t.length<=o)}validatePasswordCharacterOptions(t,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let s;for(let o=0;o<t.length;o++)s=t.charAt(o),this.updatePasswordCharacterOptionsStatuses(n,s>="a"&&s<="z",s>="A"&&s<="Z",s>="0"&&s<="9",this.allowedNonAlphanumericCharacters.includes(s))}updatePasswordCharacterOptionsStatuses(t,n,s,o,u){this.customStrengthOptions.containsLowercaseLetter&&(t.containsLowercaseLetter||(t.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(t.containsUppercaseLetter||(t.containsUppercaseLetter=s)),this.customStrengthOptions.containsNumericCharacter&&(t.containsNumericCharacter||(t.containsNumericCharacter=o)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(t.containsNonAlphanumericCharacter||(t.containsNonAlphanumericCharacter=u))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Iw{constructor(t,n,s,o){this.app=t,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=s,this.config=o,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new _v(this),this.idTokenSubscription=new _v(this),this.beforeStateQueue=new Aw(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=sT,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=t.name,this.clientVersion=o.sdkClientVersion,this._persistenceManagerAvailable=new Promise(u=>this._resolvePersistenceManagerAvailable=u)}_initializeWithPersistence(t,n){return n&&(this._popupRedirectResolver=Qi(n)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await Fa.create(this,t),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const t=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!t)){if(this.currentUser&&t&&this.currentUser.uid===t.uid){this._currentUser._assign(t),await this.currentUser.getIdToken();return}await this._updateCurrentUser(t,!0)}}async initializeCurrentUserFromIdToken(t){try{const n=await Jc(this,{idToken:t}),s=await Bn._fromGetAccountInfoResponse(this,n,t);await this.directlySetCurrentUser(s)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(t){if(zn(this.app)){const u=this.app.settings.authIdToken;return u?new Promise(f=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(u).then(f,f))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let s=n,o=!1;if(t&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const u=this.redirectUser?._redirectEventId,f=s?._redirectEventId,m=await this.tryRedirectSignIn(t);(!u||u===f)&&m?.user&&(s=m.user,o=!0)}if(!s)return this.directlySetCurrentUser(null);if(!s._redirectEventId){if(o)try{await this.beforeStateQueue.runMiddleware(s)}catch(u){s=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(u))}return s?this.reloadAndSetCurrentUserOrClear(s):this.directlySetCurrentUser(null)}return vt(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===s._redirectEventId?this.directlySetCurrentUser(s):this.reloadAndSetCurrentUserOrClear(s)}async tryRedirectSignIn(t){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,t,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(t){try{await Wc(t)}catch(n){if(n?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(t)}useDeviceLanguage(){this.languageCode=ow()}async _delete(){this._deleted=!0}async updateCurrentUser(t){if(zn(this.app))return Promise.reject(xs(this));const n=t?gn(t):null;return n&&vt(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(t,n=!1){if(!this._deleted)return t&&vt(this.tenantId===t.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(t),this.queue(async()=>{await this.directlySetCurrentUser(t),this.notifyAuthListeners()})}async signOut(){return zn(this.app)?Promise.reject(xs(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(t){return zn(this.app)?Promise.reject(xs(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Qi(t))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(t){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(t)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const t=await bw(this),n=new ww(t);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(t){this._errorFactory=new Yl("auth","Firebase",t())}onAuthStateChanged(t,n,s){return this.registerStateListener(this.authStateSubscription,t,n,s)}beforeAuthStateChanged(t,n){return this.beforeStateQueue.pushCallback(t,n)}onIdTokenChanged(t,n,s){return this.registerStateListener(this.idTokenSubscription,t,n,s)}authStateReady(){return new Promise((t,n)=>{if(this.currentUser)t();else{const s=this.onAuthStateChanged(()=>{s(),t()},n)}})}async revokeAccessToken(t){if(this.currentUser){const n=await this.currentUser.getIdToken(),s={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:t,idToken:n};this.tenantId!=null&&(s.tenantId=this.tenantId),await Ew(this,s)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(t,n){const s=await this.getOrInitRedirectPersistenceManager(n);return t===null?s.removeCurrentUser():s.setCurrentUser(t)}async getOrInitRedirectPersistenceManager(t){if(!this.redirectPersistenceManager){const n=t&&Qi(t)||this._popupRedirectResolver;vt(n,this,"argument-error"),this.redirectPersistenceManager=await Fa.create(this,[Qi(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(t){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===t?this._currentUser:this.redirectUser?._redirectEventId===t?this.redirectUser:null}async _persistUserIfCurrent(t){if(t===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(t))}_notifyListenersIfCurrent(t){t===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const t=this.currentUser?.uid??null;this.lastNotifiedUid!==t&&(this.lastNotifiedUid=t,this.authStateSubscription.next(this.currentUser))}registerStateListener(t,n,s,o){if(this._deleted)return()=>{};const u=typeof n=="function"?n:n.next.bind(n);let f=!1;const m=this._isInitialized?Promise.resolve():this._initializationPromise;if(vt(m,this,"internal-error"),m.then(()=>{f||u(this.currentUser)}),typeof n=="function"){const y=t.addObserver(n,s,o);return()=>{f=!0,y()}}else{const y=t.addObserver(n);return()=>{f=!0,y()}}}async directlySetCurrentUser(t){this.currentUser&&this.currentUser!==t&&this._currentUser._stopProactiveRefresh(),t&&this.isProactiveRefreshEnabled&&t._startProactiveRefresh(),this.currentUser=t,t?await this.assertedPersistence.setCurrentUser(t):await this.assertedPersistence.removeCurrentUser()}queue(t){return this.operations=this.operations.then(t,t),this.operations}get assertedPersistence(){return vt(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(t){!t||this.frameworks.includes(t)||(this.frameworks.push(t),this.frameworks.sort(),this.clientVersion=vT(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const n=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();n&&(t["X-Firebase-Client"]=n);const s=await this._getAppCheckToken();return s&&(t["X-Firebase-AppCheck"]=s),t}async _getAppCheckToken(){if(zn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const t=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return t?.error&&iw(`Error while retrieving App Check token: ${t.error}`),t?.token}}function vh(r){return gn(r)}class _v{constructor(t){this.auth=t,this.observer=null,this.addObserver=Gb(n=>this.observer=n)}get next(){return vt(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Qm={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function Cw(r){Qm=r}function Dw(r){return Qm.loadJS(r)}function Ow(){return Qm.gapiScript}function Nw(r){return`__${r}${Math.floor(Math.random()*1e6)}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Mw(r,t){const n=zm(r,"auth");if(n.isInitialized()){const o=n.getImmediate(),u=n.getOptions();if(Ls(u,t??{}))return o;mi(o,"already-initialized")}return n.initialize({options:t})}function Vw(r,t){const n=t?.persistence||[],s=(Array.isArray(n)?n:[n]).map(Qi);t?.errorMap&&r._updateErrorMap(t.errorMap),r._initializeWithPersistence(s,t?.popupRedirectResolver)}function Pw(r,t,n){const s=vh(r);vt(/^https?:\/\//.test(t),s,"invalid-emulator-scheme");const o=!1,u=ET(t),{host:f,port:m}=xw(t),y=m===null?"":`:${m}`,g={url:`${u}//${f}${y}/`},E=Object.freeze({host:f,port:m,protocol:u.replace(":",""),options:Object.freeze({disableWarnings:o})});if(!s._canInitEmulator){vt(s.config.emulator&&s.emulatorConfig,s,"emulator-config-failed"),vt(Ls(g,s.config.emulator)&&Ls(E,s.emulatorConfig),s,"emulator-config-failed");return}s.config.emulator=g,s.emulatorConfig=E,s.settings.appVerificationDisabledForTesting=!0,so(f)?($E(`${u}//${f}${y}`),ZE("Auth",!0)):kw()}function ET(r){const t=r.indexOf(":");return t<0?"":r.substr(0,t+1)}function xw(r){const t=ET(r),n=/(\/\/)?([^?#/]+)/.exec(r.substr(t.length));if(!n)return{host:"",port:null};const s=n[2].split("@").pop()||"",o=/^(\[[^\]]+\])(:|$)/.exec(s);if(o){const u=o[1];return{host:u,port:vv(s.substr(u.length+1))}}else{const[u,f]=s.split(":");return{host:u,port:vv(f)}}}function vv(r){if(!r)return null;const t=Number(r);return isNaN(t)?null:t}function kw(){function r(){const t=document.createElement("p"),n=t.style;t.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",t.classList.add("firebase-emulator-warning"),document.body.appendChild(t)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",r):r())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TT{constructor(t,n){this.providerId=t,this.signInMethod=n}toJSON(){return Gi("not implemented")}_getIdTokenResponse(t){return Gi("not implemented")}_linkToIdToken(t,n){return Gi("not implemented")}_getReauthenticationResolver(t){return Gi("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ga(r,t){return hw(r,"POST","/v1/accounts:signInWithIdp",jm(r,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Lw="http://localhost";class zs extends TT{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(t){const n=new zs(t.providerId,t.signInMethod);return t.idToken||t.accessToken?(t.idToken&&(n.idToken=t.idToken),t.accessToken&&(n.accessToken=t.accessToken),t.nonce&&!t.pendingToken&&(n.nonce=t.nonce),t.pendingToken&&(n.pendingToken=t.pendingToken)):t.oauthToken&&t.oauthTokenSecret?(n.accessToken=t.oauthToken,n.secret=t.oauthTokenSecret):mi("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(t){const n=typeof t=="string"?JSON.parse(t):t,{providerId:s,signInMethod:o,...u}=n;if(!s||!o)return null;const f=new zs(s,o);return f.idToken=u.idToken||void 0,f.accessToken=u.accessToken||void 0,f.secret=u.secret,f.nonce=u.nonce,f.pendingToken=u.pendingToken||null,f}_getIdTokenResponse(t){const n=this.buildRequest();return Ga(t,n)}_linkToIdToken(t,n){const s=this.buildRequest();return s.idToken=n,Ga(t,s)}_getReauthenticationResolver(t){const n=this.buildRequest();return n.autoCreate=!1,Ga(t,n)}buildRequest(){const t={requestUri:Lw,returnSecureToken:!0};if(this.pendingToken)t.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),t.postBody=Xl(n)}return t}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Km{constructor(t){this.providerId=t,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(t){this.defaultLanguageCode=t}setCustomParameters(t){return this.customParameters=t,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zl extends Km{constructor(){super(...arguments),this.scopes=[]}addScope(t){return this.scopes.includes(t)||this.scopes.push(t),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nr extends Zl{constructor(){super("facebook.com")}static credential(t){return zs._fromParams({providerId:Nr.PROVIDER_ID,signInMethod:Nr.FACEBOOK_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return Nr.credentialFromTaggedObject(t)}static credentialFromError(t){return Nr.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return Nr.credential(t.oauthAccessToken)}catch{return null}}}Nr.FACEBOOK_SIGN_IN_METHOD="facebook.com";Nr.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fi extends Zl{constructor(){super("google.com"),this.addScope("profile")}static credential(t,n){return zs._fromParams({providerId:Fi.PROVIDER_ID,signInMethod:Fi.GOOGLE_SIGN_IN_METHOD,idToken:t,accessToken:n})}static credentialFromResult(t){return Fi.credentialFromTaggedObject(t)}static credentialFromError(t){return Fi.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthIdToken:n,oauthAccessToken:s}=t;if(!n&&!s)return null;try{return Fi.credential(n,s)}catch{return null}}}Fi.GOOGLE_SIGN_IN_METHOD="google.com";Fi.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mr extends Zl{constructor(){super("github.com")}static credential(t){return zs._fromParams({providerId:Mr.PROVIDER_ID,signInMethod:Mr.GITHUB_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return Mr.credentialFromTaggedObject(t)}static credentialFromError(t){return Mr.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return Mr.credential(t.oauthAccessToken)}catch{return null}}}Mr.GITHUB_SIGN_IN_METHOD="github.com";Mr.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vr extends Zl{constructor(){super("twitter.com")}static credential(t,n){return zs._fromParams({providerId:Vr.PROVIDER_ID,signInMethod:Vr.TWITTER_SIGN_IN_METHOD,oauthToken:t,oauthTokenSecret:n})}static credentialFromResult(t){return Vr.credentialFromTaggedObject(t)}static credentialFromError(t){return Vr.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthAccessToken:n,oauthTokenSecret:s}=t;if(!n||!s)return null;try{return Vr.credential(n,s)}catch{return null}}}Vr.TWITTER_SIGN_IN_METHOD="twitter.com";Vr.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xa{constructor(t){this.user=t.user,this.providerId=t.providerId,this._tokenResponse=t._tokenResponse,this.operationType=t.operationType}static async _fromIdTokenResponse(t,n,s,o=!1){const u=await Bn._fromIdTokenResponse(t,s,o),f=Ev(s);return new Xa({user:u,providerId:f,_tokenResponse:s,operationType:n})}static async _forOperation(t,n,s){await t._updateTokensIfNecessary(s,!0);const o=Ev(s);return new Xa({user:t,providerId:o,_tokenResponse:s,operationType:n})}}function Ev(r){return r.providerId?r.providerId:"phoneNumber"in r?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class th extends tr{constructor(t,n,s,o){super(n.code,n.message),this.operationType=s,this.user=o,Object.setPrototypeOf(this,th.prototype),this.customData={appName:t.name,tenantId:t.tenantId??void 0,_serverResponse:n.customData._serverResponse,operationType:s}}static _fromErrorAndOperation(t,n,s,o){return new th(t,n,s,o)}}function ST(r,t,n,s){return(t==="reauthenticate"?n._getReauthenticationResolver(r):n._getIdTokenResponse(r)).catch(u=>{throw u.code==="auth/multi-factor-auth-required"?th._fromErrorAndOperation(r,u,t,s):u})}async function Uw(r,t,n=!1){const s=await Ul(r,t._linkToIdToken(r.auth,await r.getIdToken()),n);return Xa._forOperation(r,"link",s)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function zw(r,t,n=!1){const{auth:s}=r;if(zn(s.app))return Promise.reject(xs(s));const o="reauthenticate";try{const u=await Ul(r,ST(s,o,t,r),n);vt(u.idToken,s,"internal-error");const f=Fm(u.idToken);vt(f,s,"internal-error");const{sub:m}=f;return vt(r.uid===m,s,"user-mismatch"),Xa._forOperation(r,o,u)}catch(u){throw u?.code==="auth/user-not-found"&&mi(s,"user-mismatch"),u}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Bw(r,t,n=!1){if(zn(r.app))return Promise.reject(xs(r));const s="signIn",o=await ST(r,s,t),u=await Xa._fromIdTokenResponse(r,s,o);return n||await r._updateCurrentUser(u.user),u}function Hw(r,t,n,s){return gn(r).onIdTokenChanged(t,n,s)}function qw(r,t,n){return gn(r).beforeAuthStateChanged(t,n)}function jw(r,t,n,s){return gn(r).onAuthStateChanged(t,n,s)}function Fw(r){return gn(r).signOut()}const eh="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AT{constructor(t,n){this.storageRetriever=t,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(eh,"1"),this.storage.removeItem(eh),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(t,n){return this.storage.setItem(t,JSON.stringify(n)),Promise.resolve()}_get(t){const n=this.storage.getItem(t);return Promise.resolve(n?JSON.parse(n):null)}_remove(t){return this.storage.removeItem(t),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gw=1e3,Qw=10;class bT extends AT{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(t,n)=>this.onStorageEvent(t,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=_T(),this._shouldAllowMigration=!0}forAllChangedKeys(t){for(const n of Object.keys(this.listeners)){const s=this.storage.getItem(n),o=this.localCache[n];s!==o&&t(n,o,s)}}onStorageEvent(t,n=!1){if(!t.key){this.forAllChangedKeys((f,m,y)=>{this.notifyListeners(f,y)});return}const s=t.key;n?this.detachListener():this.stopPolling();const o=()=>{const f=this.storage.getItem(s);!n&&this.localCache[s]===f||this.notifyListeners(s,f)},u=this.storage.getItem(s);Sw()&&u!==t.newValue&&t.newValue!==t.oldValue?setTimeout(o,Qw):o()}notifyListeners(t,n){this.localCache[t]=n;const s=this.listeners[t];if(s)for(const o of Array.from(s))o(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((t,n,s)=>{this.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:n,newValue:s}),!0)})},Gw)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(t,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[t]||(this.listeners[t]=new Set,this.localCache[t]=this.storage.getItem(t)),this.listeners[t].add(n)}_removeListener(t,n){this.listeners[t]&&(this.listeners[t].delete(n),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(t,n){await super._set(t,n),this.localCache[t]=JSON.stringify(n)}async _get(t){const n=await super._get(t);return this.localCache[t]=JSON.stringify(n),n}async _remove(t){await super._remove(t),delete this.localCache[t]}}bT.type="LOCAL";const Kw=bT;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RT extends AT{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(t,n){}_removeListener(t,n){}}RT.type="SESSION";const wT=RT;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Yw(r){return Promise.all(r.map(async t=>{try{return{fulfilled:!0,value:await t}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Eh{constructor(t){this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(t){const n=this.receivers.find(o=>o.isListeningto(t));if(n)return n;const s=new Eh(t);return this.receivers.push(s),s}isListeningto(t){return this.eventTarget===t}async handleEvent(t){const n=t,{eventId:s,eventType:o,data:u}=n.data,f=this.handlersMap[o];if(!f?.size)return;n.ports[0].postMessage({status:"ack",eventId:s,eventType:o});const m=Array.from(f).map(async g=>g(n.origin,u)),y=await Yw(m);n.ports[0].postMessage({status:"done",eventId:s,eventType:o,response:y})}_subscribe(t,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[t]||(this.handlersMap[t]=new Set),this.handlersMap[t].add(n)}_unsubscribe(t,n){this.handlersMap[t]&&n&&this.handlersMap[t].delete(n),(!n||this.handlersMap[t].size===0)&&delete this.handlersMap[t],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Eh.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ym(r="",t=10){let n="";for(let s=0;s<t;s++)n+=Math.floor(Math.random()*10);return r+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xw{constructor(t){this.target=t,this.handlers=new Set}removeMessageHandler(t){t.messageChannel&&(t.messageChannel.port1.removeEventListener("message",t.onMessage),t.messageChannel.port1.close()),this.handlers.delete(t)}async _send(t,n,s=50){const o=typeof MessageChannel<"u"?new MessageChannel:null;if(!o)throw new Error("connection_unavailable");let u,f;return new Promise((m,y)=>{const g=Ym("",20);o.port1.start();const E=setTimeout(()=>{y(new Error("unsupported_event"))},s);f={messageChannel:o,onMessage(A){const R=A;if(R.data.eventId===g)switch(R.data.status){case"ack":clearTimeout(E),u=setTimeout(()=>{y(new Error("timeout"))},3e3);break;case"done":clearTimeout(u),m(R.data.response);break;default:clearTimeout(E),clearTimeout(u),y(new Error("invalid_response"));break}}},this.handlers.add(f),o.port1.addEventListener("message",f.onMessage),this.target.postMessage({eventType:t,eventId:g,data:n},[o.port2])}).finally(()=>{f&&this.removeMessageHandler(f)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ui(){return window}function $w(r){ui().location.href=r}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function IT(){return typeof ui().WorkerGlobalScope<"u"&&typeof ui().importScripts=="function"}async function Zw(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function Jw(){return navigator?.serviceWorker?.controller||null}function Ww(){return IT()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CT="firebaseLocalStorageDb",tI=1,nh="firebaseLocalStorage",DT="fbase_key";class Jl{constructor(t){this.request=t}toPromise(){return new Promise((t,n)=>{this.request.addEventListener("success",()=>{t(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function Th(r,t){return r.transaction([nh],t?"readwrite":"readonly").objectStore(nh)}function eI(){const r=indexedDB.deleteDatabase(CT);return new Jl(r).toPromise()}function hm(){const r=indexedDB.open(CT,tI);return new Promise((t,n)=>{r.addEventListener("error",()=>{n(r.error)}),r.addEventListener("upgradeneeded",()=>{const s=r.result;try{s.createObjectStore(nh,{keyPath:DT})}catch(o){n(o)}}),r.addEventListener("success",async()=>{const s=r.result;s.objectStoreNames.contains(nh)?t(s):(s.close(),await eI(),t(await hm()))})})}async function Tv(r,t,n){const s=Th(r,!0).put({[DT]:t,value:n});return new Jl(s).toPromise()}async function nI(r,t){const n=Th(r,!1).get(t),s=await new Jl(n).toPromise();return s===void 0?null:s.value}function Sv(r,t){const n=Th(r,!0).delete(t);return new Jl(n).toPromise()}const iI=800,rI=3;class OT{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await hm(),this.db)}async _withRetries(t){let n=0;for(;;)try{const s=await this._openDb();return await t(s)}catch(s){if(n++>rI)throw s;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return IT()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Eh._getInstance(Ww()),this.receiver._subscribe("keyChanged",async(t,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(t,n)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await Zw(),!this.activeServiceWorker)return;this.sender=new Xw(this.activeServiceWorker);const t=await this.sender._send("ping",{},800);t&&t[0]?.fulfilled&&t[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(t){if(!(!this.sender||!this.activeServiceWorker||Jw()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const t=await hm();return await Tv(t,eh,"1"),await Sv(t,eh),!0}catch{}return!1}async _withPendingWrite(t){this.pendingWrites++;try{await t()}finally{this.pendingWrites--}}async _set(t,n){return this._withPendingWrite(async()=>(await this._withRetries(s=>Tv(s,t,n)),this.localCache[t]=n,this.notifyServiceWorker(t)))}async _get(t){const n=await this._withRetries(s=>nI(s,t));return this.localCache[t]=n,n}async _remove(t){return this._withPendingWrite(async()=>(await this._withRetries(n=>Sv(n,t)),delete this.localCache[t],this.notifyServiceWorker(t)))}async _poll(){const t=await this._withRetries(o=>{const u=Th(o,!1).getAll();return new Jl(u).toPromise()});if(!t)return[];if(this.pendingWrites!==0)return[];const n=[],s=new Set;if(t.length!==0)for(const{fbase_key:o,value:u}of t)s.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(u)&&(this.notifyListeners(o,u),n.push(o));for(const o of Object.keys(this.localCache))this.localCache[o]&&!s.has(o)&&(this.notifyListeners(o,null),n.push(o));return n}notifyListeners(t,n){this.localCache[t]=n;const s=this.listeners[t];if(s)for(const o of Array.from(s))o(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),iI)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(t,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[t]||(this.listeners[t]=new Set,this._get(t)),this.listeners[t].add(n)}_removeListener(t,n){this.listeners[t]&&(this.listeners[t].delete(n),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&this.stopPolling()}}OT.type="LOCAL";const sI=OT;new $l(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function NT(r,t){return t?Qi(t):(vt(r._popupRedirectResolver,r,"argument-error"),r._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xm extends TT{constructor(t){super("custom","custom"),this.params=t}_getIdTokenResponse(t){return Ga(t,this._buildIdpRequest())}_linkToIdToken(t,n){return Ga(t,this._buildIdpRequest(n))}_getReauthenticationResolver(t){return Ga(t,this._buildIdpRequest())}_buildIdpRequest(t){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return t&&(n.idToken=t),n}}function aI(r){return Bw(r.auth,new Xm(r),r.bypassAuthState)}function oI(r){const{auth:t,user:n}=r;return vt(n,t,"internal-error"),zw(n,new Xm(r),r.bypassAuthState)}async function lI(r){const{auth:t,user:n}=r;return vt(n,t,"internal-error"),Uw(n,new Xm(r),r.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MT{constructor(t,n,s,o,u=!1){this.auth=t,this.resolver=s,this.user=o,this.bypassAuthState=u,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(t,n)=>{this.pendingPromise={resolve:t,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(s){this.reject(s)}})}async onAuthEvent(t){const{urlResponse:n,sessionId:s,postBody:o,tenantId:u,error:f,type:m}=t;if(f){this.reject(f);return}const y={auth:this.auth,requestUri:n,sessionId:s,tenantId:u||void 0,postBody:o||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(m)(y))}catch(g){this.reject(g)}}onError(t){this.reject(t)}getIdpTask(t){switch(t){case"signInViaPopup":case"signInViaRedirect":return aI;case"linkViaPopup":case"linkViaRedirect":return lI;case"reauthViaPopup":case"reauthViaRedirect":return oI;default:mi(this.auth,"internal-error")}}resolve(t){Zi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(t),this.unregisterAndCleanUp()}reject(t){Zi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(t),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uI=new $l(2e3,1e4);async function cI(r,t,n){if(zn(r.app))return Promise.reject(qn(r,"operation-not-supported-in-this-environment"));const s=vh(r);rw(r,t,Km);const o=NT(s,n);return new Ms(s,"signInViaPopup",t,o).executeNotNull()}class Ms extends MT{constructor(t,n,s,o,u){super(t,n,o,u),this.provider=s,this.authWindow=null,this.pollId=null,Ms.currentPopupAction&&Ms.currentPopupAction.cancel(),Ms.currentPopupAction=this}async executeNotNull(){const t=await this.execute();return vt(t,this.auth,"internal-error"),t}async onExecution(){Zi(this.filter.length===1,"Popup operations only handle one event");const t=Ym();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],t),this.authWindow.associatedEvent=t,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(qn(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(qn(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Ms.currentPopupAction=null}pollUserCancellation(){const t=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(qn(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(t,uI.get())};t()}}Ms.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hI="pendingRedirect",zc=new Map;class fI extends MT{constructor(t,n,s=!1){super(t,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,s),this.eventId=null}async execute(){let t=zc.get(this.auth._key());if(!t){try{const s=await dI(this.resolver,this.auth)?await super.execute():null;t=()=>Promise.resolve(s)}catch(n){t=()=>Promise.reject(n)}zc.set(this.auth._key(),t)}return this.bypassAuthState||zc.set(this.auth._key(),()=>Promise.resolve(null)),t()}async onAuthEvent(t){if(t.type==="signInViaRedirect")return super.onAuthEvent(t);if(t.type==="unknown"){this.resolve(null);return}if(t.eventId){const n=await this.auth._redirectUserForId(t.eventId);if(n)return this.user=n,super.onAuthEvent(t);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function dI(r,t){const n=gI(t),s=pI(r);if(!await s._isAvailable())return!1;const o=await s._get(n)==="true";return await s._remove(n),o}function mI(r,t){zc.set(r._key(),t)}function pI(r){return Qi(r._redirectPersistence)}function gI(r){return Uc(hI,r.config.apiKey,r.name)}async function yI(r,t,n=!1){if(zn(r.app))return Promise.reject(xs(r));const s=vh(r),o=NT(s,t),f=await new fI(s,o,n).execute();return f&&!n&&(delete f.user._redirectEventId,await s._persistUserIfCurrent(f.user),await s._setRedirectUser(null,t)),f}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _I=600*1e3;class vI{constructor(t){this.auth=t,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(t){this.consumers.add(t),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,t)&&(this.sendToConsumer(this.queuedRedirectEvent,t),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(t){this.consumers.delete(t)}onEvent(t){if(this.hasEventBeenHandled(t))return!1;let n=!1;return this.consumers.forEach(s=>{this.isEventForConsumer(t,s)&&(n=!0,this.sendToConsumer(t,s),this.saveEventToCache(t))}),this.hasHandledPotentialRedirect||!EI(t)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=t,n=!0)),n}sendToConsumer(t,n){if(t.error&&!VT(t)){const s=t.error.code?.split("auth/")[1]||"internal-error";n.onError(qn(this.auth,s))}else n.onAuthEvent(t)}isEventForConsumer(t,n){const s=n.eventId===null||!!t.eventId&&t.eventId===n.eventId;return n.filter.includes(t.type)&&s}hasEventBeenHandled(t){return Date.now()-this.lastProcessedEventTime>=_I&&this.cachedEventUids.clear(),this.cachedEventUids.has(Av(t))}saveEventToCache(t){this.cachedEventUids.add(Av(t)),this.lastProcessedEventTime=Date.now()}}function Av(r){return[r.type,r.eventId,r.sessionId,r.tenantId].filter(t=>t).join("-")}function VT({type:r,error:t}){return r==="unknown"&&t?.code==="auth/no-auth-event"}function EI(r){switch(r.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return VT(r);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function TI(r,t={}){return oo(r,"GET","/v1/projects",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SI=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,AI=/^https?/;async function bI(r){if(r.config.emulator)return;const{authorizedDomains:t}=await TI(r);for(const n of t)try{if(RI(n))return}catch{}mi(r,"unauthorized-domain")}function RI(r){const t=um(),{protocol:n,hostname:s}=new URL(t);if(r.startsWith("chrome-extension://")){const f=new URL(r);return f.hostname===""&&s===""?n==="chrome-extension:"&&r.replace("chrome-extension://","")===t.replace("chrome-extension://",""):n==="chrome-extension:"&&f.hostname===s}if(!AI.test(n))return!1;if(SI.test(r))return s===r;const o=r.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(s)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wI=new $l(3e4,6e4);function bv(){const r=ui().___jsl;if(r?.H){for(const t of Object.keys(r.H))if(r.H[t].r=r.H[t].r||[],r.H[t].L=r.H[t].L||[],r.H[t].r=[...r.H[t].L],r.CP)for(let n=0;n<r.CP.length;n++)r.CP[n]=null}}function II(r){return new Promise((t,n)=>{function s(){bv(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{bv(),n(qn(r,"network-request-failed"))},timeout:wI.get()})}if(ui().gapi?.iframes?.Iframe)t(gapi.iframes.getContext());else if(ui().gapi?.load)s();else{const o=Nw("iframefcb");return ui()[o]=()=>{gapi.load?s():n(qn(r,"network-request-failed"))},Dw(`${Ow()}?onload=${o}`).catch(u=>n(u))}}).catch(t=>{throw Bc=null,t})}let Bc=null;function CI(r){return Bc=Bc||II(r),Bc}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DI=new $l(5e3,15e3),OI="__/auth/iframe",NI="emulator/auth/iframe",MI={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},VI=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function PI(r){const t=r.config;vt(t.authDomain,r,"auth-domain-config-required");const n=t.emulator?qm(t,NI):`https://${r.config.authDomain}/${OI}`,s={apiKey:t.apiKey,appName:r.name,v:ao},o=VI.get(r.config.apiHost);o&&(s.eid=o);const u=r._getFrameworks();return u.length&&(s.fw=u.join(",")),`${n}?${Xl(s).slice(1)}`}async function xI(r){const t=await CI(r),n=ui().gapi;return vt(n,r,"internal-error"),t.open({where:document.body,url:PI(r),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:MI,dontclear:!0},s=>new Promise(async(o,u)=>{await s.restyle({setHideOnLeave:!1});const f=qn(r,"network-request-failed"),m=ui().setTimeout(()=>{u(f)},DI.get());function y(){ui().clearTimeout(m),o(s)}s.ping(y).then(y,()=>{u(f)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kI={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},LI=500,UI=600,zI="_blank",BI="http://localhost";class Rv{constructor(t){this.window=t,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function HI(r,t,n,s=LI,o=UI){const u=Math.max((window.screen.availHeight-o)/2,0).toString(),f=Math.max((window.screen.availWidth-s)/2,0).toString();let m="";const y={...kI,width:s.toString(),height:o.toString(),top:u,left:f},g=Ze().toLowerCase();n&&(m=dT(g)?zI:n),hT(g)&&(t=t||BI,y.scrollbars="yes");const E=Object.entries(y).reduce((R,[k,F])=>`${R}${k}=${F},`,"");if(Tw(g)&&m!=="_self")return qI(t||"",m),new Rv(null);const A=window.open(t||"",m,E);vt(A,r,"popup-blocked");try{A.focus()}catch{}return new Rv(A)}function qI(r,t){const n=document.createElement("a");n.href=r,n.target=t;const s=document.createEvent("MouseEvent");s.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(s)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jI="__/auth/handler",FI="emulator/auth/handler",GI=encodeURIComponent("fac");async function wv(r,t,n,s,o,u){vt(r.config.authDomain,r,"auth-domain-config-required"),vt(r.config.apiKey,r,"invalid-api-key");const f={apiKey:r.config.apiKey,appName:r.name,authType:n,redirectUrl:s,v:ao,eventId:o};if(t instanceof Km){t.setDefaultLanguage(r.languageCode),f.providerId=t.providerId||"",Fb(t.getCustomParameters())||(f.customParameters=JSON.stringify(t.getCustomParameters()));for(const[E,A]of Object.entries({}))f[E]=A}if(t instanceof Zl){const E=t.getScopes().filter(A=>A!=="");E.length>0&&(f.scopes=E.join(","))}r.tenantId&&(f.tid=r.tenantId);const m=f;for(const E of Object.keys(m))m[E]===void 0&&delete m[E];const y=await r._getAppCheckToken(),g=y?`#${GI}=${encodeURIComponent(y)}`:"";return`${QI(r)}?${Xl(m).slice(1)}${g}`}function QI({config:r}){return r.emulator?qm(r,FI):`https://${r.authDomain}/${jI}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $d="webStorageSupport";class KI{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=wT,this._completeRedirectFn=yI,this._overrideRedirectResult=mI}async _openPopup(t,n,s,o){Zi(this.eventManagers[t._key()]?.manager,"_initialize() not called before _openPopup()");const u=await wv(t,n,s,um(),o);return HI(t,u,Ym())}async _openRedirect(t,n,s,o){await this._originValidation(t);const u=await wv(t,n,s,um(),o);return $w(u),new Promise(()=>{})}_initialize(t){const n=t._key();if(this.eventManagers[n]){const{manager:o,promise:u}=this.eventManagers[n];return o?Promise.resolve(o):(Zi(u,"If manager is not set, promise should be"),u)}const s=this.initAndGetManager(t);return this.eventManagers[n]={promise:s},s.catch(()=>{delete this.eventManagers[n]}),s}async initAndGetManager(t){const n=await xI(t),s=new vI(t);return n.register("authEvent",o=>(vt(o?.authEvent,t,"invalid-auth-event"),{status:s.onEvent(o.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[t._key()]={manager:s},this.iframes[t._key()]=n,s}_isIframeWebStorageSupported(t,n){this.iframes[t._key()].send($d,{type:$d},o=>{const u=o?.[0]?.[$d];u!==void 0&&n(!!u),mi(t,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(t){const n=t._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=bI(t)),this.originValidationPromises[n]}get _shouldInitProactively(){return _T()||fT()||Gm()}}const YI=KI;var Iv="@firebase/auth",Cv="1.11.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XI{constructor(t){this.auth=t,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(t){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(t)}:null}addAuthTokenListener(t){if(this.assertAuthConfigured(),this.internalListeners.has(t))return;const n=this.auth.onIdTokenChanged(s=>{t(s?.stsTokenManager.accessToken||null)});this.internalListeners.set(t,n),this.updateProactiveRefresh()}removeAuthTokenListener(t){this.assertAuthConfigured();const n=this.internalListeners.get(t);n&&(this.internalListeners.delete(t),n(),this.updateProactiveRefresh())}assertAuthConfigured(){vt(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $I(r){switch(r){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function ZI(r){Ya(new Us("auth",(t,{options:n})=>{const s=t.getProvider("app").getImmediate(),o=t.getProvider("heartbeat"),u=t.getProvider("app-check-internal"),{apiKey:f,authDomain:m}=s.options;vt(f&&!f.includes(":"),"invalid-api-key",{appName:s.name});const y={apiKey:f,authDomain:m,clientPlatform:r,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:vT(r)},g=new Iw(s,o,u,y);return Vw(g,n),g},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((t,n,s)=>{t.getProvider("auth-internal").initialize()})),Ya(new Us("auth-internal",t=>{const n=vh(t.getProvider("auth").getImmediate());return(s=>new XI(s))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Lr(Iv,Cv,$I(r)),Lr(Iv,Cv,"esm2020")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JI=300,WI=XE("authIdTokenMaxAge")||JI;let Dv=null;const tC=r=>async t=>{const n=t&&await t.getIdTokenResult(),s=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(s&&s>WI)return;const o=n?.token;Dv!==o&&(Dv=o,await fetch(r,{method:o?"POST":"DELETE",headers:o?{Authorization:`Bearer ${o}`}:{}}))};function eC(r=eT()){const t=zm(r,"auth");if(t.isInitialized())return t.getImmediate();const n=Mw(r,{popupRedirectResolver:YI,persistence:[sI,Kw,wT]}),s=XE("authTokenSyncURL");if(s&&typeof isSecureContext=="boolean"&&isSecureContext){const u=new URL(s,location.origin);if(location.origin===u.origin){const f=tC(u.toString());qw(n,f,()=>f(n.currentUser)),Hw(n,m=>f(m))}}const o=KE("auth");return o&&Pw(n,`http://${o}`),n}function nC(){return document.getElementsByTagName("head")?.[0]??document}Cw({loadJS(r){return new Promise((t,n)=>{const s=document.createElement("script");s.setAttribute("src",r),s.onload=t,s.onerror=o=>{const u=qn("internal-error");u.customData=o,n(u)},s.type="text/javascript",s.charset="UTF-8",nC().appendChild(s)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});ZI("Browser");var iC="firebase",rC="12.1.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Lr(iC,rC,"app");var Ov=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Ur,PT;(function(){var r;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function t(M,b){function I(){}I.prototype=b.prototype,M.D=b.prototype,M.prototype=new I,M.prototype.constructor=M,M.C=function(N,V,x){for(var C=Array(arguments.length-2),ke=2;ke<arguments.length;ke++)C[ke-2]=arguments[ke];return b.prototype[V].apply(N,C)}}function n(){this.blockSize=-1}function s(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}t(s,n),s.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(M,b,I){I||(I=0);var N=Array(16);if(typeof b=="string")for(var V=0;16>V;++V)N[V]=b.charCodeAt(I++)|b.charCodeAt(I++)<<8|b.charCodeAt(I++)<<16|b.charCodeAt(I++)<<24;else for(V=0;16>V;++V)N[V]=b[I++]|b[I++]<<8|b[I++]<<16|b[I++]<<24;b=M.g[0],I=M.g[1],V=M.g[2];var x=M.g[3],C=b+(x^I&(V^x))+N[0]+3614090360&4294967295;b=I+(C<<7&4294967295|C>>>25),C=x+(V^b&(I^V))+N[1]+3905402710&4294967295,x=b+(C<<12&4294967295|C>>>20),C=V+(I^x&(b^I))+N[2]+606105819&4294967295,V=x+(C<<17&4294967295|C>>>15),C=I+(b^V&(x^b))+N[3]+3250441966&4294967295,I=V+(C<<22&4294967295|C>>>10),C=b+(x^I&(V^x))+N[4]+4118548399&4294967295,b=I+(C<<7&4294967295|C>>>25),C=x+(V^b&(I^V))+N[5]+1200080426&4294967295,x=b+(C<<12&4294967295|C>>>20),C=V+(I^x&(b^I))+N[6]+2821735955&4294967295,V=x+(C<<17&4294967295|C>>>15),C=I+(b^V&(x^b))+N[7]+4249261313&4294967295,I=V+(C<<22&4294967295|C>>>10),C=b+(x^I&(V^x))+N[8]+1770035416&4294967295,b=I+(C<<7&4294967295|C>>>25),C=x+(V^b&(I^V))+N[9]+2336552879&4294967295,x=b+(C<<12&4294967295|C>>>20),C=V+(I^x&(b^I))+N[10]+4294925233&4294967295,V=x+(C<<17&4294967295|C>>>15),C=I+(b^V&(x^b))+N[11]+2304563134&4294967295,I=V+(C<<22&4294967295|C>>>10),C=b+(x^I&(V^x))+N[12]+1804603682&4294967295,b=I+(C<<7&4294967295|C>>>25),C=x+(V^b&(I^V))+N[13]+4254626195&4294967295,x=b+(C<<12&4294967295|C>>>20),C=V+(I^x&(b^I))+N[14]+2792965006&4294967295,V=x+(C<<17&4294967295|C>>>15),C=I+(b^V&(x^b))+N[15]+1236535329&4294967295,I=V+(C<<22&4294967295|C>>>10),C=b+(V^x&(I^V))+N[1]+4129170786&4294967295,b=I+(C<<5&4294967295|C>>>27),C=x+(I^V&(b^I))+N[6]+3225465664&4294967295,x=b+(C<<9&4294967295|C>>>23),C=V+(b^I&(x^b))+N[11]+643717713&4294967295,V=x+(C<<14&4294967295|C>>>18),C=I+(x^b&(V^x))+N[0]+3921069994&4294967295,I=V+(C<<20&4294967295|C>>>12),C=b+(V^x&(I^V))+N[5]+3593408605&4294967295,b=I+(C<<5&4294967295|C>>>27),C=x+(I^V&(b^I))+N[10]+38016083&4294967295,x=b+(C<<9&4294967295|C>>>23),C=V+(b^I&(x^b))+N[15]+3634488961&4294967295,V=x+(C<<14&4294967295|C>>>18),C=I+(x^b&(V^x))+N[4]+3889429448&4294967295,I=V+(C<<20&4294967295|C>>>12),C=b+(V^x&(I^V))+N[9]+568446438&4294967295,b=I+(C<<5&4294967295|C>>>27),C=x+(I^V&(b^I))+N[14]+3275163606&4294967295,x=b+(C<<9&4294967295|C>>>23),C=V+(b^I&(x^b))+N[3]+4107603335&4294967295,V=x+(C<<14&4294967295|C>>>18),C=I+(x^b&(V^x))+N[8]+1163531501&4294967295,I=V+(C<<20&4294967295|C>>>12),C=b+(V^x&(I^V))+N[13]+2850285829&4294967295,b=I+(C<<5&4294967295|C>>>27),C=x+(I^V&(b^I))+N[2]+4243563512&4294967295,x=b+(C<<9&4294967295|C>>>23),C=V+(b^I&(x^b))+N[7]+1735328473&4294967295,V=x+(C<<14&4294967295|C>>>18),C=I+(x^b&(V^x))+N[12]+2368359562&4294967295,I=V+(C<<20&4294967295|C>>>12),C=b+(I^V^x)+N[5]+4294588738&4294967295,b=I+(C<<4&4294967295|C>>>28),C=x+(b^I^V)+N[8]+2272392833&4294967295,x=b+(C<<11&4294967295|C>>>21),C=V+(x^b^I)+N[11]+1839030562&4294967295,V=x+(C<<16&4294967295|C>>>16),C=I+(V^x^b)+N[14]+4259657740&4294967295,I=V+(C<<23&4294967295|C>>>9),C=b+(I^V^x)+N[1]+2763975236&4294967295,b=I+(C<<4&4294967295|C>>>28),C=x+(b^I^V)+N[4]+1272893353&4294967295,x=b+(C<<11&4294967295|C>>>21),C=V+(x^b^I)+N[7]+4139469664&4294967295,V=x+(C<<16&4294967295|C>>>16),C=I+(V^x^b)+N[10]+3200236656&4294967295,I=V+(C<<23&4294967295|C>>>9),C=b+(I^V^x)+N[13]+681279174&4294967295,b=I+(C<<4&4294967295|C>>>28),C=x+(b^I^V)+N[0]+3936430074&4294967295,x=b+(C<<11&4294967295|C>>>21),C=V+(x^b^I)+N[3]+3572445317&4294967295,V=x+(C<<16&4294967295|C>>>16),C=I+(V^x^b)+N[6]+76029189&4294967295,I=V+(C<<23&4294967295|C>>>9),C=b+(I^V^x)+N[9]+3654602809&4294967295,b=I+(C<<4&4294967295|C>>>28),C=x+(b^I^V)+N[12]+3873151461&4294967295,x=b+(C<<11&4294967295|C>>>21),C=V+(x^b^I)+N[15]+530742520&4294967295,V=x+(C<<16&4294967295|C>>>16),C=I+(V^x^b)+N[2]+3299628645&4294967295,I=V+(C<<23&4294967295|C>>>9),C=b+(V^(I|~x))+N[0]+4096336452&4294967295,b=I+(C<<6&4294967295|C>>>26),C=x+(I^(b|~V))+N[7]+1126891415&4294967295,x=b+(C<<10&4294967295|C>>>22),C=V+(b^(x|~I))+N[14]+2878612391&4294967295,V=x+(C<<15&4294967295|C>>>17),C=I+(x^(V|~b))+N[5]+4237533241&4294967295,I=V+(C<<21&4294967295|C>>>11),C=b+(V^(I|~x))+N[12]+1700485571&4294967295,b=I+(C<<6&4294967295|C>>>26),C=x+(I^(b|~V))+N[3]+2399980690&4294967295,x=b+(C<<10&4294967295|C>>>22),C=V+(b^(x|~I))+N[10]+4293915773&4294967295,V=x+(C<<15&4294967295|C>>>17),C=I+(x^(V|~b))+N[1]+2240044497&4294967295,I=V+(C<<21&4294967295|C>>>11),C=b+(V^(I|~x))+N[8]+1873313359&4294967295,b=I+(C<<6&4294967295|C>>>26),C=x+(I^(b|~V))+N[15]+4264355552&4294967295,x=b+(C<<10&4294967295|C>>>22),C=V+(b^(x|~I))+N[6]+2734768916&4294967295,V=x+(C<<15&4294967295|C>>>17),C=I+(x^(V|~b))+N[13]+1309151649&4294967295,I=V+(C<<21&4294967295|C>>>11),C=b+(V^(I|~x))+N[4]+4149444226&4294967295,b=I+(C<<6&4294967295|C>>>26),C=x+(I^(b|~V))+N[11]+3174756917&4294967295,x=b+(C<<10&4294967295|C>>>22),C=V+(b^(x|~I))+N[2]+718787259&4294967295,V=x+(C<<15&4294967295|C>>>17),C=I+(x^(V|~b))+N[9]+3951481745&4294967295,M.g[0]=M.g[0]+b&4294967295,M.g[1]=M.g[1]+(V+(C<<21&4294967295|C>>>11))&4294967295,M.g[2]=M.g[2]+V&4294967295,M.g[3]=M.g[3]+x&4294967295}s.prototype.u=function(M,b){b===void 0&&(b=M.length);for(var I=b-this.blockSize,N=this.B,V=this.h,x=0;x<b;){if(V==0)for(;x<=I;)o(this,M,x),x+=this.blockSize;if(typeof M=="string"){for(;x<b;)if(N[V++]=M.charCodeAt(x++),V==this.blockSize){o(this,N),V=0;break}}else for(;x<b;)if(N[V++]=M[x++],V==this.blockSize){o(this,N),V=0;break}}this.h=V,this.o+=b},s.prototype.v=function(){var M=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);M[0]=128;for(var b=1;b<M.length-8;++b)M[b]=0;var I=8*this.o;for(b=M.length-8;b<M.length;++b)M[b]=I&255,I/=256;for(this.u(M),M=Array(16),b=I=0;4>b;++b)for(var N=0;32>N;N+=8)M[I++]=this.g[b]>>>N&255;return M};function u(M,b){var I=m;return Object.prototype.hasOwnProperty.call(I,M)?I[M]:I[M]=b(M)}function f(M,b){this.h=b;for(var I=[],N=!0,V=M.length-1;0<=V;V--){var x=M[V]|0;N&&x==b||(I[V]=x,N=!1)}this.g=I}var m={};function y(M){return-128<=M&&128>M?u(M,function(b){return new f([b|0],0>b?-1:0)}):new f([M|0],0>M?-1:0)}function g(M){if(isNaN(M)||!isFinite(M))return A;if(0>M)return q(g(-M));for(var b=[],I=1,N=0;M>=I;N++)b[N]=M/I|0,I*=4294967296;return new f(b,0)}function E(M,b){if(M.length==0)throw Error("number format error: empty string");if(b=b||10,2>b||36<b)throw Error("radix out of range: "+b);if(M.charAt(0)=="-")return q(E(M.substring(1),b));if(0<=M.indexOf("-"))throw Error('number format error: interior "-" character');for(var I=g(Math.pow(b,8)),N=A,V=0;V<M.length;V+=8){var x=Math.min(8,M.length-V),C=parseInt(M.substring(V,V+x),b);8>x?(x=g(Math.pow(b,x)),N=N.j(x).add(g(C))):(N=N.j(I),N=N.add(g(C)))}return N}var A=y(0),R=y(1),k=y(16777216);r=f.prototype,r.m=function(){if(G(this))return-q(this).m();for(var M=0,b=1,I=0;I<this.g.length;I++){var N=this.i(I);M+=(0<=N?N:4294967296+N)*b,b*=4294967296}return M},r.toString=function(M){if(M=M||10,2>M||36<M)throw Error("radix out of range: "+M);if(F(this))return"0";if(G(this))return"-"+q(this).toString(M);for(var b=g(Math.pow(M,6)),I=this,N="";;){var V=Tt(I,b).g;I=et(I,V.j(b));var x=((0<I.g.length?I.g[0]:I.h)>>>0).toString(M);if(I=V,F(I))return x+N;for(;6>x.length;)x="0"+x;N=x+N}},r.i=function(M){return 0>M?0:M<this.g.length?this.g[M]:this.h};function F(M){if(M.h!=0)return!1;for(var b=0;b<M.g.length;b++)if(M.g[b]!=0)return!1;return!0}function G(M){return M.h==-1}r.l=function(M){return M=et(this,M),G(M)?-1:F(M)?0:1};function q(M){for(var b=M.g.length,I=[],N=0;N<b;N++)I[N]=~M.g[N];return new f(I,~M.h).add(R)}r.abs=function(){return G(this)?q(this):this},r.add=function(M){for(var b=Math.max(this.g.length,M.g.length),I=[],N=0,V=0;V<=b;V++){var x=N+(this.i(V)&65535)+(M.i(V)&65535),C=(x>>>16)+(this.i(V)>>>16)+(M.i(V)>>>16);N=C>>>16,x&=65535,C&=65535,I[V]=C<<16|x}return new f(I,I[I.length-1]&-2147483648?-1:0)};function et(M,b){return M.add(q(b))}r.j=function(M){if(F(this)||F(M))return A;if(G(this))return G(M)?q(this).j(q(M)):q(q(this).j(M));if(G(M))return q(this.j(q(M)));if(0>this.l(k)&&0>M.l(k))return g(this.m()*M.m());for(var b=this.g.length+M.g.length,I=[],N=0;N<2*b;N++)I[N]=0;for(N=0;N<this.g.length;N++)for(var V=0;V<M.g.length;V++){var x=this.i(N)>>>16,C=this.i(N)&65535,ke=M.i(V)>>>16,oe=M.i(V)&65535;I[2*N+2*V]+=C*oe,$(I,2*N+2*V),I[2*N+2*V+1]+=x*oe,$(I,2*N+2*V+1),I[2*N+2*V+1]+=C*ke,$(I,2*N+2*V+1),I[2*N+2*V+2]+=x*ke,$(I,2*N+2*V+2)}for(N=0;N<b;N++)I[N]=I[2*N+1]<<16|I[2*N];for(N=b;N<2*b;N++)I[N]=0;return new f(I,0)};function $(M,b){for(;(M[b]&65535)!=M[b];)M[b+1]+=M[b]>>>16,M[b]&=65535,b++}function it(M,b){this.g=M,this.h=b}function Tt(M,b){if(F(b))throw Error("division by zero");if(F(M))return new it(A,A);if(G(M))return b=Tt(q(M),b),new it(q(b.g),q(b.h));if(G(b))return b=Tt(M,q(b)),new it(q(b.g),b.h);if(30<M.g.length){if(G(M)||G(b))throw Error("slowDivide_ only works with positive integers.");for(var I=R,N=b;0>=N.l(M);)I=ct(I),N=ct(N);var V=Vt(I,1),x=Vt(N,1);for(N=Vt(N,2),I=Vt(I,2);!F(N);){var C=x.add(N);0>=C.l(M)&&(V=V.add(I),x=C),N=Vt(N,1),I=Vt(I,1)}return b=et(M,V.j(b)),new it(V,b)}for(V=A;0<=M.l(b);){for(I=Math.max(1,Math.floor(M.m()/b.m())),N=Math.ceil(Math.log(I)/Math.LN2),N=48>=N?1:Math.pow(2,N-48),x=g(I),C=x.j(b);G(C)||0<C.l(M);)I-=N,x=g(I),C=x.j(b);F(x)&&(x=R),V=V.add(x),M=et(M,C)}return new it(V,M)}r.A=function(M){return Tt(this,M).h},r.and=function(M){for(var b=Math.max(this.g.length,M.g.length),I=[],N=0;N<b;N++)I[N]=this.i(N)&M.i(N);return new f(I,this.h&M.h)},r.or=function(M){for(var b=Math.max(this.g.length,M.g.length),I=[],N=0;N<b;N++)I[N]=this.i(N)|M.i(N);return new f(I,this.h|M.h)},r.xor=function(M){for(var b=Math.max(this.g.length,M.g.length),I=[],N=0;N<b;N++)I[N]=this.i(N)^M.i(N);return new f(I,this.h^M.h)};function ct(M){for(var b=M.g.length+1,I=[],N=0;N<b;N++)I[N]=M.i(N)<<1|M.i(N-1)>>>31;return new f(I,M.h)}function Vt(M,b){var I=b>>5;b%=32;for(var N=M.g.length-I,V=[],x=0;x<N;x++)V[x]=0<b?M.i(x+I)>>>b|M.i(x+I+1)<<32-b:M.i(x+I);return new f(V,M.h)}s.prototype.digest=s.prototype.v,s.prototype.reset=s.prototype.s,s.prototype.update=s.prototype.u,PT=s,f.prototype.add=f.prototype.add,f.prototype.multiply=f.prototype.j,f.prototype.modulo=f.prototype.A,f.prototype.compare=f.prototype.l,f.prototype.toNumber=f.prototype.m,f.prototype.toString=f.prototype.toString,f.prototype.getBits=f.prototype.i,f.fromNumber=g,f.fromString=E,Ur=f}).apply(typeof Ov<"u"?Ov:typeof self<"u"?self:typeof window<"u"?window:{});var Oc=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var xT,Rl,kT,Hc,fm,LT,UT,zT;(function(){var r,t=typeof Object.defineProperties=="function"?Object.defineProperty:function(c,p,_){return c==Array.prototype||c==Object.prototype||(c[p]=_.value),c};function n(c){c=[typeof globalThis=="object"&&globalThis,c,typeof window=="object"&&window,typeof self=="object"&&self,typeof Oc=="object"&&Oc];for(var p=0;p<c.length;++p){var _=c[p];if(_&&_.Math==Math)return _}throw Error("Cannot find global object")}var s=n(this);function o(c,p){if(p)t:{var _=s;c=c.split(".");for(var S=0;S<c.length-1;S++){var L=c[S];if(!(L in _))break t;_=_[L]}c=c[c.length-1],S=_[c],p=p(S),p!=S&&p!=null&&t(_,c,{configurable:!0,writable:!0,value:p})}}function u(c,p){c instanceof String&&(c+="");var _=0,S=!1,L={next:function(){if(!S&&_<c.length){var j=_++;return{value:p(j,c[j]),done:!1}}return S=!0,{done:!0,value:void 0}}};return L[Symbol.iterator]=function(){return L},L}o("Array.prototype.values",function(c){return c||function(){return u(this,function(p,_){return _})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var f=f||{},m=this||self;function y(c){var p=typeof c;return p=p!="object"?p:c?Array.isArray(c)?"array":p:"null",p=="array"||p=="object"&&typeof c.length=="number"}function g(c){var p=typeof c;return p=="object"&&c!=null||p=="function"}function E(c,p,_){return c.call.apply(c.bind,arguments)}function A(c,p,_){if(!c)throw Error();if(2<arguments.length){var S=Array.prototype.slice.call(arguments,2);return function(){var L=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(L,S),c.apply(p,L)}}return function(){return c.apply(p,arguments)}}function R(c,p,_){return R=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?E:A,R.apply(null,arguments)}function k(c,p){var _=Array.prototype.slice.call(arguments,1);return function(){var S=_.slice();return S.push.apply(S,arguments),c.apply(this,S)}}function F(c,p){function _(){}_.prototype=p.prototype,c.aa=p.prototype,c.prototype=new _,c.prototype.constructor=c,c.Qb=function(S,L,j){for(var rt=Array(arguments.length-2),Pt=2;Pt<arguments.length;Pt++)rt[Pt-2]=arguments[Pt];return p.prototype[L].apply(S,rt)}}function G(c){const p=c.length;if(0<p){const _=Array(p);for(let S=0;S<p;S++)_[S]=c[S];return _}return[]}function q(c,p){for(let _=1;_<arguments.length;_++){const S=arguments[_];if(y(S)){const L=c.length||0,j=S.length||0;c.length=L+j;for(let rt=0;rt<j;rt++)c[L+rt]=S[rt]}else c.push(S)}}class et{constructor(p,_){this.i=p,this.j=_,this.h=0,this.g=null}get(){let p;return 0<this.h?(this.h--,p=this.g,this.g=p.next,p.next=null):p=this.i(),p}}function $(c){return/^[\s\xa0]*$/.test(c)}function it(){var c=m.navigator;return c&&(c=c.userAgent)?c:""}function Tt(c){return Tt[" "](c),c}Tt[" "]=function(){};var ct=it().indexOf("Gecko")!=-1&&!(it().toLowerCase().indexOf("webkit")!=-1&&it().indexOf("Edge")==-1)&&!(it().indexOf("Trident")!=-1||it().indexOf("MSIE")!=-1)&&it().indexOf("Edge")==-1;function Vt(c,p,_){for(const S in c)p.call(_,c[S],S,c)}function M(c,p){for(const _ in c)p.call(void 0,c[_],_,c)}function b(c){const p={};for(const _ in c)p[_]=c[_];return p}const I="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function N(c,p){let _,S;for(let L=1;L<arguments.length;L++){S=arguments[L];for(_ in S)c[_]=S[_];for(let j=0;j<I.length;j++)_=I[j],Object.prototype.hasOwnProperty.call(S,_)&&(c[_]=S[_])}}function V(c){var p=1;c=c.split(":");const _=[];for(;0<p&&c.length;)_.push(c.shift()),p--;return c.length&&_.push(c.join(":")),_}function x(c){m.setTimeout(()=>{throw c},0)}function C(){var c=zt;let p=null;return c.g&&(p=c.g,c.g=c.g.next,c.g||(c.h=null),p.next=null),p}class ke{constructor(){this.h=this.g=null}add(p,_){const S=oe.get();S.set(p,_),this.h?this.h.next=S:this.g=S,this.h=S}}var oe=new et(()=>new K,c=>c.reset());class K{constructor(){this.next=this.g=this.h=null}set(p,_){this.h=p,this.g=_,this.next=null}reset(){this.next=this.g=this.h=null}}let st,ft=!1,zt=new ke,D=()=>{const c=m.Promise.resolve(void 0);st=()=>{c.then(W)}};var W=()=>{for(var c;c=C();){try{c.h.call(c.g)}catch(_){x(_)}var p=oe;p.j(c),100>p.h&&(p.h++,c.next=p.g,p.g=c)}ft=!1};function at(){this.s=this.s,this.C=this.C}at.prototype.s=!1,at.prototype.ma=function(){this.s||(this.s=!0,this.N())},at.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function nt(c,p){this.type=c,this.g=this.target=p,this.defaultPrevented=!1}nt.prototype.h=function(){this.defaultPrevented=!0};var dt=(function(){if(!m.addEventListener||!Object.defineProperty)return!1;var c=!1,p=Object.defineProperty({},"passive",{get:function(){c=!0}});try{const _=()=>{};m.addEventListener("test",_,p),m.removeEventListener("test",_,p)}catch{}return c})();function wt(c,p){if(nt.call(this,c?c.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,c){var _=this.type=c.type,S=c.changedTouches&&c.changedTouches.length?c.changedTouches[0]:null;if(this.target=c.target||c.srcElement,this.g=p,p=c.relatedTarget){if(ct){t:{try{Tt(p.nodeName);var L=!0;break t}catch{}L=!1}L||(p=null)}}else _=="mouseover"?p=c.fromElement:_=="mouseout"&&(p=c.toElement);this.relatedTarget=p,S?(this.clientX=S.clientX!==void 0?S.clientX:S.pageX,this.clientY=S.clientY!==void 0?S.clientY:S.pageY,this.screenX=S.screenX||0,this.screenY=S.screenY||0):(this.clientX=c.clientX!==void 0?c.clientX:c.pageX,this.clientY=c.clientY!==void 0?c.clientY:c.pageY,this.screenX=c.screenX||0,this.screenY=c.screenY||0),this.button=c.button,this.key=c.key||"",this.ctrlKey=c.ctrlKey,this.altKey=c.altKey,this.shiftKey=c.shiftKey,this.metaKey=c.metaKey,this.pointerId=c.pointerId||0,this.pointerType=typeof c.pointerType=="string"?c.pointerType:Et[c.pointerType]||"",this.state=c.state,this.i=c,c.defaultPrevented&&wt.aa.h.call(this)}}F(wt,nt);var Et={2:"touch",3:"pen",4:"mouse"};wt.prototype.h=function(){wt.aa.h.call(this);var c=this.i;c.preventDefault?c.preventDefault():c.returnValue=!1};var De="closure_listenable_"+(1e6*Math.random()|0),Zt=0;function Gn(c,p,_,S,L){this.listener=c,this.proxy=null,this.src=p,this.type=_,this.capture=!!S,this.ha=L,this.key=++Zt,this.da=this.fa=!1}function er(c){c.da=!0,c.listener=null,c.proxy=null,c.src=null,c.ha=null}function yi(c){this.src=c,this.g={},this.h=0}yi.prototype.add=function(c,p,_,S,L){var j=c.toString();c=this.g[j],c||(c=this.g[j]=[],this.h++);var rt=Xr(c,p,S,L);return-1<rt?(p=c[rt],_||(p.fa=!1)):(p=new Gn(p,this.src,j,!!S,L),p.fa=_,c.push(p)),p};function Yr(c,p){var _=p.type;if(_ in c.g){var S=c.g[_],L=Array.prototype.indexOf.call(S,p,void 0),j;(j=0<=L)&&Array.prototype.splice.call(S,L,1),j&&(er(p),c.g[_].length==0&&(delete c.g[_],c.h--))}}function Xr(c,p,_,S){for(var L=0;L<c.length;++L){var j=c[L];if(!j.da&&j.listener==p&&j.capture==!!_&&j.ha==S)return L}return-1}var $r="closure_lm_"+(1e6*Math.random()|0),fo={};function ru(c,p,_,S,L){if(Array.isArray(p)){for(var j=0;j<p.length;j++)ru(c,p[j],_,S,L);return null}return _=su(_),c&&c[De]?c.K(p,_,g(S)?!!S.capture:!1,L):yn(c,p,_,!1,S,L)}function yn(c,p,_,S,L,j){if(!p)throw Error("Invalid event type");var rt=g(L)?!!L.capture:!!L,Pt=Ys(c);if(Pt||(c[$r]=Pt=new yi(c)),_=Pt.add(p,_,S,rt,j),_.proxy)return _;if(S=xh(),_.proxy=S,S.src=c,S.listener=_,c.addEventListener)dt||(L=rt),L===void 0&&(L=!1),c.addEventListener(p.toString(),S,L);else if(c.attachEvent)c.attachEvent(Zr(p.toString()),S);else if(c.addListener&&c.removeListener)c.addListener(S);else throw Error("addEventListener and attachEvent are unavailable.");return _}function xh(){function c(_){return p.call(c.src,c.listener,_)}const p=kh;return c}function mo(c,p,_,S,L){if(Array.isArray(p))for(var j=0;j<p.length;j++)mo(c,p[j],_,S,L);else S=g(S)?!!S.capture:!!S,_=su(_),c&&c[De]?(c=c.i,p=String(p).toString(),p in c.g&&(j=c.g[p],_=Xr(j,_,S,L),-1<_&&(er(j[_]),Array.prototype.splice.call(j,_,1),j.length==0&&(delete c.g[p],c.h--)))):c&&(c=Ys(c))&&(p=c.g[p.toString()],c=-1,p&&(c=Xr(p,_,S,L)),(_=-1<c?p[c]:null)&&Ks(_))}function Ks(c){if(typeof c!="number"&&c&&!c.da){var p=c.src;if(p&&p[De])Yr(p.i,c);else{var _=c.type,S=c.proxy;p.removeEventListener?p.removeEventListener(_,S,c.capture):p.detachEvent?p.detachEvent(Zr(_),S):p.addListener&&p.removeListener&&p.removeListener(S),(_=Ys(p))?(Yr(_,c),_.h==0&&(_.src=null,p[$r]=null)):er(c)}}}function Zr(c){return c in fo?fo[c]:fo[c]="on"+c}function kh(c,p){if(c.da)c=!0;else{p=new wt(p,this);var _=c.listener,S=c.ha||c.src;c.fa&&Ks(c),c=_.call(S,p)}return c}function Ys(c){return c=c[$r],c instanceof yi?c:null}var po="__closure_events_fn_"+(1e9*Math.random()>>>0);function su(c){return typeof c=="function"?c:(c[po]||(c[po]=function(p){return c.handleEvent(p)}),c[po])}function le(){at.call(this),this.i=new yi(this),this.M=this,this.F=null}F(le,at),le.prototype[De]=!0,le.prototype.removeEventListener=function(c,p,_,S){mo(this,c,p,_,S)};function jt(c,p){var _,S=c.F;if(S)for(_=[];S;S=S.F)_.push(S);if(c=c.M,S=p.type||p,typeof p=="string")p=new nt(p,c);else if(p instanceof nt)p.target=p.target||c;else{var L=p;p=new nt(S,c),N(p,L)}if(L=!0,_)for(var j=_.length-1;0<=j;j--){var rt=p.g=_[j];L=on(rt,S,!0,p)&&L}if(rt=p.g=c,L=on(rt,S,!0,p)&&L,L=on(rt,S,!1,p)&&L,_)for(j=0;j<_.length;j++)rt=p.g=_[j],L=on(rt,S,!1,p)&&L}le.prototype.N=function(){if(le.aa.N.call(this),this.i){var c=this.i,p;for(p in c.g){for(var _=c.g[p],S=0;S<_.length;S++)er(_[S]);delete c.g[p],c.h--}}this.F=null},le.prototype.K=function(c,p,_,S){return this.i.add(String(c),p,!1,_,S)},le.prototype.L=function(c,p,_,S){return this.i.add(String(c),p,!0,_,S)};function on(c,p,_,S){if(p=c.i.g[String(p)],!p)return!0;p=p.concat();for(var L=!0,j=0;j<p.length;++j){var rt=p[j];if(rt&&!rt.da&&rt.capture==_){var Pt=rt.listener,Se=rt.ha||rt.src;rt.fa&&Yr(c.i,rt),L=Pt.call(Se,S)!==!1&&L}}return L&&!S.defaultPrevented}function Ge(c,p,_){if(typeof c=="function")_&&(c=R(c,_));else if(c&&typeof c.handleEvent=="function")c=R(c.handleEvent,c);else throw Error("Invalid listener argument");return 2147483647<Number(p)?-1:m.setTimeout(c,p||0)}function au(c){c.g=Ge(()=>{c.g=null,c.i&&(c.i=!1,au(c))},c.l);const p=c.h;c.h=null,c.m.apply(null,p)}class Lh extends at{constructor(p,_){super(),this.m=p,this.l=_,this.h=null,this.i=!1,this.g=null}j(p){this.h=arguments,this.g?this.i=!0:au(this)}N(){super.N(),this.g&&(m.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Jr(c){at.call(this),this.h=c,this.g={}}F(Jr,at);var Wr=[];function ts(c){Vt(c.g,function(p,_){this.g.hasOwnProperty(_)&&Ks(p)},c),c.g={}}Jr.prototype.N=function(){Jr.aa.N.call(this),ts(this)},Jr.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Vn=m.JSON.stringify,Xs=m.JSON.parse,es=class{stringify(c){return m.JSON.stringify(c,void 0)}parse(c){return m.JSON.parse(c,void 0)}};function go(){}go.prototype.h=null;function yo(c){return c.h||(c.h=c.i())}function _o(){}var _i={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function vi(){nt.call(this,"d")}F(vi,nt);function vo(){nt.call(this,"c")}F(vo,nt);var Qn={},Eo=null;function nr(){return Eo=Eo||new le}Qn.La="serverreachability";function $s(c){nt.call(this,Qn.La,c)}F($s,nt);function ir(c){const p=nr();jt(p,new $s(p))}Qn.STAT_EVENT="statevent";function ou(c,p){nt.call(this,Qn.STAT_EVENT,c),this.stat=p}F(ou,nt);function ee(c){const p=nr();jt(p,new ou(p,c))}Qn.Ma="timingevent";function Te(c,p){nt.call(this,Qn.Ma,c),this.size=p}F(Te,nt);function pe(c,p){if(typeof c!="function")throw Error("Fn must not be null and must be a function");return m.setTimeout(function(){c()},p)}function _n(){this.g=!0}_n.prototype.xa=function(){this.g=!1};function To(c,p,_,S,L,j){c.info(function(){if(c.g)if(j)for(var rt="",Pt=j.split("&"),Se=0;Se<Pt.length;Se++){var xt=Pt[Se].split("=");if(1<xt.length){var Ne=xt[0];xt=xt[1];var Ae=Ne.split("_");rt=2<=Ae.length&&Ae[1]=="type"?rt+(Ne+"="+xt+"&"):rt+(Ne+"=redacted&")}}else rt=null;else rt=j;return"XMLHTTP REQ ("+S+") [attempt "+L+"]: "+p+`
`+_+`
`+rt})}function Uh(c,p,_,S,L,j,rt){c.info(function(){return"XMLHTTP RESP ("+S+") [ attempt "+L+"]: "+p+`
`+_+`
`+j+" "+rt})}function rr(c,p,_,S){c.info(function(){return"XMLHTTP TEXT ("+p+"): "+ns(c,_)+(S?" "+S:"")})}function lu(c,p){c.info(function(){return"TIMEOUT: "+p})}_n.prototype.info=function(){};function ns(c,p){if(!c.g)return p;if(!p)return null;try{var _=JSON.parse(p);if(_){for(c=0;c<_.length;c++)if(Array.isArray(_[c])){var S=_[c];if(!(2>S.length)){var L=S[1];if(Array.isArray(L)&&!(1>L.length)){var j=L[0];if(j!="noop"&&j!="stop"&&j!="close")for(var rt=1;rt<L.length;rt++)L[rt]=""}}}}return Vn(_)}catch{return p}}var sr={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Ei={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Kn;function Yn(){}F(Yn,go),Yn.prototype.g=function(){return new XMLHttpRequest},Yn.prototype.i=function(){return{}},Kn=new Yn;function Je(c,p,_,S){this.j=c,this.i=p,this.l=_,this.R=S||1,this.U=new Jr(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new he}function he(){this.i=null,this.g="",this.h=!1}var So={},Zs={};function Pn(c,p,_){c.L=1,c.v=os(ln(p)),c.m=_,c.P=!0,Ti(c,null)}function Ti(c,p){c.F=Date.now(),is(c),c.A=ln(c.v);var _=c.A,S=c.R;Array.isArray(S)||(S=[String(S)]),Co(_.i,"t",S),c.C=0,_=c.j.J,c.h=new he,c.g=bu(c.j,_?p:null,!c.m),0<c.O&&(c.M=new Lh(R(c.Y,c,c.g),c.O)),p=c.U,_=c.g,S=c.ca;var L="readystatechange";Array.isArray(L)||(L&&(Wr[0]=L.toString()),L=Wr);for(var j=0;j<L.length;j++){var rt=ru(_,L[j],S||p.handleEvent,!1,p.h||p);if(!rt)break;p.g[rt.key]=rt}p=c.H?b(c.H):{},c.m?(c.u||(c.u="POST"),p["Content-Type"]="application/x-www-form-urlencoded",c.g.ea(c.A,c.u,c.m,p)):(c.u="GET",c.g.ea(c.A,c.u,null,p)),ir(),To(c.i,c.u,c.A,c.l,c.R,c.m)}Je.prototype.ca=function(c){c=c.target;const p=this.M;p&&Sn(c)==3?p.j():this.Y(c)},Je.prototype.Y=function(c){try{if(c==this.g)t:{const Ae=Sn(this.g);var p=this.g.Ba();const Di=this.g.Z();if(!(3>Ae)&&(Ae!=3||this.g&&(this.h.h||this.g.oa()||gu(this.g)))){this.J||Ae!=4||p==7||(p==8||0>=Di?ir(3):ir(2)),ar(this);var _=this.g.Z();this.X=_;e:if(uu(this)){var S=gu(this.g);c="";var L=S.length,j=Sn(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Le(this),Xn(this);var rt="";break e}this.h.i=new m.TextDecoder}for(p=0;p<L;p++)this.h.h=!0,c+=this.h.i.decode(S[p],{stream:!(j&&p==L-1)});S.length=0,this.h.g+=c,this.C=0,rt=this.h.g}else rt=this.g.oa();if(this.o=_==200,Uh(this.i,this.u,this.A,this.l,this.R,Ae,_),this.o){if(this.T&&!this.K){e:{if(this.g){var Pt,Se=this.g;if((Pt=Se.g?Se.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!$(Pt)){var xt=Pt;break e}}xt=null}if(_=xt)rr(this.i,this.l,_,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,rs(this,_);else{this.o=!1,this.s=3,ee(12),Le(this),Xn(this);break t}}if(this.P){_=!0;let Ue;for(;!this.J&&this.C<rt.length;)if(Ue=cu(this,rt),Ue==Zs){Ae==4&&(this.s=4,ee(14),_=!1),rr(this.i,this.l,null,"[Incomplete Response]");break}else if(Ue==So){this.s=4,ee(15),rr(this.i,this.l,rt,"[Invalid Chunk]"),_=!1;break}else rr(this.i,this.l,Ue,null),rs(this,Ue);if(uu(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Ae!=4||rt.length!=0||this.h.h||(this.s=1,ee(16),_=!1),this.o=this.o&&_,!_)rr(this.i,this.l,rt,"[Invalid Chunked Response]"),Le(this),Xn(this);else if(0<rt.length&&!this.W){this.W=!0;var Ne=this.j;Ne.g==this&&Ne.ba&&!Ne.M&&(Ne.j.info("Great, no buffering proxy detected. Bytes received: "+rt.length),ps(Ne),Ne.M=!0,ee(11))}}else rr(this.i,this.l,rt,null),rs(this,rt);Ae==4&&Le(this),this.o&&!this.J&&(Ae==4?Tu(this.j,this):(this.o=!1,is(this)))}else jh(this.g),_==400&&0<rt.indexOf("Unknown SID")?(this.s=3,ee(12)):(this.s=0,ee(13)),Le(this),Xn(this)}}}catch{}finally{}};function uu(c){return c.g?c.u=="GET"&&c.L!=2&&c.j.Ca:!1}function cu(c,p){var _=c.C,S=p.indexOf(`
`,_);return S==-1?Zs:(_=Number(p.substring(_,S)),isNaN(_)?So:(S+=1,S+_>p.length?Zs:(p=p.slice(S,S+_),c.C=S+_,p)))}Je.prototype.cancel=function(){this.J=!0,Le(this)};function is(c){c.S=Date.now()+c.I,hu(c,c.I)}function hu(c,p){if(c.B!=null)throw Error("WatchDog timer not null");c.B=pe(R(c.ba,c),p)}function ar(c){c.B&&(m.clearTimeout(c.B),c.B=null)}Je.prototype.ba=function(){this.B=null;const c=Date.now();0<=c-this.S?(lu(this.i,this.A),this.L!=2&&(ir(),ee(17)),Le(this),this.s=2,Xn(this)):hu(this,this.S-c)};function Xn(c){c.j.G==0||c.J||Tu(c.j,c)}function Le(c){ar(c);var p=c.M;p&&typeof p.ma=="function"&&p.ma(),c.M=null,ts(c.U),c.g&&(p=c.g,c.g=null,p.abort(),p.ma())}function rs(c,p){try{var _=c.j;if(_.G!=0&&(_.g==c||Ao(_.h,c))){if(!c.K&&Ao(_.h,c)&&_.G==3){try{var S=_.Da.g.parse(p)}catch{S=null}if(Array.isArray(S)&&S.length==3){var L=S;if(L[0]==0){t:if(!_.u){if(_.g)if(_.g.F+3e3<c.F)ua(_),oa(_);else break t;Vo(_),ee(18)}}else _.za=L[1],0<_.za-_.T&&37500>L[2]&&_.F&&_.v==0&&!_.C&&(_.C=pe(R(_.Za,_),6e3));if(1>=Ws(_.h)&&_.ca){try{_.ca()}catch{}_.ca=void 0}}else Ci(_,11)}else if((c.K||_.g==c)&&ua(_),!$(p))for(L=_.Da.g.parse(p),p=0;p<L.length;p++){let xt=L[p];if(_.T=xt[0],xt=xt[1],_.G==2)if(xt[0]=="c"){_.K=xt[1],_.ia=xt[2];const Ne=xt[3];Ne!=null&&(_.la=Ne,_.j.info("VER="+_.la));const Ae=xt[4];Ae!=null&&(_.Aa=Ae,_.j.info("SVER="+_.Aa));const Di=xt[5];Di!=null&&typeof Di=="number"&&0<Di&&(S=1.5*Di,_.L=S,_.j.info("backChannelRequestTimeoutMs_="+S)),S=_;const Ue=c.g;if(Ue){const ni=Ue.g?Ue.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(ni){var j=S.h;j.g||ni.indexOf("spdy")==-1&&ni.indexOf("quic")==-1&&ni.indexOf("h2")==-1||(j.j=j.l,j.g=new Set,j.h&&(ta(j,j.h),j.h=null))}if(S.D){const xo=Ue.g?Ue.g.getResponseHeader("X-HTTP-Session-Id"):null;xo&&(S.ya=xo,Qt(S.I,S.D,xo))}}_.G=3,_.l&&_.l.ua(),_.ba&&(_.R=Date.now()-c.F,_.j.info("Handshake RTT: "+_.R+"ms")),S=_;var rt=c;if(S.qa=Au(S,S.J?S.ia:null,S.W),rt.K){We(S.h,rt);var Pt=rt,Se=S.L;Se&&(Pt.I=Se),Pt.B&&(ar(Pt),is(Pt)),S.g=rt}else vu(S);0<_.i.length&&la(_)}else xt[0]!="stop"&&xt[0]!="close"||Ci(_,7);else _.G==3&&(xt[0]=="stop"||xt[0]=="close"?xt[0]=="stop"?Ci(_,7):No(_):xt[0]!="noop"&&_.l&&_.l.ta(xt),_.v=0)}}ir(4)}catch{}}var fu=class{constructor(c,p){this.g=c,this.map=p}};function Si(c){this.l=c||10,m.PerformanceNavigationTiming?(c=m.performance.getEntriesByType("navigation"),c=0<c.length&&(c[0].nextHopProtocol=="hq"||c[0].nextHopProtocol=="h2")):c=!!(m.chrome&&m.chrome.loadTimes&&m.chrome.loadTimes()&&m.chrome.loadTimes().wasFetchedViaSpdy),this.j=c?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Js(c){return c.h?!0:c.g?c.g.size>=c.j:!1}function Ws(c){return c.h?1:c.g?c.g.size:0}function Ao(c,p){return c.h?c.h==p:c.g?c.g.has(p):!1}function ta(c,p){c.g?c.g.add(p):c.h=p}function We(c,p){c.h&&c.h==p?c.h=null:c.g&&c.g.has(p)&&c.g.delete(p)}Si.prototype.cancel=function(){if(this.i=bo(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const c of this.g.values())c.cancel();this.g.clear()}};function bo(c){if(c.h!=null)return c.i.concat(c.h.D);if(c.g!=null&&c.g.size!==0){let p=c.i;for(const _ of c.g.values())p=p.concat(_.D);return p}return G(c.i)}function zh(c){if(c.V&&typeof c.V=="function")return c.V();if(typeof Map<"u"&&c instanceof Map||typeof Set<"u"&&c instanceof Set)return Array.from(c.values());if(typeof c=="string")return c.split("");if(y(c)){for(var p=[],_=c.length,S=0;S<_;S++)p.push(c[S]);return p}p=[],_=0;for(S in c)p[_++]=c[S];return p}function ea(c){if(c.na&&typeof c.na=="function")return c.na();if(!c.V||typeof c.V!="function"){if(typeof Map<"u"&&c instanceof Map)return Array.from(c.keys());if(!(typeof Set<"u"&&c instanceof Set)){if(y(c)||typeof c=="string"){var p=[];c=c.length;for(var _=0;_<c;_++)p.push(_);return p}p=[],_=0;for(const S in c)p[_++]=S;return p}}}function Ro(c,p){if(c.forEach&&typeof c.forEach=="function")c.forEach(p,void 0);else if(y(c)||typeof c=="string")Array.prototype.forEach.call(c,p,void 0);else for(var _=ea(c),S=zh(c),L=S.length,j=0;j<L;j++)p.call(void 0,S[j],_&&_[j],c)}var ss=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Bh(c,p){if(c){c=c.split("&");for(var _=0;_<c.length;_++){var S=c[_].indexOf("="),L=null;if(0<=S){var j=c[_].substring(0,S);L=c[_].substring(S+1)}else j=c[_];p(j,L?decodeURIComponent(L.replace(/\+/g," ")):"")}}}function ge(c){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,c instanceof ge){this.h=c.h,as(this,c.j),this.o=c.o,this.g=c.g,or(this,c.s),this.l=c.l;var p=c.i,_=new bi;_.i=p.i,p.g&&(_.g=new Map(p.g),_.h=p.h),Ai(this,_),this.m=c.m}else c&&(p=String(c).match(ss))?(this.h=!1,as(this,p[1]||"",!0),this.o=vn(p[2]||""),this.g=vn(p[3]||"",!0),or(this,p[4]),this.l=vn(p[5]||"",!0),Ai(this,p[6]||"",!0),this.m=vn(p[7]||"")):(this.h=!1,this.i=new bi(null,this.h))}ge.prototype.toString=function(){var c=[],p=this.j;p&&c.push(ls(p,wo,!0),":");var _=this.g;return(_||p=="file")&&(c.push("//"),(p=this.o)&&c.push(ls(p,wo,!0),"@"),c.push(encodeURIComponent(String(_)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),_=this.s,_!=null&&c.push(":",String(_))),(_=this.l)&&(this.g&&_.charAt(0)!="/"&&c.push("/"),c.push(ls(_,_.charAt(0)=="/"?Hh:Io,!0))),(_=this.i.toString())&&c.push("?",_),(_=this.m)&&c.push("#",ls(_,na)),c.join("")};function ln(c){return new ge(c)}function as(c,p,_){c.j=_?vn(p,!0):p,c.j&&(c.j=c.j.replace(/:$/,""))}function or(c,p){if(p){if(p=Number(p),isNaN(p)||0>p)throw Error("Bad port number "+p);c.s=p}else c.s=null}function Ai(c,p,_){p instanceof bi?(c.i=p,mu(c.i,c.h)):(_||(p=ls(p,qh)),c.i=new bi(p,c.h))}function Qt(c,p,_){c.i.set(p,_)}function os(c){return Qt(c,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),c}function vn(c,p){return c?p?decodeURI(c.replace(/%25/g,"%2525")):decodeURIComponent(c):""}function ls(c,p,_){return typeof c=="string"?(c=encodeURI(c).replace(p,du),_&&(c=c.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),c):null}function du(c){return c=c.charCodeAt(0),"%"+(c>>4&15).toString(16)+(c&15).toString(16)}var wo=/[#\/\?@]/g,Io=/[#\?:]/g,Hh=/[#\?]/g,qh=/[#\?@]/g,na=/#/g;function bi(c,p){this.h=this.g=null,this.i=c||null,this.j=!!p}function En(c){c.g||(c.g=new Map,c.h=0,c.i&&Bh(c.i,function(p,_){c.add(decodeURIComponent(p.replace(/\+/g," ")),_)}))}r=bi.prototype,r.add=function(c,p){En(this),this.i=null,c=$n(this,c);var _=this.g.get(c);return _||this.g.set(c,_=[]),_.push(p),this.h+=1,this};function Ri(c,p){En(c),p=$n(c,p),c.g.has(p)&&(c.i=null,c.h-=c.g.get(p).length,c.g.delete(p))}function wi(c,p){return En(c),p=$n(c,p),c.g.has(p)}r.forEach=function(c,p){En(this),this.g.forEach(function(_,S){_.forEach(function(L){c.call(p,L,S,this)},this)},this)},r.na=function(){En(this);const c=Array.from(this.g.values()),p=Array.from(this.g.keys()),_=[];for(let S=0;S<p.length;S++){const L=c[S];for(let j=0;j<L.length;j++)_.push(p[S])}return _},r.V=function(c){En(this);let p=[];if(typeof c=="string")wi(this,c)&&(p=p.concat(this.g.get($n(this,c))));else{c=Array.from(this.g.values());for(let _=0;_<c.length;_++)p=p.concat(c[_])}return p},r.set=function(c,p){return En(this),this.i=null,c=$n(this,c),wi(this,c)&&(this.h-=this.g.get(c).length),this.g.set(c,[p]),this.h+=1,this},r.get=function(c,p){return c?(c=this.V(c),0<c.length?String(c[0]):p):p};function Co(c,p,_){Ri(c,p),0<_.length&&(c.i=null,c.g.set($n(c,p),G(_)),c.h+=_.length)}r.toString=function(){if(this.i)return this.i;if(!this.g)return"";const c=[],p=Array.from(this.g.keys());for(var _=0;_<p.length;_++){var S=p[_];const j=encodeURIComponent(String(S)),rt=this.V(S);for(S=0;S<rt.length;S++){var L=j;rt[S]!==""&&(L+="="+encodeURIComponent(String(rt[S]))),c.push(L)}}return this.i=c.join("&")};function $n(c,p){return p=String(p),c.j&&(p=p.toLowerCase()),p}function mu(c,p){p&&!c.j&&(En(c),c.i=null,c.g.forEach(function(_,S){var L=S.toLowerCase();S!=L&&(Ri(this,S),Co(this,L,_))},c)),c.j=p}function us(c,p){const _=new _n;if(m.Image){const S=new Image;S.onload=k(Tn,_,"TestLoadImage: loaded",!0,p,S),S.onerror=k(Tn,_,"TestLoadImage: error",!1,p,S),S.onabort=k(Tn,_,"TestLoadImage: abort",!1,p,S),S.ontimeout=k(Tn,_,"TestLoadImage: timeout",!1,p,S),m.setTimeout(function(){S.ontimeout&&S.ontimeout()},1e4),S.src=c}else p(!1)}function xn(c,p){const _=new _n,S=new AbortController,L=setTimeout(()=>{S.abort(),Tn(_,"TestPingServer: timeout",!1,p)},1e4);fetch(c,{signal:S.signal}).then(j=>{clearTimeout(L),j.ok?Tn(_,"TestPingServer: ok",!0,p):Tn(_,"TestPingServer: server error",!1,p)}).catch(()=>{clearTimeout(L),Tn(_,"TestPingServer: error",!1,p)})}function Tn(c,p,_,S,L){try{L&&(L.onload=null,L.onerror=null,L.onabort=null,L.ontimeout=null),S(_)}catch{}}function cs(){this.g=new es}function Zn(c,p,_){const S=_||"";try{Ro(c,function(L,j){let rt=L;g(L)&&(rt=Vn(L)),p.push(S+j+"="+encodeURIComponent(rt))})}catch(L){throw p.push(S+"type="+encodeURIComponent("_badmap")),L}}function lr(c){this.l=c.Ub||null,this.j=c.eb||!1}F(lr,go),lr.prototype.g=function(){return new Ii(this.l,this.j)},lr.prototype.i=(function(c){return function(){return c}})({});function Ii(c,p){le.call(this),this.D=c,this.o=p,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}F(Ii,le),r=Ii.prototype,r.open=function(c,p){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=c,this.A=p,this.readyState=1,Wn(this)},r.send=function(c){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const p={headers:this.u,method:this.B,credentials:this.m,cache:void 0};c&&(p.body=c),(this.D||m).fetch(new Request(this.A,p)).then(this.Sa.bind(this),this.ga.bind(this))},r.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Jn(this)),this.readyState=0},r.Sa=function(c){if(this.g&&(this.l=c,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=c.headers,this.readyState=2,Wn(this)),this.g&&(this.readyState=3,Wn(this),this.g)))if(this.responseType==="arraybuffer")c.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof m.ReadableStream<"u"&&"body"in c){if(this.j=c.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Do(this)}else c.text().then(this.Ra.bind(this),this.ga.bind(this))};function Do(c){c.j.read().then(c.Pa.bind(c)).catch(c.ga.bind(c))}r.Pa=function(c){if(this.g){if(this.o&&c.value)this.response.push(c.value);else if(!this.o){var p=c.value?c.value:new Uint8Array(0);(p=this.v.decode(p,{stream:!c.done}))&&(this.response=this.responseText+=p)}c.done?Jn(this):Wn(this),this.readyState==3&&Do(this)}},r.Ra=function(c){this.g&&(this.response=this.responseText=c,Jn(this))},r.Qa=function(c){this.g&&(this.response=c,Jn(this))},r.ga=function(){this.g&&Jn(this)};function Jn(c){c.readyState=4,c.l=null,c.j=null,c.v=null,Wn(c)}r.setRequestHeader=function(c,p){this.u.append(c,p)},r.getResponseHeader=function(c){return this.h&&this.h.get(c.toLowerCase())||""},r.getAllResponseHeaders=function(){if(!this.h)return"";const c=[],p=this.h.entries();for(var _=p.next();!_.done;)_=_.value,c.push(_[0]+": "+_[1]),_=p.next();return c.join(`\r
`)};function Wn(c){c.onreadystatechange&&c.onreadystatechange.call(c)}Object.defineProperty(Ii.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(c){this.m=c?"include":"same-origin"}});function Oo(c){let p="";return Vt(c,function(_,S){p+=S,p+=":",p+=_,p+=`\r
`}),p}function Oe(c,p,_){t:{for(S in _){var S=!1;break t}S=!0}S||(_=Oo(_),typeof c=="string"?_!=null&&encodeURIComponent(String(_)):Qt(c,p,_))}function Ht(c){le.call(this),this.headers=new Map,this.o=c||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}F(Ht,le);var ia=/^https?$/i,hs=["POST","PUT"];r=Ht.prototype,r.Ha=function(c){this.J=c},r.ea=function(c,p,_,S){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+c);p=p?p.toUpperCase():"GET",this.D=c,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Kn.g(),this.v=this.o?yo(this.o):yo(Kn),this.g.onreadystatechange=R(this.Ea,this);try{this.B=!0,this.g.open(p,String(c),!0),this.B=!1}catch(j){pu(this,j);return}if(c=_||"",_=new Map(this.headers),S)if(Object.getPrototypeOf(S)===Object.prototype)for(var L in S)_.set(L,S[L]);else if(typeof S.keys=="function"&&typeof S.get=="function")for(const j of S.keys())_.set(j,S.get(j));else throw Error("Unknown input type for opt_headers: "+String(S));S=Array.from(_.keys()).find(j=>j.toLowerCase()=="content-type"),L=m.FormData&&c instanceof m.FormData,!(0<=Array.prototype.indexOf.call(hs,p,void 0))||S||L||_.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[j,rt]of _)this.g.setRequestHeader(j,rt);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{fs(this),this.u=!0,this.g.send(c),this.u=!1}catch(j){pu(this,j)}};function pu(c,p){c.h=!1,c.g&&(c.j=!0,c.g.abort(),c.j=!1),c.l=p,c.m=5,ra(c),ti(c)}function ra(c){c.A||(c.A=!0,jt(c,"complete"),jt(c,"error"))}r.abort=function(c){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=c||7,jt(this,"complete"),jt(this,"abort"),ti(this))},r.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),ti(this,!0)),Ht.aa.N.call(this)},r.Ea=function(){this.s||(this.B||this.u||this.j?sa(this):this.bb())},r.bb=function(){sa(this)};function sa(c){if(c.h&&typeof f<"u"&&(!c.v[1]||Sn(c)!=4||c.Z()!=2)){if(c.u&&Sn(c)==4)Ge(c.Ea,0,c);else if(jt(c,"readystatechange"),Sn(c)==4){c.h=!1;try{const rt=c.Z();t:switch(rt){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var p=!0;break t;default:p=!1}var _;if(!(_=p)){var S;if(S=rt===0){var L=String(c.D).match(ss)[1]||null;!L&&m.self&&m.self.location&&(L=m.self.location.protocol.slice(0,-1)),S=!ia.test(L?L.toLowerCase():"")}_=S}if(_)jt(c,"complete"),jt(c,"success");else{c.m=6;try{var j=2<Sn(c)?c.g.statusText:""}catch{j=""}c.l=j+" ["+c.Z()+"]",ra(c)}}finally{ti(c)}}}}function ti(c,p){if(c.g){fs(c);const _=c.g,S=c.v[0]?()=>{}:null;c.g=null,c.v=null,p||jt(c,"ready");try{_.onreadystatechange=S}catch{}}}function fs(c){c.I&&(m.clearTimeout(c.I),c.I=null)}r.isActive=function(){return!!this.g};function Sn(c){return c.g?c.g.readyState:0}r.Z=function(){try{return 2<Sn(this)?this.g.status:-1}catch{return-1}},r.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},r.Oa=function(c){if(this.g){var p=this.g.responseText;return c&&p.indexOf(c)==0&&(p=p.substring(c.length)),Xs(p)}};function gu(c){try{if(!c.g)return null;if("response"in c.g)return c.g.response;switch(c.H){case"":case"text":return c.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in c.g)return c.g.mozResponseArrayBuffer}return null}catch{return null}}function jh(c){const p={};c=(c.g&&2<=Sn(c)&&c.g.getAllResponseHeaders()||"").split(`\r
`);for(let S=0;S<c.length;S++){if($(c[S]))continue;var _=V(c[S]);const L=_[0];if(_=_[1],typeof _!="string")continue;_=_.trim();const j=p[L]||[];p[L]=j,j.push(_)}M(p,function(S){return S.join(", ")})}r.Ba=function(){return this.m},r.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function ds(c,p,_){return _&&_.internalChannelParams&&_.internalChannelParams[c]||p}function aa(c){this.Aa=0,this.i=[],this.j=new _n,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=ds("failFast",!1,c),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=ds("baseRetryDelayMs",5e3,c),this.cb=ds("retryDelaySeedMs",1e4,c),this.Wa=ds("forwardChannelMaxRetries",2,c),this.wa=ds("forwardChannelRequestTimeoutMs",2e4,c),this.pa=c&&c.xmlHttpFactory||void 0,this.Xa=c&&c.Tb||void 0,this.Ca=c&&c.useFetchStreams||!1,this.L=void 0,this.J=c&&c.supportsCrossDomainXhr||!1,this.K="",this.h=new Si(c&&c.concurrentRequestLimit),this.Da=new cs,this.P=c&&c.fastHandshake||!1,this.O=c&&c.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=c&&c.Rb||!1,c&&c.xa&&this.j.xa(),c&&c.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&c&&c.detectBufferingProxy||!1,this.ja=void 0,c&&c.longPollingTimeout&&0<c.longPollingTimeout&&(this.ja=c.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}r=aa.prototype,r.la=8,r.G=1,r.connect=function(c,p,_,S){ee(0),this.W=c,this.H=p||{},_&&S!==void 0&&(this.H.OSID=_,this.H.OAID=S),this.F=this.X,this.I=Au(this,null,this.W),la(this)};function No(c){if(yu(c),c.G==3){var p=c.U++,_=ln(c.I);if(Qt(_,"SID",c.K),Qt(_,"RID",p),Qt(_,"TYPE","terminate"),ms(c,_),p=new Je(c,c.j,p),p.L=2,p.v=os(ln(_)),_=!1,m.navigator&&m.navigator.sendBeacon)try{_=m.navigator.sendBeacon(p.v.toString(),"")}catch{}!_&&m.Image&&(new Image().src=p.v,_=!0),_||(p.g=bu(p.j,null),p.g.ea(p.v)),p.F=Date.now(),is(p)}Su(c)}function oa(c){c.g&&(ps(c),c.g.cancel(),c.g=null)}function yu(c){oa(c),c.u&&(m.clearTimeout(c.u),c.u=null),ua(c),c.h.cancel(),c.s&&(typeof c.s=="number"&&m.clearTimeout(c.s),c.s=null)}function la(c){if(!Js(c.h)&&!c.s){c.s=!0;var p=c.Ga;st||D(),ft||(st(),ft=!0),zt.add(p,c),c.B=0}}function Fh(c,p){return Ws(c.h)>=c.h.j-(c.s?1:0)?!1:c.s?(c.i=p.D.concat(c.i),!0):c.G==1||c.G==2||c.B>=(c.Va?0:c.Wa)?!1:(c.s=pe(R(c.Ga,c,p),Po(c,c.B)),c.B++,!0)}r.Ga=function(c){if(this.s)if(this.s=null,this.G==1){if(!c){this.U=Math.floor(1e5*Math.random()),c=this.U++;const L=new Je(this,this.j,c);let j=this.o;if(this.S&&(j?(j=b(j),N(j,this.S)):j=this.S),this.m!==null||this.O||(L.H=j,j=null),this.P)t:{for(var p=0,_=0;_<this.i.length;_++){e:{var S=this.i[_];if("__data__"in S.map&&(S=S.map.__data__,typeof S=="string")){S=S.length;break e}S=void 0}if(S===void 0)break;if(p+=S,4096<p){p=_;break t}if(p===4096||_===this.i.length-1){p=_+1;break t}}p=1e3}else p=1e3;p=_u(this,L,p),_=ln(this.I),Qt(_,"RID",c),Qt(_,"CVER",22),this.D&&Qt(_,"X-HTTP-Session-Id",this.D),ms(this,_),j&&(this.O?p="headers="+encodeURIComponent(String(Oo(j)))+"&"+p:this.m&&Oe(_,this.m,j)),ta(this.h,L),this.Ua&&Qt(_,"TYPE","init"),this.P?(Qt(_,"$req",p),Qt(_,"SID","null"),L.T=!0,Pn(L,_,null)):Pn(L,_,p),this.G=2}}else this.G==3&&(c?Mo(this,c):this.i.length==0||Js(this.h)||Mo(this))};function Mo(c,p){var _;p?_=p.l:_=c.U++;const S=ln(c.I);Qt(S,"SID",c.K),Qt(S,"RID",_),Qt(S,"AID",c.T),ms(c,S),c.m&&c.o&&Oe(S,c.m,c.o),_=new Je(c,c.j,_,c.B+1),c.m===null&&(_.H=c.o),p&&(c.i=p.D.concat(c.i)),p=_u(c,_,1e3),_.I=Math.round(.5*c.wa)+Math.round(.5*c.wa*Math.random()),ta(c.h,_),Pn(_,S,p)}function ms(c,p){c.H&&Vt(c.H,function(_,S){Qt(p,S,_)}),c.l&&Ro({},function(_,S){Qt(p,S,_)})}function _u(c,p,_){_=Math.min(c.i.length,_);var S=c.l?R(c.l.Na,c.l,c):null;t:{var L=c.i;let j=-1;for(;;){const rt=["count="+_];j==-1?0<_?(j=L[0].g,rt.push("ofs="+j)):j=0:rt.push("ofs="+j);let Pt=!0;for(let Se=0;Se<_;Se++){let xt=L[Se].g;const Ne=L[Se].map;if(xt-=j,0>xt)j=Math.max(0,L[Se].g-100),Pt=!1;else try{Zn(Ne,rt,"req"+xt+"_")}catch{S&&S(Ne)}}if(Pt){S=rt.join("&");break t}}}return c=c.i.splice(0,_),p.D=c,S}function vu(c){if(!c.g&&!c.u){c.Y=1;var p=c.Fa;st||D(),ft||(st(),ft=!0),zt.add(p,c),c.v=0}}function Vo(c){return c.g||c.u||3<=c.v?!1:(c.Y++,c.u=pe(R(c.Fa,c),Po(c,c.v)),c.v++,!0)}r.Fa=function(){if(this.u=null,Eu(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var c=2*this.R;this.j.info("BP detection timer enabled: "+c),this.A=pe(R(this.ab,this),c)}},r.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,ee(10),oa(this),Eu(this))};function ps(c){c.A!=null&&(m.clearTimeout(c.A),c.A=null)}function Eu(c){c.g=new Je(c,c.j,"rpc",c.Y),c.m===null&&(c.g.H=c.o),c.g.O=0;var p=ln(c.qa);Qt(p,"RID","rpc"),Qt(p,"SID",c.K),Qt(p,"AID",c.T),Qt(p,"CI",c.F?"0":"1"),!c.F&&c.ja&&Qt(p,"TO",c.ja),Qt(p,"TYPE","xmlhttp"),ms(c,p),c.m&&c.o&&Oe(p,c.m,c.o),c.L&&(c.g.I=c.L);var _=c.g;c=c.ia,_.L=1,_.v=os(ln(p)),_.m=null,_.P=!0,Ti(_,c)}r.Za=function(){this.C!=null&&(this.C=null,oa(this),Vo(this),ee(19))};function ua(c){c.C!=null&&(m.clearTimeout(c.C),c.C=null)}function Tu(c,p){var _=null;if(c.g==p){ua(c),ps(c),c.g=null;var S=2}else if(Ao(c.h,p))_=p.D,We(c.h,p),S=1;else return;if(c.G!=0){if(p.o)if(S==1){_=p.m?p.m.length:0,p=Date.now()-p.F;var L=c.B;S=nr(),jt(S,new Te(S,_)),la(c)}else vu(c);else if(L=p.s,L==3||L==0&&0<p.X||!(S==1&&Fh(c,p)||S==2&&Vo(c)))switch(_&&0<_.length&&(p=c.h,p.i=p.i.concat(_)),L){case 1:Ci(c,5);break;case 4:Ci(c,10);break;case 3:Ci(c,6);break;default:Ci(c,2)}}}function Po(c,p){let _=c.Ta+Math.floor(Math.random()*c.cb);return c.isActive()||(_*=2),_*p}function Ci(c,p){if(c.j.info("Error code "+p),p==2){var _=R(c.fb,c),S=c.Xa;const L=!S;S=new ge(S||"//www.google.com/images/cleardot.gif"),m.location&&m.location.protocol=="http"||as(S,"https"),os(S),L?us(S.toString(),_):xn(S.toString(),_)}else ee(2);c.G=0,c.l&&c.l.sa(p),Su(c),yu(c)}r.fb=function(c){c?(this.j.info("Successfully pinged google.com"),ee(2)):(this.j.info("Failed to ping google.com"),ee(1))};function Su(c){if(c.G=0,c.ka=[],c.l){const p=bo(c.h);(p.length!=0||c.i.length!=0)&&(q(c.ka,p),q(c.ka,c.i),c.h.i.length=0,G(c.i),c.i.length=0),c.l.ra()}}function Au(c,p,_){var S=_ instanceof ge?ln(_):new ge(_);if(S.g!="")p&&(S.g=p+"."+S.g),or(S,S.s);else{var L=m.location;S=L.protocol,p=p?p+"."+L.hostname:L.hostname,L=+L.port;var j=new ge(null);S&&as(j,S),p&&(j.g=p),L&&or(j,L),_&&(j.l=_),S=j}return _=c.D,p=c.ya,_&&p&&Qt(S,_,p),Qt(S,"VER",c.la),ms(c,S),S}function bu(c,p,_){if(p&&!c.J)throw Error("Can't create secondary domain capable XhrIo object.");return p=c.Ca&&!c.pa?new Ht(new lr({eb:_})):new Ht(c.pa),p.Ha(c.J),p}r.isActive=function(){return!!this.l&&this.l.isActive(this)};function Ru(){}r=Ru.prototype,r.ua=function(){},r.ta=function(){},r.sa=function(){},r.ra=function(){},r.isActive=function(){return!0},r.Na=function(){};function ca(){}ca.prototype.g=function(c,p){return new tn(c,p)};function tn(c,p){le.call(this),this.g=new aa(p),this.l=c,this.h=p&&p.messageUrlParams||null,c=p&&p.messageHeaders||null,p&&p.clientProtocolHeaderRequired&&(c?c["X-Client-Protocol"]="webchannel":c={"X-Client-Protocol":"webchannel"}),this.g.o=c,c=p&&p.initMessageHeaders||null,p&&p.messageContentType&&(c?c["X-WebChannel-Content-Type"]=p.messageContentType:c={"X-WebChannel-Content-Type":p.messageContentType}),p&&p.va&&(c?c["X-WebChannel-Client-Profile"]=p.va:c={"X-WebChannel-Client-Profile":p.va}),this.g.S=c,(c=p&&p.Sb)&&!$(c)&&(this.g.m=c),this.v=p&&p.supportsCrossDomainXhr||!1,this.u=p&&p.sendRawJson||!1,(p=p&&p.httpSessionIdParam)&&!$(p)&&(this.g.D=p,c=this.h,c!==null&&p in c&&(c=this.h,p in c&&delete c[p])),this.j=new ei(this)}F(tn,le),tn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},tn.prototype.close=function(){No(this.g)},tn.prototype.o=function(c){var p=this.g;if(typeof c=="string"){var _={};_.__data__=c,c=_}else this.u&&(_={},_.__data__=Vn(c),c=_);p.i.push(new fu(p.Ya++,c)),p.G==3&&la(p)},tn.prototype.N=function(){this.g.l=null,delete this.j,No(this.g),delete this.g,tn.aa.N.call(this)};function wu(c){vi.call(this),c.__headers__&&(this.headers=c.__headers__,this.statusCode=c.__status__,delete c.__headers__,delete c.__status__);var p=c.__sm__;if(p){t:{for(const _ in p){c=_;break t}c=void 0}(this.i=c)&&(c=this.i,p=p!==null&&c in p?p[c]:void 0),this.data=p}else this.data=c}F(wu,vi);function Iu(){vo.call(this),this.status=1}F(Iu,vo);function ei(c){this.g=c}F(ei,Ru),ei.prototype.ua=function(){jt(this.g,"a")},ei.prototype.ta=function(c){jt(this.g,new wu(c))},ei.prototype.sa=function(c){jt(this.g,new Iu)},ei.prototype.ra=function(){jt(this.g,"b")},ca.prototype.createWebChannel=ca.prototype.g,tn.prototype.send=tn.prototype.o,tn.prototype.open=tn.prototype.m,tn.prototype.close=tn.prototype.close,zT=function(){return new ca},UT=function(){return nr()},LT=Qn,fm={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},sr.NO_ERROR=0,sr.TIMEOUT=8,sr.HTTP_ERROR=6,Hc=sr,Ei.COMPLETE="complete",kT=Ei,_o.EventType=_i,_i.OPEN="a",_i.CLOSE="b",_i.ERROR="c",_i.MESSAGE="d",le.prototype.listen=le.prototype.K,Rl=_o,Ht.prototype.listenOnce=Ht.prototype.L,Ht.prototype.getLastError=Ht.prototype.Ka,Ht.prototype.getLastErrorCode=Ht.prototype.Ba,Ht.prototype.getStatus=Ht.prototype.Z,Ht.prototype.getResponseJson=Ht.prototype.Oa,Ht.prototype.getResponseText=Ht.prototype.oa,Ht.prototype.send=Ht.prototype.ea,Ht.prototype.setWithCredentials=Ht.prototype.Ha,xT=Ht}).apply(typeof Oc<"u"?Oc:typeof self<"u"?self:typeof window<"u"?window:{});const Nv="@firebase/firestore",Mv="4.9.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xe{constructor(t){this.uid=t}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}}Xe.UNAUTHENTICATED=new Xe(null),Xe.GOOGLE_CREDENTIALS=new Xe("google-credentials-uid"),Xe.FIRST_PARTY=new Xe("first-party-uid"),Xe.MOCK_USER=new Xe("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let lo="12.0.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bs=new Lm("@firebase/firestore");function za(){return Bs.logLevel}function ot(r,...t){if(Bs.logLevel<=Ot.DEBUG){const n=t.map($m);Bs.debug(`Firestore (${lo}): ${r}`,...n)}}function Ji(r,...t){if(Bs.logLevel<=Ot.ERROR){const n=t.map($m);Bs.error(`Firestore (${lo}): ${r}`,...n)}}function $a(r,...t){if(Bs.logLevel<=Ot.WARN){const n=t.map($m);Bs.warn(`Firestore (${lo}): ${r}`,...n)}}function $m(r){if(typeof r=="string")return r;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return(function(n){return JSON.stringify(n)})(r)}catch{return r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yt(r,t,n){let s="Unexpected state";typeof t=="string"?s=t:n=t,BT(r,s,n)}function BT(r,t,n){let s=`FIRESTORE (${lo}) INTERNAL ASSERTION FAILED: ${t} (ID: ${r.toString(16)})`;if(n!==void 0)try{s+=" CONTEXT: "+JSON.stringify(n)}catch{s+=" CONTEXT: "+n}throw Ji(s),new Error(s)}function qt(r,t,n,s){let o="Unexpected state";typeof n=="string"?o=n:s=n,r||BT(t,o,s)}function At(r,t){return r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tt={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ut extends tr{constructor(t,n){super(t,n),this.code=t,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zr{constructor(){this.promise=new Promise(((t,n)=>{this.resolve=t,this.reject=n}))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HT{constructor(t,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${t}`)}}class sC{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,n){t.enqueueRetryable((()=>n(Xe.UNAUTHENTICATED)))}shutdown(){}}class aC{constructor(t){this.token=t,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(t,n){this.changeListener=n,t.enqueueRetryable((()=>n(this.token.user)))}shutdown(){this.changeListener=null}}class oC{constructor(t){this.t=t,this.currentUser=Xe.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,n){qt(this.o===void 0,42304);let s=this.i;const o=y=>this.i!==s?(s=this.i,n(y)):Promise.resolve();let u=new zr;this.o=()=>{this.i++,this.currentUser=this.u(),u.resolve(),u=new zr,t.enqueueRetryable((()=>o(this.currentUser)))};const f=()=>{const y=u;t.enqueueRetryable((async()=>{await y.promise,await o(this.currentUser)}))},m=y=>{ot("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=y,this.o&&(this.auth.addAuthTokenListener(this.o),f())};this.t.onInit((y=>m(y))),setTimeout((()=>{if(!this.auth){const y=this.t.getImmediate({optional:!0});y?m(y):(ot("FirebaseAuthCredentialsProvider","Auth not yet detected"),u.resolve(),u=new zr)}}),0),f()}getToken(){const t=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((s=>this.i!==t?(ot("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?(qt(typeof s.accessToken=="string",31837,{l:s}),new HT(s.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const t=this.auth&&this.auth.getUid();return qt(t===null||typeof t=="string",2055,{h:t}),new Xe(t)}}class lC{constructor(t,n,s){this.P=t,this.T=n,this.I=s,this.type="FirstParty",this.user=Xe.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const t=this.R();return t&&this.A.set("Authorization",t),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class uC{constructor(t,n,s){this.P=t,this.T=n,this.I=s}getToken(){return Promise.resolve(new lC(this.P,this.T,this.I))}start(t,n){t.enqueueRetryable((()=>n(Xe.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class Vv{constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class cC{constructor(t,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,zn(t)&&t.settings.appCheckToken&&(this.p=t.settings.appCheckToken)}start(t,n){qt(this.o===void 0,3512);const s=u=>{u.error!=null&&ot("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${u.error.message}`);const f=u.token!==this.m;return this.m=u.token,ot("FirebaseAppCheckTokenProvider",`Received ${f?"new":"existing"} token.`),f?n(u.token):Promise.resolve()};this.o=u=>{t.enqueueRetryable((()=>s(u)))};const o=u=>{ot("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=u,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((u=>o(u))),setTimeout((()=>{if(!this.appCheck){const u=this.V.getImmediate({optional:!0});u?o(u):ot("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new Vv(this.p));const t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then((n=>n?(qt(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new Vv(n.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hC(r){const t=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(r);if(t&&typeof t.getRandomValues=="function")t.getRandomValues(n);else for(let s=0;s<r;s++)n[s]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zm{static newId(){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let s="";for(;s.length<20;){const o=hC(40);for(let u=0;u<o.length;++u)s.length<20&&o[u]<n&&(s+=t.charAt(o[u]%62))}return s}}function Nt(r,t){return r<t?-1:r>t?1:0}function dm(r,t){const n=Math.min(r.length,t.length);for(let s=0;s<n;s++){const o=r.charAt(s),u=t.charAt(s);if(o!==u)return Zd(o)===Zd(u)?Nt(o,u):Zd(o)?1:-1}return Nt(r.length,t.length)}const fC=55296,dC=57343;function Zd(r){const t=r.charCodeAt(0);return t>=fC&&t<=dC}function Za(r,t,n){return r.length===t.length&&r.every(((s,o)=>n(s,t[o])))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pv="__name__";class li{constructor(t,n,s){n===void 0?n=0:n>t.length&&yt(637,{offset:n,range:t.length}),s===void 0?s=t.length-n:s>t.length-n&&yt(1746,{length:s,range:t.length-n}),this.segments=t,this.offset=n,this.len=s}get length(){return this.len}isEqual(t){return li.comparator(this,t)===0}child(t){const n=this.segments.slice(this.offset,this.limit());return t instanceof li?t.forEach((s=>{n.push(s)})):n.push(t),this.construct(n)}limit(){return this.offset+this.length}popFirst(t){return t=t===void 0?1:t,this.construct(this.segments,this.offset+t,this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return this.length===0}isPrefixOf(t){if(t.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==t.get(n))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==t.get(n))return!1;return!0}forEach(t){for(let n=this.offset,s=this.limit();n<s;n++)t(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,n){const s=Math.min(t.length,n.length);for(let o=0;o<s;o++){const u=li.compareSegments(t.get(o),n.get(o));if(u!==0)return u}return Nt(t.length,n.length)}static compareSegments(t,n){const s=li.isNumericId(t),o=li.isNumericId(n);return s&&!o?-1:!s&&o?1:s&&o?li.extractNumericId(t).compare(li.extractNumericId(n)):dm(t,n)}static isNumericId(t){return t.startsWith("__id")&&t.endsWith("__")}static extractNumericId(t){return Ur.fromString(t.substring(4,t.length-2))}}class Wt extends li{construct(t,n,s){return new Wt(t,n,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...t){const n=[];for(const s of t){if(s.indexOf("//")>=0)throw new ut(tt.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);n.push(...s.split("/").filter((o=>o.length>0)))}return new Wt(n)}static emptyPath(){return new Wt([])}}const mC=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class je extends li{construct(t,n,s){return new je(t,n,s)}static isValidIdentifier(t){return mC.test(t)}canonicalString(){return this.toArray().map((t=>(t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),je.isValidIdentifier(t)||(t="`"+t+"`"),t))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===Pv}static keyField(){return new je([Pv])}static fromServerFormat(t){const n=[];let s="",o=0;const u=()=>{if(s.length===0)throw new ut(tt.INVALID_ARGUMENT,`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(s),s=""};let f=!1;for(;o<t.length;){const m=t[o];if(m==="\\"){if(o+1===t.length)throw new ut(tt.INVALID_ARGUMENT,"Path has trailing escape character: "+t);const y=t[o+1];if(y!=="\\"&&y!=="."&&y!=="`")throw new ut(tt.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);s+=y,o+=2}else m==="`"?(f=!f,o++):m!=="."||f?(s+=m,o++):(u(),o++)}if(u(),f)throw new ut(tt.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new je(n)}static emptyPath(){return new je([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mt{constructor(t){this.path=t}static fromPath(t){return new mt(Wt.fromString(t))}static fromName(t){return new mt(Wt.fromString(t).popFirst(5))}static empty(){return new mt(Wt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(t){return t!==null&&Wt.comparator(this.path,t.path)===0}toString(){return this.path.toString()}static comparator(t,n){return Wt.comparator(t.path,n.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new mt(new Wt(t.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qT(r,t,n){if(!n)throw new ut(tt.INVALID_ARGUMENT,`Function ${r}() cannot be called with an empty ${t}.`)}function pC(r,t,n,s){if(t===!0&&s===!0)throw new ut(tt.INVALID_ARGUMENT,`${r} and ${n} cannot be used together.`)}function xv(r){if(!mt.isDocumentKey(r))throw new ut(tt.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${r} has ${r.length}.`)}function kv(r){if(mt.isDocumentKey(r))throw new ut(tt.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${r} has ${r.length}.`)}function jT(r){return typeof r=="object"&&r!==null&&(Object.getPrototypeOf(r)===Object.prototype||Object.getPrototypeOf(r)===null)}function Jm(r){if(r===void 0)return"undefined";if(r===null)return"null";if(typeof r=="string")return r.length>20&&(r=`${r.substring(0,20)}...`),JSON.stringify(r);if(typeof r=="number"||typeof r=="boolean")return""+r;if(typeof r=="object"){if(r instanceof Array)return"an array";{const t=(function(s){return s.constructor?s.constructor.name:null})(r);return t?`a custom ${t} object`:"an object"}}return typeof r=="function"?"a function":yt(12329,{type:typeof r})}function zl(r,t){if("_delegate"in r&&(r=r._delegate),!(r instanceof t)){if(t.name===r.constructor.name)throw new ut(tt.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Jm(r);throw new ut(tt.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${n}`)}}return r}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ee(r,t){const n={typeString:r};return t&&(n.value=t),n}function Wl(r,t){if(!jT(r))throw new ut(tt.INVALID_ARGUMENT,"JSON must be an object");let n;for(const s in t)if(t[s]){const o=t[s].typeString,u="value"in t[s]?{value:t[s].value}:void 0;if(!(s in r)){n=`JSON missing required field: '${s}'`;break}const f=r[s];if(o&&typeof f!==o){n=`JSON field '${s}' must be a ${o}.`;break}if(u!==void 0&&f!==u.value){n=`Expected '${s}' field to equal '${u.value}'`;break}}if(n)throw new ut(tt.INVALID_ARGUMENT,n);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Lv=-62135596800,Uv=1e6;class te{static now(){return te.fromMillis(Date.now())}static fromDate(t){return te.fromMillis(t.getTime())}static fromMillis(t){const n=Math.floor(t/1e3),s=Math.floor((t-1e3*n)*Uv);return new te(n,s)}constructor(t,n){if(this.seconds=t,this.nanoseconds=n,n<0)throw new ut(tt.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new ut(tt.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(t<Lv)throw new ut(tt.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new ut(tt.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/Uv}_compareTo(t){return this.seconds===t.seconds?Nt(this.nanoseconds,t.nanoseconds):Nt(this.seconds,t.seconds)}isEqual(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:te._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(t){if(Wl(t,te._jsonSchema))return new te(t.seconds,t.nanoseconds)}valueOf(){const t=this.seconds-Lv;return String(t).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}te._jsonSchemaVersion="firestore/timestamp/1.0",te._jsonSchema={type:Ee("string",te._jsonSchemaVersion),seconds:Ee("number"),nanoseconds:Ee("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class St{static fromTimestamp(t){return new St(t)}static min(){return new St(new te(0,0))}static max(){return new St(new te(253402300799,999999999))}constructor(t){this.timestamp=t}compareTo(t){return this.timestamp._compareTo(t.timestamp)}isEqual(t){return this.timestamp.isEqual(t.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bl=-1;function gC(r,t){const n=r.toTimestamp().seconds,s=r.toTimestamp().nanoseconds+1,o=St.fromTimestamp(s===1e9?new te(n+1,0):new te(n,s));return new Hr(o,mt.empty(),t)}function yC(r){return new Hr(r.readTime,r.key,Bl)}class Hr{constructor(t,n,s){this.readTime=t,this.documentKey=n,this.largestBatchId=s}static min(){return new Hr(St.min(),mt.empty(),Bl)}static max(){return new Hr(St.max(),mt.empty(),Bl)}}function _C(r,t){let n=r.readTime.compareTo(t.readTime);return n!==0?n:(n=mt.comparator(r.documentKey,t.documentKey),n!==0?n:Nt(r.largestBatchId,t.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vC="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class EC{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(t){this.onCommittedListeners.push(t)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((t=>t()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function uo(r){if(r.code!==tt.FAILED_PRECONDITION||r.message!==vC)throw r;ot("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class J{constructor(t){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t((n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)}),(n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)}))}catch(t){return this.next(void 0,t)}next(t,n){return this.callbackAttached&&yt(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(t,this.result):new J(((s,o)=>{this.nextCallback=u=>{this.wrapSuccess(t,u).next(s,o)},this.catchCallback=u=>{this.wrapFailure(n,u).next(s,o)}}))}toPromise(){return new Promise(((t,n)=>{this.next(t,n)}))}wrapUserFunction(t){try{const n=t();return n instanceof J?n:J.resolve(n)}catch(n){return J.reject(n)}}wrapSuccess(t,n){return t?this.wrapUserFunction((()=>t(n))):J.resolve(n)}wrapFailure(t,n){return t?this.wrapUserFunction((()=>t(n))):J.reject(n)}static resolve(t){return new J(((n,s)=>{n(t)}))}static reject(t){return new J(((n,s)=>{s(t)}))}static waitFor(t){return new J(((n,s)=>{let o=0,u=0,f=!1;t.forEach((m=>{++o,m.next((()=>{++u,f&&u===o&&n()}),(y=>s(y)))})),f=!0,u===o&&n()}))}static or(t){let n=J.resolve(!1);for(const s of t)n=n.next((o=>o?J.resolve(o):s()));return n}static forEach(t,n){const s=[];return t.forEach(((o,u)=>{s.push(n.call(this,o,u))})),this.waitFor(s)}static mapArray(t,n){return new J(((s,o)=>{const u=t.length,f=new Array(u);let m=0;for(let y=0;y<u;y++){const g=y;n(t[g]).next((E=>{f[g]=E,++m,m===u&&s(f)}),(E=>o(E)))}}))}static doWhile(t,n){return new J(((s,o)=>{const u=()=>{t()===!0?n().next((()=>{u()}),o):s()};u()}))}}function TC(r){const t=r.match(/Android ([\d.]+)/i),n=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function co(r){return r.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sh{constructor(t,n){this.previousValue=t,n&&(n.sequenceNumberHandler=s=>this.ae(s),this.ue=s=>n.writeSequenceNumber(s))}ae(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.ue&&this.ue(t),t}}Sh.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wm=-1;function Ah(r){return r==null}function ih(r){return r===0&&1/r==-1/0}function SC(r){return typeof r=="number"&&Number.isInteger(r)&&!ih(r)&&r<=Number.MAX_SAFE_INTEGER&&r>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FT="";function AC(r){let t="";for(let n=0;n<r.length;n++)t.length>0&&(t=zv(t)),t=bC(r.get(n),t);return zv(t)}function bC(r,t){let n=t;const s=r.length;for(let o=0;o<s;o++){const u=r.charAt(o);switch(u){case"\0":n+="";break;case FT:n+="";break;default:n+=u}}return n}function zv(r){return r+FT+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bv(r){let t=0;for(const n in r)Object.prototype.hasOwnProperty.call(r,n)&&t++;return t}function js(r,t){for(const n in r)Object.prototype.hasOwnProperty.call(r,n)&&t(n,r[n])}function GT(r){for(const t in r)if(Object.prototype.hasOwnProperty.call(r,t))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ae{constructor(t,n){this.comparator=t,this.root=n||qe.EMPTY}insert(t,n){return new ae(this.comparator,this.root.insert(t,n,this.comparator).copy(null,null,qe.BLACK,null,null))}remove(t){return new ae(this.comparator,this.root.remove(t,this.comparator).copy(null,null,qe.BLACK,null,null))}get(t){let n=this.root;for(;!n.isEmpty();){const s=this.comparator(t,n.key);if(s===0)return n.value;s<0?n=n.left:s>0&&(n=n.right)}return null}indexOf(t){let n=0,s=this.root;for(;!s.isEmpty();){const o=this.comparator(t,s.key);if(o===0)return n+s.left.size;o<0?s=s.left:(n+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(t){return this.root.inorderTraversal(t)}forEach(t){this.inorderTraversal(((n,s)=>(t(n,s),!1)))}toString(){const t=[];return this.inorderTraversal(((n,s)=>(t.push(`${n}:${s}`),!1))),`{${t.join(", ")}}`}reverseTraversal(t){return this.root.reverseTraversal(t)}getIterator(){return new Nc(this.root,null,this.comparator,!1)}getIteratorFrom(t){return new Nc(this.root,t,this.comparator,!1)}getReverseIterator(){return new Nc(this.root,null,this.comparator,!0)}getReverseIteratorFrom(t){return new Nc(this.root,t,this.comparator,!0)}}class Nc{constructor(t,n,s,o){this.isReverse=o,this.nodeStack=[];let u=1;for(;!t.isEmpty();)if(u=n?s(t.key,n):1,n&&o&&(u*=-1),u<0)t=this.isReverse?t.left:t.right;else{if(u===0){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}getNext(){let t=this.nodeStack.pop();const n={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}}}class qe{constructor(t,n,s,o,u){this.key=t,this.value=n,this.color=s??qe.RED,this.left=o??qe.EMPTY,this.right=u??qe.EMPTY,this.size=this.left.size+1+this.right.size}copy(t,n,s,o,u){return new qe(t??this.key,n??this.value,s??this.color,o??this.left,u??this.right)}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,n,s){let o=this;const u=s(t,o.key);return o=u<0?o.copy(null,null,null,o.left.insert(t,n,s),null):u===0?o.copy(null,n,null,null,null):o.copy(null,null,null,null,o.right.insert(t,n,s)),o.fixUp()}removeMin(){if(this.left.isEmpty())return qe.EMPTY;let t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()}remove(t,n){let s,o=this;if(n(t,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(t,n),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),n(t,o.key)===0){if(o.right.isEmpty())return qe.EMPTY;s=o.right.min(),o=o.copy(s.key,s.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(t,n))}return o.fixUp()}isRed(){return this.color}fixUp(){let t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t}moveRedLeft(){let t=this.colorFlip();return t.right.left.isRed()&&(t=t.copy(null,null,null,null,t.right.rotateRight()),t=t.rotateLeft(),t=t.colorFlip()),t}moveRedRight(){let t=this.colorFlip();return t.left.left.isRed()&&(t=t.rotateRight(),t=t.colorFlip()),t}rotateLeft(){const t=this.copy(null,null,qe.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight(){const t=this.copy(null,null,qe.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip(){const t=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,n)}checkMaxDepth(){const t=this.check();return Math.pow(2,t)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw yt(43730,{key:this.key,value:this.value});if(this.right.isRed())throw yt(14113,{key:this.key,value:this.value});const t=this.left.check();if(t!==this.right.check())throw yt(27949);return t+(this.isRed()?0:1)}}qe.EMPTY=null,qe.RED=!0,qe.BLACK=!1;qe.EMPTY=new class{constructor(){this.size=0}get key(){throw yt(57766)}get value(){throw yt(16141)}get color(){throw yt(16727)}get left(){throw yt(29726)}get right(){throw yt(36894)}copy(t,n,s,o,u){return this}insert(t,n,s){return new qe(t,n)}remove(t,n){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ce{constructor(t){this.comparator=t,this.data=new ae(this.comparator)}has(t){return this.data.get(t)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(t){return this.data.indexOf(t)}forEach(t){this.data.inorderTraversal(((n,s)=>(t(n),!1)))}forEachInRange(t,n){const s=this.data.getIteratorFrom(t[0]);for(;s.hasNext();){const o=s.getNext();if(this.comparator(o.key,t[1])>=0)return;n(o.key)}}forEachWhile(t,n){let s;for(s=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();s.hasNext();)if(!t(s.getNext().key))return}firstAfterOrEqual(t){const n=this.data.getIteratorFrom(t);return n.hasNext()?n.getNext().key:null}getIterator(){return new Hv(this.data.getIterator())}getIteratorFrom(t){return new Hv(this.data.getIteratorFrom(t))}add(t){return this.copy(this.data.remove(t).insert(t,!0))}delete(t){return this.has(t)?this.copy(this.data.remove(t)):this}isEmpty(){return this.data.isEmpty()}unionWith(t){let n=this;return n.size<t.size&&(n=t,t=this),t.forEach((s=>{n=n.add(s)})),n}isEqual(t){if(!(t instanceof Ce)||this.size!==t.size)return!1;const n=this.data.getIterator(),s=t.data.getIterator();for(;n.hasNext();){const o=n.getNext().key,u=s.getNext().key;if(this.comparator(o,u)!==0)return!1}return!0}toArray(){const t=[];return this.forEach((n=>{t.push(n)})),t}toString(){const t=[];return this.forEach((n=>t.push(n))),"SortedSet("+t.toString()+")"}copy(t){const n=new Ce(this.comparator);return n.data=t,n}}class Hv{constructor(t){this.iter=t}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hn{constructor(t){this.fields=t,t.sort(je.comparator)}static empty(){return new Hn([])}unionWith(t){let n=new Ce(je.comparator);for(const s of this.fields)n=n.add(s);for(const s of t)n=n.add(s);return new Hn(n.toArray())}covers(t){for(const n of this.fields)if(n.isPrefixOf(t))return!0;return!1}isEqual(t){return Za(this.fields,t.fields,((n,s)=>n.isEqual(s)))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QT extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fe{constructor(t){this.binaryString=t}static fromBase64String(t){const n=(function(o){try{return atob(o)}catch(u){throw typeof DOMException<"u"&&u instanceof DOMException?new QT("Invalid base64 string: "+u):u}})(t);return new Fe(n)}static fromUint8Array(t){const n=(function(o){let u="";for(let f=0;f<o.length;++f)u+=String.fromCharCode(o[f]);return u})(t);return new Fe(n)}[Symbol.iterator](){let t=0;return{next:()=>t<this.binaryString.length?{value:this.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(n){return btoa(n)})(this.binaryString)}toUint8Array(){return(function(n){const s=new Uint8Array(n.length);for(let o=0;o<n.length;o++)s[o]=n.charCodeAt(o);return s})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return Nt(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}}Fe.EMPTY_BYTE_STRING=new Fe("");const RC=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function qr(r){if(qt(!!r,39018),typeof r=="string"){let t=0;const n=RC.exec(r);if(qt(!!n,46558,{timestamp:r}),n[1]){let o=n[1];o=(o+"000000000").substr(0,9),t=Number(o)}const s=new Date(r);return{seconds:Math.floor(s.getTime()/1e3),nanos:t}}return{seconds:me(r.seconds),nanos:me(r.nanos)}}function me(r){return typeof r=="number"?r:typeof r=="string"?Number(r):0}function jr(r){return typeof r=="string"?Fe.fromBase64String(r):Fe.fromUint8Array(r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KT="server_timestamp",YT="__type__",XT="__previous_value__",$T="__local_write_time__";function tp(r){return(r?.mapValue?.fields||{})[YT]?.stringValue===KT}function bh(r){const t=r.mapValue.fields[XT];return tp(t)?bh(t):t}function Hl(r){const t=qr(r.mapValue.fields[$T].timestampValue);return new te(t.seconds,t.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wC{constructor(t,n,s,o,u,f,m,y,g,E){this.databaseId=t,this.appId=n,this.persistenceKey=s,this.host=o,this.ssl=u,this.forceLongPolling=f,this.autoDetectLongPolling=m,this.longPollingOptions=y,this.useFetchStreams=g,this.isUsingEmulator=E}}const rh="(default)";class ql{constructor(t,n){this.projectId=t,this.database=n||rh}static empty(){return new ql("","")}get isDefaultDatabase(){return this.database===rh}isEqual(t){return t instanceof ql&&t.projectId===this.projectId&&t.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZT="__type__",IC="__max__",Mc={mapValue:{}},JT="__vector__",sh="value";function Fr(r){return"nullValue"in r?0:"booleanValue"in r?1:"integerValue"in r||"doubleValue"in r?2:"timestampValue"in r?3:"stringValue"in r?5:"bytesValue"in r?6:"referenceValue"in r?7:"geoPointValue"in r?8:"arrayValue"in r?9:"mapValue"in r?tp(r)?4:DC(r)?9007199254740991:CC(r)?10:11:yt(28295,{value:r})}function pi(r,t){if(r===t)return!0;const n=Fr(r);if(n!==Fr(t))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return r.booleanValue===t.booleanValue;case 4:return Hl(r).isEqual(Hl(t));case 3:return(function(o,u){if(typeof o.timestampValue=="string"&&typeof u.timestampValue=="string"&&o.timestampValue.length===u.timestampValue.length)return o.timestampValue===u.timestampValue;const f=qr(o.timestampValue),m=qr(u.timestampValue);return f.seconds===m.seconds&&f.nanos===m.nanos})(r,t);case 5:return r.stringValue===t.stringValue;case 6:return(function(o,u){return jr(o.bytesValue).isEqual(jr(u.bytesValue))})(r,t);case 7:return r.referenceValue===t.referenceValue;case 8:return(function(o,u){return me(o.geoPointValue.latitude)===me(u.geoPointValue.latitude)&&me(o.geoPointValue.longitude)===me(u.geoPointValue.longitude)})(r,t);case 2:return(function(o,u){if("integerValue"in o&&"integerValue"in u)return me(o.integerValue)===me(u.integerValue);if("doubleValue"in o&&"doubleValue"in u){const f=me(o.doubleValue),m=me(u.doubleValue);return f===m?ih(f)===ih(m):isNaN(f)&&isNaN(m)}return!1})(r,t);case 9:return Za(r.arrayValue.values||[],t.arrayValue.values||[],pi);case 10:case 11:return(function(o,u){const f=o.mapValue.fields||{},m=u.mapValue.fields||{};if(Bv(f)!==Bv(m))return!1;for(const y in f)if(f.hasOwnProperty(y)&&(m[y]===void 0||!pi(f[y],m[y])))return!1;return!0})(r,t);default:return yt(52216,{left:r})}}function jl(r,t){return(r.values||[]).find((n=>pi(n,t)))!==void 0}function Ja(r,t){if(r===t)return 0;const n=Fr(r),s=Fr(t);if(n!==s)return Nt(n,s);switch(n){case 0:case 9007199254740991:return 0;case 1:return Nt(r.booleanValue,t.booleanValue);case 2:return(function(u,f){const m=me(u.integerValue||u.doubleValue),y=me(f.integerValue||f.doubleValue);return m<y?-1:m>y?1:m===y?0:isNaN(m)?isNaN(y)?0:-1:1})(r,t);case 3:return qv(r.timestampValue,t.timestampValue);case 4:return qv(Hl(r),Hl(t));case 5:return dm(r.stringValue,t.stringValue);case 6:return(function(u,f){const m=jr(u),y=jr(f);return m.compareTo(y)})(r.bytesValue,t.bytesValue);case 7:return(function(u,f){const m=u.split("/"),y=f.split("/");for(let g=0;g<m.length&&g<y.length;g++){const E=Nt(m[g],y[g]);if(E!==0)return E}return Nt(m.length,y.length)})(r.referenceValue,t.referenceValue);case 8:return(function(u,f){const m=Nt(me(u.latitude),me(f.latitude));return m!==0?m:Nt(me(u.longitude),me(f.longitude))})(r.geoPointValue,t.geoPointValue);case 9:return jv(r.arrayValue,t.arrayValue);case 10:return(function(u,f){const m=u.fields||{},y=f.fields||{},g=m[sh]?.arrayValue,E=y[sh]?.arrayValue,A=Nt(g?.values?.length||0,E?.values?.length||0);return A!==0?A:jv(g,E)})(r.mapValue,t.mapValue);case 11:return(function(u,f){if(u===Mc.mapValue&&f===Mc.mapValue)return 0;if(u===Mc.mapValue)return 1;if(f===Mc.mapValue)return-1;const m=u.fields||{},y=Object.keys(m),g=f.fields||{},E=Object.keys(g);y.sort(),E.sort();for(let A=0;A<y.length&&A<E.length;++A){const R=dm(y[A],E[A]);if(R!==0)return R;const k=Ja(m[y[A]],g[E[A]]);if(k!==0)return k}return Nt(y.length,E.length)})(r.mapValue,t.mapValue);default:throw yt(23264,{he:n})}}function qv(r,t){if(typeof r=="string"&&typeof t=="string"&&r.length===t.length)return Nt(r,t);const n=qr(r),s=qr(t),o=Nt(n.seconds,s.seconds);return o!==0?o:Nt(n.nanos,s.nanos)}function jv(r,t){const n=r.values||[],s=t.values||[];for(let o=0;o<n.length&&o<s.length;++o){const u=Ja(n[o],s[o]);if(u)return u}return Nt(n.length,s.length)}function Wa(r){return mm(r)}function mm(r){return"nullValue"in r?"null":"booleanValue"in r?""+r.booleanValue:"integerValue"in r?""+r.integerValue:"doubleValue"in r?""+r.doubleValue:"timestampValue"in r?(function(n){const s=qr(n);return`time(${s.seconds},${s.nanos})`})(r.timestampValue):"stringValue"in r?r.stringValue:"bytesValue"in r?(function(n){return jr(n).toBase64()})(r.bytesValue):"referenceValue"in r?(function(n){return mt.fromName(n).toString()})(r.referenceValue):"geoPointValue"in r?(function(n){return`geo(${n.latitude},${n.longitude})`})(r.geoPointValue):"arrayValue"in r?(function(n){let s="[",o=!0;for(const u of n.values||[])o?o=!1:s+=",",s+=mm(u);return s+"]"})(r.arrayValue):"mapValue"in r?(function(n){const s=Object.keys(n.fields||{}).sort();let o="{",u=!0;for(const f of s)u?u=!1:o+=",",o+=`${f}:${mm(n.fields[f])}`;return o+"}"})(r.mapValue):yt(61005,{value:r})}function qc(r){switch(Fr(r)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const t=bh(r);return t?16+qc(t):16;case 5:return 2*r.stringValue.length;case 6:return jr(r.bytesValue).approximateByteSize();case 7:return r.referenceValue.length;case 9:return(function(s){return(s.values||[]).reduce(((o,u)=>o+qc(u)),0)})(r.arrayValue);case 10:case 11:return(function(s){let o=0;return js(s.fields,((u,f)=>{o+=u.length+qc(f)})),o})(r.mapValue);default:throw yt(13486,{value:r})}}function pm(r){return!!r&&"integerValue"in r}function ep(r){return!!r&&"arrayValue"in r}function Fv(r){return!!r&&"nullValue"in r}function Gv(r){return!!r&&"doubleValue"in r&&isNaN(Number(r.doubleValue))}function jc(r){return!!r&&"mapValue"in r}function CC(r){return(r?.mapValue?.fields||{})[ZT]?.stringValue===JT}function Nl(r){if(r.geoPointValue)return{geoPointValue:{...r.geoPointValue}};if(r.timestampValue&&typeof r.timestampValue=="object")return{timestampValue:{...r.timestampValue}};if(r.mapValue){const t={mapValue:{fields:{}}};return js(r.mapValue.fields,((n,s)=>t.mapValue.fields[n]=Nl(s))),t}if(r.arrayValue){const t={arrayValue:{values:[]}};for(let n=0;n<(r.arrayValue.values||[]).length;++n)t.arrayValue.values[n]=Nl(r.arrayValue.values[n]);return t}return{...r}}function DC(r){return(((r.mapValue||{}).fields||{}).__type__||{}).stringValue===IC}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class On{constructor(t){this.value=t}static empty(){return new On({mapValue:{}})}field(t){if(t.isEmpty())return this.value;{let n=this.value;for(let s=0;s<t.length-1;++s)if(n=(n.mapValue.fields||{})[t.get(s)],!jc(n))return null;return n=(n.mapValue.fields||{})[t.lastSegment()],n||null}}set(t,n){this.getFieldsMap(t.popLast())[t.lastSegment()]=Nl(n)}setAll(t){let n=je.emptyPath(),s={},o=[];t.forEach(((f,m)=>{if(!n.isImmediateParentOf(m)){const y=this.getFieldsMap(n);this.applyChanges(y,s,o),s={},o=[],n=m.popLast()}f?s[m.lastSegment()]=Nl(f):o.push(m.lastSegment())}));const u=this.getFieldsMap(n);this.applyChanges(u,s,o)}delete(t){const n=this.field(t.popLast());jc(n)&&n.mapValue.fields&&delete n.mapValue.fields[t.lastSegment()]}isEqual(t){return pi(this.value,t.value)}getFieldsMap(t){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let s=0;s<t.length;++s){let o=n.mapValue.fields[t.get(s)];jc(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},n.mapValue.fields[t.get(s)]=o),n=o}return n.mapValue.fields}applyChanges(t,n,s){js(n,((o,u)=>t[o]=u));for(const o of s)delete t[o]}clone(){return new On(Nl(this.value))}}function WT(r){const t=[];return js(r.fields,((n,s)=>{const o=new je([n]);if(jc(s)){const u=WT(s.mapValue).fields;if(u.length===0)t.push(o);else for(const f of u)t.push(o.child(f))}else t.push(o)})),new Hn(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $e{constructor(t,n,s,o,u,f,m){this.key=t,this.documentType=n,this.version=s,this.readTime=o,this.createTime=u,this.data=f,this.documentState=m}static newInvalidDocument(t){return new $e(t,0,St.min(),St.min(),St.min(),On.empty(),0)}static newFoundDocument(t,n,s,o){return new $e(t,1,n,St.min(),s,o,0)}static newNoDocument(t,n){return new $e(t,2,n,St.min(),St.min(),On.empty(),0)}static newUnknownDocument(t,n){return new $e(t,3,n,St.min(),St.min(),On.empty(),2)}convertToFoundDocument(t,n){return!this.createTime.isEqual(St.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=t),this.version=t,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(t){return this.version=t,this.documentType=2,this.data=On.empty(),this.documentState=0,this}convertToUnknownDocument(t){return this.version=t,this.documentType=3,this.data=On.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=St.min(),this}setReadTime(t){return this.readTime=t,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(t){return t instanceof $e&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}mutableCopy(){return new $e(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ah{constructor(t,n){this.position=t,this.inclusive=n}}function Qv(r,t,n){let s=0;for(let o=0;o<r.position.length;o++){const u=t[o],f=r.position[o];if(u.field.isKeyField()?s=mt.comparator(mt.fromName(f.referenceValue),n.key):s=Ja(f,n.data.field(u.field)),u.dir==="desc"&&(s*=-1),s!==0)break}return s}function Kv(r,t){if(r===null)return t===null;if(t===null||r.inclusive!==t.inclusive||r.position.length!==t.position.length)return!1;for(let n=0;n<r.position.length;n++)if(!pi(r.position[n],t.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oh{constructor(t,n="asc"){this.field=t,this.dir=n}}function OC(r,t){return r.dir===t.dir&&r.field.isEqual(t.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class t0{}class we extends t0{constructor(t,n,s){super(),this.field=t,this.op=n,this.value=s}static create(t,n,s){return t.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(t,n,s):new MC(t,n,s):n==="array-contains"?new xC(t,s):n==="in"?new kC(t,s):n==="not-in"?new LC(t,s):n==="array-contains-any"?new UC(t,s):new we(t,n,s)}static createKeyFieldInFilter(t,n,s){return n==="in"?new VC(t,s):new PC(t,s)}matches(t){const n=t.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(Ja(n,this.value)):n!==null&&Fr(this.value)===Fr(n)&&this.matchesComparison(Ja(n,this.value))}matchesComparison(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return t===0;case"!=":return t!==0;case">":return t>0;case">=":return t>=0;default:return yt(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class gi extends t0{constructor(t,n){super(),this.filters=t,this.op=n,this.Pe=null}static create(t,n){return new gi(t,n)}matches(t){return e0(this)?this.filters.find((n=>!n.matches(t)))===void 0:this.filters.find((n=>n.matches(t)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((t,n)=>t.concat(n.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function e0(r){return r.op==="and"}function n0(r){return NC(r)&&e0(r)}function NC(r){for(const t of r.filters)if(t instanceof gi)return!1;return!0}function gm(r){if(r instanceof we)return r.field.canonicalString()+r.op.toString()+Wa(r.value);if(n0(r))return r.filters.map((t=>gm(t))).join(",");{const t=r.filters.map((n=>gm(n))).join(",");return`${r.op}(${t})`}}function i0(r,t){return r instanceof we?(function(s,o){return o instanceof we&&s.op===o.op&&s.field.isEqual(o.field)&&pi(s.value,o.value)})(r,t):r instanceof gi?(function(s,o){return o instanceof gi&&s.op===o.op&&s.filters.length===o.filters.length?s.filters.reduce(((u,f,m)=>u&&i0(f,o.filters[m])),!0):!1})(r,t):void yt(19439)}function r0(r){return r instanceof we?(function(n){return`${n.field.canonicalString()} ${n.op} ${Wa(n.value)}`})(r):r instanceof gi?(function(n){return n.op.toString()+" {"+n.getFilters().map(r0).join(" ,")+"}"})(r):"Filter"}class MC extends we{constructor(t,n,s){super(t,n,s),this.key=mt.fromName(s.referenceValue)}matches(t){const n=mt.comparator(t.key,this.key);return this.matchesComparison(n)}}class VC extends we{constructor(t,n){super(t,"in",n),this.keys=s0("in",n)}matches(t){return this.keys.some((n=>n.isEqual(t.key)))}}class PC extends we{constructor(t,n){super(t,"not-in",n),this.keys=s0("not-in",n)}matches(t){return!this.keys.some((n=>n.isEqual(t.key)))}}function s0(r,t){return(t.arrayValue?.values||[]).map((n=>mt.fromName(n.referenceValue)))}class xC extends we{constructor(t,n){super(t,"array-contains",n)}matches(t){const n=t.data.field(this.field);return ep(n)&&jl(n.arrayValue,this.value)}}class kC extends we{constructor(t,n){super(t,"in",n)}matches(t){const n=t.data.field(this.field);return n!==null&&jl(this.value.arrayValue,n)}}class LC extends we{constructor(t,n){super(t,"not-in",n)}matches(t){if(jl(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=t.data.field(this.field);return n!==null&&n.nullValue===void 0&&!jl(this.value.arrayValue,n)}}class UC extends we{constructor(t,n){super(t,"array-contains-any",n)}matches(t){const n=t.data.field(this.field);return!(!ep(n)||!n.arrayValue.values)&&n.arrayValue.values.some((s=>jl(this.value.arrayValue,s)))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zC{constructor(t,n=null,s=[],o=[],u=null,f=null,m=null){this.path=t,this.collectionGroup=n,this.orderBy=s,this.filters=o,this.limit=u,this.startAt=f,this.endAt=m,this.Te=null}}function Yv(r,t=null,n=[],s=[],o=null,u=null,f=null){return new zC(r,t,n,s,o,u,f)}function np(r){const t=At(r);if(t.Te===null){let n=t.path.canonicalString();t.collectionGroup!==null&&(n+="|cg:"+t.collectionGroup),n+="|f:",n+=t.filters.map((s=>gm(s))).join(","),n+="|ob:",n+=t.orderBy.map((s=>(function(u){return u.field.canonicalString()+u.dir})(s))).join(","),Ah(t.limit)||(n+="|l:",n+=t.limit),t.startAt&&(n+="|lb:",n+=t.startAt.inclusive?"b:":"a:",n+=t.startAt.position.map((s=>Wa(s))).join(",")),t.endAt&&(n+="|ub:",n+=t.endAt.inclusive?"a:":"b:",n+=t.endAt.position.map((s=>Wa(s))).join(",")),t.Te=n}return t.Te}function ip(r,t){if(r.limit!==t.limit||r.orderBy.length!==t.orderBy.length)return!1;for(let n=0;n<r.orderBy.length;n++)if(!OC(r.orderBy[n],t.orderBy[n]))return!1;if(r.filters.length!==t.filters.length)return!1;for(let n=0;n<r.filters.length;n++)if(!i0(r.filters[n],t.filters[n]))return!1;return r.collectionGroup===t.collectionGroup&&!!r.path.isEqual(t.path)&&!!Kv(r.startAt,t.startAt)&&Kv(r.endAt,t.endAt)}function ym(r){return mt.isDocumentKey(r.path)&&r.collectionGroup===null&&r.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rh{constructor(t,n=null,s=[],o=[],u=null,f="F",m=null,y=null){this.path=t,this.collectionGroup=n,this.explicitOrderBy=s,this.filters=o,this.limit=u,this.limitType=f,this.startAt=m,this.endAt=y,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function BC(r,t,n,s,o,u,f,m){return new Rh(r,t,n,s,o,u,f,m)}function rp(r){return new Rh(r)}function Xv(r){return r.filters.length===0&&r.limit===null&&r.startAt==null&&r.endAt==null&&(r.explicitOrderBy.length===0||r.explicitOrderBy.length===1&&r.explicitOrderBy[0].field.isKeyField())}function HC(r){return r.collectionGroup!==null}function Ml(r){const t=At(r);if(t.Ie===null){t.Ie=[];const n=new Set;for(const u of t.explicitOrderBy)t.Ie.push(u),n.add(u.field.canonicalString());const s=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";(function(f){let m=new Ce(je.comparator);return f.filters.forEach((y=>{y.getFlattenedFilters().forEach((g=>{g.isInequality()&&(m=m.add(g.field))}))})),m})(t).forEach((u=>{n.has(u.canonicalString())||u.isKeyField()||t.Ie.push(new oh(u,s))})),n.has(je.keyField().canonicalString())||t.Ie.push(new oh(je.keyField(),s))}return t.Ie}function ci(r){const t=At(r);return t.Ee||(t.Ee=qC(t,Ml(r))),t.Ee}function qC(r,t){if(r.limitType==="F")return Yv(r.path,r.collectionGroup,t,r.filters,r.limit,r.startAt,r.endAt);{t=t.map((o=>{const u=o.dir==="desc"?"asc":"desc";return new oh(o.field,u)}));const n=r.endAt?new ah(r.endAt.position,r.endAt.inclusive):null,s=r.startAt?new ah(r.startAt.position,r.startAt.inclusive):null;return Yv(r.path,r.collectionGroup,t,r.filters,r.limit,n,s)}}function _m(r,t,n){return new Rh(r.path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),t,n,r.startAt,r.endAt)}function wh(r,t){return ip(ci(r),ci(t))&&r.limitType===t.limitType}function a0(r){return`${np(ci(r))}|lt:${r.limitType}`}function Ba(r){return`Query(target=${(function(n){let s=n.path.canonicalString();return n.collectionGroup!==null&&(s+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(s+=`, filters: [${n.filters.map((o=>r0(o))).join(", ")}]`),Ah(n.limit)||(s+=", limit: "+n.limit),n.orderBy.length>0&&(s+=`, orderBy: [${n.orderBy.map((o=>(function(f){return`${f.field.canonicalString()} (${f.dir})`})(o))).join(", ")}]`),n.startAt&&(s+=", startAt: ",s+=n.startAt.inclusive?"b:":"a:",s+=n.startAt.position.map((o=>Wa(o))).join(",")),n.endAt&&(s+=", endAt: ",s+=n.endAt.inclusive?"a:":"b:",s+=n.endAt.position.map((o=>Wa(o))).join(",")),`Target(${s})`})(ci(r))}; limitType=${r.limitType})`}function Ih(r,t){return t.isFoundDocument()&&(function(s,o){const u=o.key.path;return s.collectionGroup!==null?o.key.hasCollectionId(s.collectionGroup)&&s.path.isPrefixOf(u):mt.isDocumentKey(s.path)?s.path.isEqual(u):s.path.isImmediateParentOf(u)})(r,t)&&(function(s,o){for(const u of Ml(s))if(!u.field.isKeyField()&&o.data.field(u.field)===null)return!1;return!0})(r,t)&&(function(s,o){for(const u of s.filters)if(!u.matches(o))return!1;return!0})(r,t)&&(function(s,o){return!(s.startAt&&!(function(f,m,y){const g=Qv(f,m,y);return f.inclusive?g<=0:g<0})(s.startAt,Ml(s),o)||s.endAt&&!(function(f,m,y){const g=Qv(f,m,y);return f.inclusive?g>=0:g>0})(s.endAt,Ml(s),o))})(r,t)}function jC(r){return r.collectionGroup||(r.path.length%2==1?r.path.lastSegment():r.path.get(r.path.length-2))}function o0(r){return(t,n)=>{let s=!1;for(const o of Ml(r)){const u=FC(o,t,n);if(u!==0)return u;s=s||o.field.isKeyField()}return 0}}function FC(r,t,n){const s=r.field.isKeyField()?mt.comparator(t.key,n.key):(function(u,f,m){const y=f.data.field(u),g=m.data.field(u);return y!==null&&g!==null?Ja(y,g):yt(42886)})(r.field,t,n);switch(r.dir){case"asc":return s;case"desc":return-1*s;default:return yt(19790,{direction:r.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fs{constructor(t,n){this.mapKeyFn=t,this.equalsFn=n,this.inner={},this.innerSize=0}get(t){const n=this.mapKeyFn(t),s=this.inner[n];if(s!==void 0){for(const[o,u]of s)if(this.equalsFn(o,t))return u}}has(t){return this.get(t)!==void 0}set(t,n){const s=this.mapKeyFn(t),o=this.inner[s];if(o===void 0)return this.inner[s]=[[t,n]],void this.innerSize++;for(let u=0;u<o.length;u++)if(this.equalsFn(o[u][0],t))return void(o[u]=[t,n]);o.push([t,n]),this.innerSize++}delete(t){const n=this.mapKeyFn(t),s=this.inner[n];if(s===void 0)return!1;for(let o=0;o<s.length;o++)if(this.equalsFn(s[o][0],t))return s.length===1?delete this.inner[n]:s.splice(o,1),this.innerSize--,!0;return!1}forEach(t){js(this.inner,((n,s)=>{for(const[o,u]of s)t(o,u)}))}isEmpty(){return GT(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GC=new ae(mt.comparator);function Wi(){return GC}const l0=new ae(mt.comparator);function wl(...r){let t=l0;for(const n of r)t=t.insert(n.key,n);return t}function u0(r){let t=l0;return r.forEach(((n,s)=>t=t.insert(n,s.overlayedDocument))),t}function Vs(){return Vl()}function c0(){return Vl()}function Vl(){return new Fs((r=>r.toString()),((r,t)=>r.isEqual(t)))}const QC=new ae(mt.comparator),KC=new Ce(mt.comparator);function Mt(...r){let t=KC;for(const n of r)t=t.add(n);return t}const YC=new Ce(Nt);function XC(){return YC}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sp(r,t){if(r.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:ih(t)?"-0":t}}function h0(r){return{integerValue:""+r}}function $C(r,t){return SC(t)?h0(t):sp(r,t)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ch{constructor(){this._=void 0}}function ZC(r,t,n){return r instanceof lh?(function(o,u){const f={fields:{[YT]:{stringValue:KT},[$T]:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return u&&tp(u)&&(u=bh(u)),u&&(f.fields[XT]=u),{mapValue:f}})(n,t):r instanceof Fl?d0(r,t):r instanceof Gl?m0(r,t):(function(o,u){const f=f0(o,u),m=$v(f)+$v(o.Ae);return pm(f)&&pm(o.Ae)?h0(m):sp(o.serializer,m)})(r,t)}function JC(r,t,n){return r instanceof Fl?d0(r,t):r instanceof Gl?m0(r,t):n}function f0(r,t){return r instanceof uh?(function(s){return pm(s)||(function(u){return!!u&&"doubleValue"in u})(s)})(t)?t:{integerValue:0}:null}class lh extends Ch{}class Fl extends Ch{constructor(t){super(),this.elements=t}}function d0(r,t){const n=p0(t);for(const s of r.elements)n.some((o=>pi(o,s)))||n.push(s);return{arrayValue:{values:n}}}class Gl extends Ch{constructor(t){super(),this.elements=t}}function m0(r,t){let n=p0(t);for(const s of r.elements)n=n.filter((o=>!pi(o,s)));return{arrayValue:{values:n}}}class uh extends Ch{constructor(t,n){super(),this.serializer=t,this.Ae=n}}function $v(r){return me(r.integerValue||r.doubleValue)}function p0(r){return ep(r)&&r.arrayValue.values?r.arrayValue.values.slice():[]}function WC(r,t){return r.field.isEqual(t.field)&&(function(s,o){return s instanceof Fl&&o instanceof Fl||s instanceof Gl&&o instanceof Gl?Za(s.elements,o.elements,pi):s instanceof uh&&o instanceof uh?pi(s.Ae,o.Ae):s instanceof lh&&o instanceof lh})(r.transform,t.transform)}class t2{constructor(t,n){this.version=t,this.transformResults=n}}class Yi{constructor(t,n){this.updateTime=t,this.exists=n}static none(){return new Yi}static exists(t){return new Yi(void 0,t)}static updateTime(t){return new Yi(t)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)}}function Fc(r,t){return r.updateTime!==void 0?t.isFoundDocument()&&t.version.isEqual(r.updateTime):r.exists===void 0||r.exists===t.isFoundDocument()}class Dh{}function g0(r,t){if(!r.hasLocalMutations||t&&t.fields.length===0)return null;if(t===null)return r.isNoDocument()?new _0(r.key,Yi.none()):new tu(r.key,r.data,Yi.none());{const n=r.data,s=On.empty();let o=new Ce(je.comparator);for(let u of t.fields)if(!o.has(u)){let f=n.field(u);f===null&&u.length>1&&(u=u.popLast(),f=n.field(u)),f===null?s.delete(u):s.set(u,f),o=o.add(u)}return new Gs(r.key,s,new Hn(o.toArray()),Yi.none())}}function e2(r,t,n){r instanceof tu?(function(o,u,f){const m=o.value.clone(),y=Jv(o.fieldTransforms,u,f.transformResults);m.setAll(y),u.convertToFoundDocument(f.version,m).setHasCommittedMutations()})(r,t,n):r instanceof Gs?(function(o,u,f){if(!Fc(o.precondition,u))return void u.convertToUnknownDocument(f.version);const m=Jv(o.fieldTransforms,u,f.transformResults),y=u.data;y.setAll(y0(o)),y.setAll(m),u.convertToFoundDocument(f.version,y).setHasCommittedMutations()})(r,t,n):(function(o,u,f){u.convertToNoDocument(f.version).setHasCommittedMutations()})(0,t,n)}function Pl(r,t,n,s){return r instanceof tu?(function(u,f,m,y){if(!Fc(u.precondition,f))return m;const g=u.value.clone(),E=Wv(u.fieldTransforms,y,f);return g.setAll(E),f.convertToFoundDocument(f.version,g).setHasLocalMutations(),null})(r,t,n,s):r instanceof Gs?(function(u,f,m,y){if(!Fc(u.precondition,f))return m;const g=Wv(u.fieldTransforms,y,f),E=f.data;return E.setAll(y0(u)),E.setAll(g),f.convertToFoundDocument(f.version,E).setHasLocalMutations(),m===null?null:m.unionWith(u.fieldMask.fields).unionWith(u.fieldTransforms.map((A=>A.field)))})(r,t,n,s):(function(u,f,m){return Fc(u.precondition,f)?(f.convertToNoDocument(f.version).setHasLocalMutations(),null):m})(r,t,n)}function n2(r,t){let n=null;for(const s of r.fieldTransforms){const o=t.data.field(s.field),u=f0(s.transform,o||null);u!=null&&(n===null&&(n=On.empty()),n.set(s.field,u))}return n||null}function Zv(r,t){return r.type===t.type&&!!r.key.isEqual(t.key)&&!!r.precondition.isEqual(t.precondition)&&!!(function(s,o){return s===void 0&&o===void 0||!(!s||!o)&&Za(s,o,((u,f)=>WC(u,f)))})(r.fieldTransforms,t.fieldTransforms)&&(r.type===0?r.value.isEqual(t.value):r.type!==1||r.data.isEqual(t.data)&&r.fieldMask.isEqual(t.fieldMask))}class tu extends Dh{constructor(t,n,s,o=[]){super(),this.key=t,this.value=n,this.precondition=s,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class Gs extends Dh{constructor(t,n,s,o,u=[]){super(),this.key=t,this.data=n,this.fieldMask=s,this.precondition=o,this.fieldTransforms=u,this.type=1}getFieldMask(){return this.fieldMask}}function y0(r){const t=new Map;return r.fieldMask.fields.forEach((n=>{if(!n.isEmpty()){const s=r.data.field(n);t.set(n,s)}})),t}function Jv(r,t,n){const s=new Map;qt(r.length===n.length,32656,{Re:n.length,Ve:r.length});for(let o=0;o<n.length;o++){const u=r[o],f=u.transform,m=t.data.field(u.field);s.set(u.field,JC(f,m,n[o]))}return s}function Wv(r,t,n){const s=new Map;for(const o of r){const u=o.transform,f=n.data.field(o.field);s.set(o.field,ZC(u,f,t))}return s}class _0 extends Dh{constructor(t,n){super(),this.key=t,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class i2 extends Dh{constructor(t,n){super(),this.key=t,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class r2{constructor(t,n,s,o){this.batchId=t,this.localWriteTime=n,this.baseMutations=s,this.mutations=o}applyToRemoteDocument(t,n){const s=n.mutationResults;for(let o=0;o<this.mutations.length;o++){const u=this.mutations[o];u.key.isEqual(t.key)&&e2(u,t,s[o])}}applyToLocalView(t,n){for(const s of this.baseMutations)s.key.isEqual(t.key)&&(n=Pl(s,t,n,this.localWriteTime));for(const s of this.mutations)s.key.isEqual(t.key)&&(n=Pl(s,t,n,this.localWriteTime));return n}applyToLocalDocumentSet(t,n){const s=c0();return this.mutations.forEach((o=>{const u=t.get(o.key),f=u.overlayedDocument;let m=this.applyToLocalView(f,u.mutatedFields);m=n.has(o.key)?null:m;const y=g0(f,m);y!==null&&s.set(o.key,y),f.isValidDocument()||f.convertToNoDocument(St.min())})),s}keys(){return this.mutations.reduce(((t,n)=>t.add(n.key)),Mt())}isEqual(t){return this.batchId===t.batchId&&Za(this.mutations,t.mutations,((n,s)=>Zv(n,s)))&&Za(this.baseMutations,t.baseMutations,((n,s)=>Zv(n,s)))}}class ap{constructor(t,n,s,o){this.batch=t,this.commitVersion=n,this.mutationResults=s,this.docVersions=o}static from(t,n,s){qt(t.mutations.length===s.length,58842,{me:t.mutations.length,fe:s.length});let o=(function(){return QC})();const u=t.mutations;for(let f=0;f<u.length;f++)o=o.insert(u[f].key,s[f].version);return new ap(t,n,s,o)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class s2{constructor(t,n){this.largestBatchId=t,this.mutation=n}getKey(){return this.mutation.key}isEqual(t){return t!==null&&this.mutation===t.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class a2{constructor(t,n){this.count=t,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ve,Lt;function o2(r){switch(r){case tt.OK:return yt(64938);case tt.CANCELLED:case tt.UNKNOWN:case tt.DEADLINE_EXCEEDED:case tt.RESOURCE_EXHAUSTED:case tt.INTERNAL:case tt.UNAVAILABLE:case tt.UNAUTHENTICATED:return!1;case tt.INVALID_ARGUMENT:case tt.NOT_FOUND:case tt.ALREADY_EXISTS:case tt.PERMISSION_DENIED:case tt.FAILED_PRECONDITION:case tt.ABORTED:case tt.OUT_OF_RANGE:case tt.UNIMPLEMENTED:case tt.DATA_LOSS:return!0;default:return yt(15467,{code:r})}}function v0(r){if(r===void 0)return Ji("GRPC error has no .code"),tt.UNKNOWN;switch(r){case ve.OK:return tt.OK;case ve.CANCELLED:return tt.CANCELLED;case ve.UNKNOWN:return tt.UNKNOWN;case ve.DEADLINE_EXCEEDED:return tt.DEADLINE_EXCEEDED;case ve.RESOURCE_EXHAUSTED:return tt.RESOURCE_EXHAUSTED;case ve.INTERNAL:return tt.INTERNAL;case ve.UNAVAILABLE:return tt.UNAVAILABLE;case ve.UNAUTHENTICATED:return tt.UNAUTHENTICATED;case ve.INVALID_ARGUMENT:return tt.INVALID_ARGUMENT;case ve.NOT_FOUND:return tt.NOT_FOUND;case ve.ALREADY_EXISTS:return tt.ALREADY_EXISTS;case ve.PERMISSION_DENIED:return tt.PERMISSION_DENIED;case ve.FAILED_PRECONDITION:return tt.FAILED_PRECONDITION;case ve.ABORTED:return tt.ABORTED;case ve.OUT_OF_RANGE:return tt.OUT_OF_RANGE;case ve.UNIMPLEMENTED:return tt.UNIMPLEMENTED;case ve.DATA_LOSS:return tt.DATA_LOSS;default:return yt(39323,{code:r})}}(Lt=ve||(ve={}))[Lt.OK=0]="OK",Lt[Lt.CANCELLED=1]="CANCELLED",Lt[Lt.UNKNOWN=2]="UNKNOWN",Lt[Lt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Lt[Lt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Lt[Lt.NOT_FOUND=5]="NOT_FOUND",Lt[Lt.ALREADY_EXISTS=6]="ALREADY_EXISTS",Lt[Lt.PERMISSION_DENIED=7]="PERMISSION_DENIED",Lt[Lt.UNAUTHENTICATED=16]="UNAUTHENTICATED",Lt[Lt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Lt[Lt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Lt[Lt.ABORTED=10]="ABORTED",Lt[Lt.OUT_OF_RANGE=11]="OUT_OF_RANGE",Lt[Lt.UNIMPLEMENTED=12]="UNIMPLEMENTED",Lt[Lt.INTERNAL=13]="INTERNAL",Lt[Lt.UNAVAILABLE=14]="UNAVAILABLE",Lt[Lt.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function l2(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const u2=new Ur([4294967295,4294967295],0);function tE(r){const t=l2().encode(r),n=new PT;return n.update(t),new Uint8Array(n.digest())}function eE(r){const t=new DataView(r.buffer),n=t.getUint32(0,!0),s=t.getUint32(4,!0),o=t.getUint32(8,!0),u=t.getUint32(12,!0);return[new Ur([n,s],0),new Ur([o,u],0)]}class op{constructor(t,n,s){if(this.bitmap=t,this.padding=n,this.hashCount=s,n<0||n>=8)throw new Il(`Invalid padding: ${n}`);if(s<0)throw new Il(`Invalid hash count: ${s}`);if(t.length>0&&this.hashCount===0)throw new Il(`Invalid hash count: ${s}`);if(t.length===0&&n!==0)throw new Il(`Invalid padding when bitmap length is 0: ${n}`);this.ge=8*t.length-n,this.pe=Ur.fromNumber(this.ge)}ye(t,n,s){let o=t.add(n.multiply(Ur.fromNumber(s)));return o.compare(u2)===1&&(o=new Ur([o.getBits(0),o.getBits(1)],0)),o.modulo(this.pe).toNumber()}we(t){return!!(this.bitmap[Math.floor(t/8)]&1<<t%8)}mightContain(t){if(this.ge===0)return!1;const n=tE(t),[s,o]=eE(n);for(let u=0;u<this.hashCount;u++){const f=this.ye(s,o,u);if(!this.we(f))return!1}return!0}static create(t,n,s){const o=t%8==0?0:8-t%8,u=new Uint8Array(Math.ceil(t/8)),f=new op(u,o,n);return s.forEach((m=>f.insert(m))),f}insert(t){if(this.ge===0)return;const n=tE(t),[s,o]=eE(n);for(let u=0;u<this.hashCount;u++){const f=this.ye(s,o,u);this.Se(f)}}Se(t){const n=Math.floor(t/8),s=t%8;this.bitmap[n]|=1<<s}}class Il extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oh{constructor(t,n,s,o,u){this.snapshotVersion=t,this.targetChanges=n,this.targetMismatches=s,this.documentUpdates=o,this.resolvedLimboDocuments=u}static createSynthesizedRemoteEventForCurrentChange(t,n,s){const o=new Map;return o.set(t,eu.createSynthesizedTargetChangeForCurrentChange(t,n,s)),new Oh(St.min(),o,new ae(Nt),Wi(),Mt())}}class eu{constructor(t,n,s,o,u){this.resumeToken=t,this.current=n,this.addedDocuments=s,this.modifiedDocuments=o,this.removedDocuments=u}static createSynthesizedTargetChangeForCurrentChange(t,n,s){return new eu(s,n,Mt(),Mt(),Mt())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gc{constructor(t,n,s,o){this.be=t,this.removedTargetIds=n,this.key=s,this.De=o}}class E0{constructor(t,n){this.targetId=t,this.Ce=n}}class T0{constructor(t,n,s=Fe.EMPTY_BYTE_STRING,o=null){this.state=t,this.targetIds=n,this.resumeToken=s,this.cause=o}}class nE{constructor(){this.ve=0,this.Fe=iE(),this.Me=Fe.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(t){t.approximateByteSize()>0&&(this.Oe=!0,this.Me=t)}ke(){let t=Mt(),n=Mt(),s=Mt();return this.Fe.forEach(((o,u)=>{switch(u){case 0:t=t.add(o);break;case 2:n=n.add(o);break;case 1:s=s.add(o);break;default:yt(38017,{changeType:u})}})),new eu(this.Me,this.xe,t,n,s)}qe(){this.Oe=!1,this.Fe=iE()}Qe(t,n){this.Oe=!0,this.Fe=this.Fe.insert(t,n)}$e(t){this.Oe=!0,this.Fe=this.Fe.remove(t)}Ue(){this.ve+=1}Ke(){this.ve-=1,qt(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class c2{constructor(t){this.Ge=t,this.ze=new Map,this.je=Wi(),this.Je=Vc(),this.He=Vc(),this.Ye=new ae(Nt)}Ze(t){for(const n of t.be)t.De&&t.De.isFoundDocument()?this.Xe(n,t.De):this.et(n,t.key,t.De);for(const n of t.removedTargetIds)this.et(n,t.key,t.De)}tt(t){this.forEachTarget(t,(n=>{const s=this.nt(n);switch(t.state){case 0:this.rt(n)&&s.Le(t.resumeToken);break;case 1:s.Ke(),s.Ne||s.qe(),s.Le(t.resumeToken);break;case 2:s.Ke(),s.Ne||this.removeTarget(n);break;case 3:this.rt(n)&&(s.We(),s.Le(t.resumeToken));break;case 4:this.rt(n)&&(this.it(n),s.Le(t.resumeToken));break;default:yt(56790,{state:t.state})}}))}forEachTarget(t,n){t.targetIds.length>0?t.targetIds.forEach(n):this.ze.forEach(((s,o)=>{this.rt(o)&&n(o)}))}st(t){const n=t.targetId,s=t.Ce.count,o=this.ot(n);if(o){const u=o.target;if(ym(u))if(s===0){const f=new mt(u.path);this.et(n,f,$e.newNoDocument(f,St.min()))}else qt(s===1,20013,{expectedCount:s});else{const f=this._t(n);if(f!==s){const m=this.ut(t),y=m?this.ct(m,t,f):1;if(y!==0){this.it(n);const g=y===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(n,g)}}}}}ut(t){const n=t.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:s="",padding:o=0},hashCount:u=0}=n;let f,m;try{f=jr(s).toUint8Array()}catch(y){if(y instanceof QT)return $a("Decoding the base64 bloom filter in existence filter failed ("+y.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw y}try{m=new op(f,o,u)}catch(y){return $a(y instanceof Il?"BloomFilter error: ":"Applying bloom filter failed: ",y),null}return m.ge===0?null:m}ct(t,n,s){return n.Ce.count===s-this.Pt(t,n.targetId)?0:2}Pt(t,n){const s=this.Ge.getRemoteKeysForTarget(n);let o=0;return s.forEach((u=>{const f=this.Ge.ht(),m=`projects/${f.projectId}/databases/${f.database}/documents/${u.path.canonicalString()}`;t.mightContain(m)||(this.et(n,u,null),o++)})),o}Tt(t){const n=new Map;this.ze.forEach(((u,f)=>{const m=this.ot(f);if(m){if(u.current&&ym(m.target)){const y=new mt(m.target.path);this.It(y).has(f)||this.Et(f,y)||this.et(f,y,$e.newNoDocument(y,t))}u.Be&&(n.set(f,u.ke()),u.qe())}}));let s=Mt();this.He.forEach(((u,f)=>{let m=!0;f.forEachWhile((y=>{const g=this.ot(y);return!g||g.purpose==="TargetPurposeLimboResolution"||(m=!1,!1)})),m&&(s=s.add(u))})),this.je.forEach(((u,f)=>f.setReadTime(t)));const o=new Oh(t,n,this.Ye,this.je,s);return this.je=Wi(),this.Je=Vc(),this.He=Vc(),this.Ye=new ae(Nt),o}Xe(t,n){if(!this.rt(t))return;const s=this.Et(t,n.key)?2:0;this.nt(t).Qe(n.key,s),this.je=this.je.insert(n.key,n),this.Je=this.Je.insert(n.key,this.It(n.key).add(t)),this.He=this.He.insert(n.key,this.dt(n.key).add(t))}et(t,n,s){if(!this.rt(t))return;const o=this.nt(t);this.Et(t,n)?o.Qe(n,1):o.$e(n),this.He=this.He.insert(n,this.dt(n).delete(t)),this.He=this.He.insert(n,this.dt(n).add(t)),s&&(this.je=this.je.insert(n,s))}removeTarget(t){this.ze.delete(t)}_t(t){const n=this.nt(t).ke();return this.Ge.getRemoteKeysForTarget(t).size+n.addedDocuments.size-n.removedDocuments.size}Ue(t){this.nt(t).Ue()}nt(t){let n=this.ze.get(t);return n||(n=new nE,this.ze.set(t,n)),n}dt(t){let n=this.He.get(t);return n||(n=new Ce(Nt),this.He=this.He.insert(t,n)),n}It(t){let n=this.Je.get(t);return n||(n=new Ce(Nt),this.Je=this.Je.insert(t,n)),n}rt(t){const n=this.ot(t)!==null;return n||ot("WatchChangeAggregator","Detected inactive target",t),n}ot(t){const n=this.ze.get(t);return n&&n.Ne?null:this.Ge.At(t)}it(t){this.ze.set(t,new nE),this.Ge.getRemoteKeysForTarget(t).forEach((n=>{this.et(t,n,null)}))}Et(t,n){return this.Ge.getRemoteKeysForTarget(t).has(n)}}function Vc(){return new ae(mt.comparator)}function iE(){return new ae(mt.comparator)}const h2={asc:"ASCENDING",desc:"DESCENDING"},f2={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},d2={and:"AND",or:"OR"};class m2{constructor(t,n){this.databaseId=t,this.useProto3Json=n}}function vm(r,t){return r.useProto3Json||Ah(t)?t:{value:t}}function ch(r,t){return r.useProto3Json?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function S0(r,t){return r.useProto3Json?t.toBase64():t.toUint8Array()}function p2(r,t){return ch(r,t.toTimestamp())}function hi(r){return qt(!!r,49232),St.fromTimestamp((function(n){const s=qr(n);return new te(s.seconds,s.nanos)})(r))}function lp(r,t){return Em(r,t).canonicalString()}function Em(r,t){const n=(function(o){return new Wt(["projects",o.projectId,"databases",o.database])})(r).child("documents");return t===void 0?n:n.child(t)}function A0(r){const t=Wt.fromString(r);return qt(C0(t),10190,{key:t.toString()}),t}function Tm(r,t){return lp(r.databaseId,t.path)}function Jd(r,t){const n=A0(t);if(n.get(1)!==r.databaseId.projectId)throw new ut(tt.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+r.databaseId.projectId);if(n.get(3)!==r.databaseId.database)throw new ut(tt.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+r.databaseId.database);return new mt(R0(n))}function b0(r,t){return lp(r.databaseId,t)}function g2(r){const t=A0(r);return t.length===4?Wt.emptyPath():R0(t)}function Sm(r){return new Wt(["projects",r.databaseId.projectId,"databases",r.databaseId.database]).canonicalString()}function R0(r){return qt(r.length>4&&r.get(4)==="documents",29091,{key:r.toString()}),r.popFirst(5)}function rE(r,t,n){return{name:Tm(r,t),fields:n.value.mapValue.fields}}function y2(r,t){let n;if("targetChange"in t){t.targetChange;const s=(function(g){return g==="NO_CHANGE"?0:g==="ADD"?1:g==="REMOVE"?2:g==="CURRENT"?3:g==="RESET"?4:yt(39313,{state:g})})(t.targetChange.targetChangeType||"NO_CHANGE"),o=t.targetChange.targetIds||[],u=(function(g,E){return g.useProto3Json?(qt(E===void 0||typeof E=="string",58123),Fe.fromBase64String(E||"")):(qt(E===void 0||E instanceof Buffer||E instanceof Uint8Array,16193),Fe.fromUint8Array(E||new Uint8Array))})(r,t.targetChange.resumeToken),f=t.targetChange.cause,m=f&&(function(g){const E=g.code===void 0?tt.UNKNOWN:v0(g.code);return new ut(E,g.message||"")})(f);n=new T0(s,o,u,m||null)}else if("documentChange"in t){t.documentChange;const s=t.documentChange;s.document,s.document.name,s.document.updateTime;const o=Jd(r,s.document.name),u=hi(s.document.updateTime),f=s.document.createTime?hi(s.document.createTime):St.min(),m=new On({mapValue:{fields:s.document.fields}}),y=$e.newFoundDocument(o,u,f,m),g=s.targetIds||[],E=s.removedTargetIds||[];n=new Gc(g,E,y.key,y)}else if("documentDelete"in t){t.documentDelete;const s=t.documentDelete;s.document;const o=Jd(r,s.document),u=s.readTime?hi(s.readTime):St.min(),f=$e.newNoDocument(o,u),m=s.removedTargetIds||[];n=new Gc([],m,f.key,f)}else if("documentRemove"in t){t.documentRemove;const s=t.documentRemove;s.document;const o=Jd(r,s.document),u=s.removedTargetIds||[];n=new Gc([],u,o,null)}else{if(!("filter"in t))return yt(11601,{Rt:t});{t.filter;const s=t.filter;s.targetId;const{count:o=0,unchangedNames:u}=s,f=new a2(o,u),m=s.targetId;n=new E0(m,f)}}return n}function _2(r,t){let n;if(t instanceof tu)n={update:rE(r,t.key,t.value)};else if(t instanceof _0)n={delete:Tm(r,t.key)};else if(t instanceof Gs)n={update:rE(r,t.key,t.data),updateMask:I2(t.fieldMask)};else{if(!(t instanceof i2))return yt(16599,{Vt:t.type});n={verify:Tm(r,t.key)}}return t.fieldTransforms.length>0&&(n.updateTransforms=t.fieldTransforms.map((s=>(function(u,f){const m=f.transform;if(m instanceof lh)return{fieldPath:f.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(m instanceof Fl)return{fieldPath:f.field.canonicalString(),appendMissingElements:{values:m.elements}};if(m instanceof Gl)return{fieldPath:f.field.canonicalString(),removeAllFromArray:{values:m.elements}};if(m instanceof uh)return{fieldPath:f.field.canonicalString(),increment:m.Ae};throw yt(20930,{transform:f.transform})})(0,s)))),t.precondition.isNone||(n.currentDocument=(function(o,u){return u.updateTime!==void 0?{updateTime:p2(o,u.updateTime)}:u.exists!==void 0?{exists:u.exists}:yt(27497)})(r,t.precondition)),n}function v2(r,t){return r&&r.length>0?(qt(t!==void 0,14353),r.map((n=>(function(o,u){let f=o.updateTime?hi(o.updateTime):hi(u);return f.isEqual(St.min())&&(f=hi(u)),new t2(f,o.transformResults||[])})(n,t)))):[]}function E2(r,t){return{documents:[b0(r,t.path)]}}function T2(r,t){const n={structuredQuery:{}},s=t.path;let o;t.collectionGroup!==null?(o=s,n.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(o=s.popLast(),n.structuredQuery.from=[{collectionId:s.lastSegment()}]),n.parent=b0(r,o);const u=(function(g){if(g.length!==0)return I0(gi.create(g,"and"))})(t.filters);u&&(n.structuredQuery.where=u);const f=(function(g){if(g.length!==0)return g.map((E=>(function(R){return{field:Ha(R.field),direction:b2(R.dir)}})(E)))})(t.orderBy);f&&(n.structuredQuery.orderBy=f);const m=vm(r,t.limit);return m!==null&&(n.structuredQuery.limit=m),t.startAt&&(n.structuredQuery.startAt=(function(g){return{before:g.inclusive,values:g.position}})(t.startAt)),t.endAt&&(n.structuredQuery.endAt=(function(g){return{before:!g.inclusive,values:g.position}})(t.endAt)),{ft:n,parent:o}}function S2(r){let t=g2(r.parent);const n=r.structuredQuery,s=n.from?n.from.length:0;let o=null;if(s>0){qt(s===1,65062);const E=n.from[0];E.allDescendants?o=E.collectionId:t=t.child(E.collectionId)}let u=[];n.where&&(u=(function(A){const R=w0(A);return R instanceof gi&&n0(R)?R.getFilters():[R]})(n.where));let f=[];n.orderBy&&(f=(function(A){return A.map((R=>(function(F){return new oh(qa(F.field),(function(q){switch(q){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(F.direction))})(R)))})(n.orderBy));let m=null;n.limit&&(m=(function(A){let R;return R=typeof A=="object"?A.value:A,Ah(R)?null:R})(n.limit));let y=null;n.startAt&&(y=(function(A){const R=!!A.before,k=A.values||[];return new ah(k,R)})(n.startAt));let g=null;return n.endAt&&(g=(function(A){const R=!A.before,k=A.values||[];return new ah(k,R)})(n.endAt)),BC(t,o,f,u,m,"F",y,g)}function A2(r,t){const n=(function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return yt(28987,{purpose:o})}})(t.purpose);return n==null?null:{"goog-listen-tags":n}}function w0(r){return r.unaryFilter!==void 0?(function(n){switch(n.unaryFilter.op){case"IS_NAN":const s=qa(n.unaryFilter.field);return we.create(s,"==",{doubleValue:NaN});case"IS_NULL":const o=qa(n.unaryFilter.field);return we.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const u=qa(n.unaryFilter.field);return we.create(u,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const f=qa(n.unaryFilter.field);return we.create(f,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return yt(61313);default:return yt(60726)}})(r):r.fieldFilter!==void 0?(function(n){return we.create(qa(n.fieldFilter.field),(function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return yt(58110);default:return yt(50506)}})(n.fieldFilter.op),n.fieldFilter.value)})(r):r.compositeFilter!==void 0?(function(n){return gi.create(n.compositeFilter.filters.map((s=>w0(s))),(function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return yt(1026)}})(n.compositeFilter.op))})(r):yt(30097,{filter:r})}function b2(r){return h2[r]}function R2(r){return f2[r]}function w2(r){return d2[r]}function Ha(r){return{fieldPath:r.canonicalString()}}function qa(r){return je.fromServerFormat(r.fieldPath)}function I0(r){return r instanceof we?(function(n){if(n.op==="=="){if(Gv(n.value))return{unaryFilter:{field:Ha(n.field),op:"IS_NAN"}};if(Fv(n.value))return{unaryFilter:{field:Ha(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(Gv(n.value))return{unaryFilter:{field:Ha(n.field),op:"IS_NOT_NAN"}};if(Fv(n.value))return{unaryFilter:{field:Ha(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Ha(n.field),op:R2(n.op),value:n.value}}})(r):r instanceof gi?(function(n){const s=n.getFilters().map((o=>I0(o)));return s.length===1?s[0]:{compositeFilter:{op:w2(n.op),filters:s}}})(r):yt(54877,{filter:r})}function I2(r){const t=[];return r.fields.forEach((n=>t.push(n.canonicalString()))),{fieldPaths:t}}function C0(r){return r.length>=4&&r.get(0)==="projects"&&r.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pr{constructor(t,n,s,o,u=St.min(),f=St.min(),m=Fe.EMPTY_BYTE_STRING,y=null){this.target=t,this.targetId=n,this.purpose=s,this.sequenceNumber=o,this.snapshotVersion=u,this.lastLimboFreeSnapshotVersion=f,this.resumeToken=m,this.expectedCount=y}withSequenceNumber(t){return new Pr(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(t,n){return new Pr(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,t,null)}withExpectedCount(t){return new Pr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,t)}withLastLimboFreeSnapshotVersion(t){return new Pr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class C2{constructor(t){this.yt=t}}function D2(r){const t=S2({parent:r.parent,structuredQuery:r.structuredQuery});return r.limitType==="LAST"?_m(t,t.limit,"L"):t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class O2{constructor(){this.Cn=new N2}addToCollectionParentIndex(t,n){return this.Cn.add(n),J.resolve()}getCollectionParents(t,n){return J.resolve(this.Cn.getEntries(n))}addFieldIndex(t,n){return J.resolve()}deleteFieldIndex(t,n){return J.resolve()}deleteAllFieldIndexes(t){return J.resolve()}createTargetIndexes(t,n){return J.resolve()}getDocumentsMatchingTarget(t,n){return J.resolve(null)}getIndexType(t,n){return J.resolve(0)}getFieldIndexes(t,n){return J.resolve([])}getNextCollectionGroupToUpdate(t){return J.resolve(null)}getMinOffset(t,n){return J.resolve(Hr.min())}getMinOffsetFromCollectionGroup(t,n){return J.resolve(Hr.min())}updateCollectionGroup(t,n,s){return J.resolve()}updateIndexEntries(t,n){return J.resolve()}}class N2{constructor(){this.index={}}add(t){const n=t.lastSegment(),s=t.popLast(),o=this.index[n]||new Ce(Wt.comparator),u=!o.has(s);return this.index[n]=o.add(s),u}has(t){const n=t.lastSegment(),s=t.popLast(),o=this.index[n];return o&&o.has(s)}getEntries(t){return(this.index[t]||new Ce(Wt.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sE={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},D0=41943040;class an{static withCacheSize(t){return new an(t,an.DEFAULT_COLLECTION_PERCENTILE,an.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(t,n,s){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */an.DEFAULT_COLLECTION_PERCENTILE=10,an.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,an.DEFAULT=new an(D0,an.DEFAULT_COLLECTION_PERCENTILE,an.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),an.DISABLED=new an(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class to{constructor(t){this.ar=t}next(){return this.ar+=2,this.ar}static ur(){return new to(0)}static cr(){return new to(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aE="LruGarbageCollector",M2=1048576;function oE([r,t],[n,s]){const o=Nt(r,n);return o===0?Nt(t,s):o}class V2{constructor(t){this.Ir=t,this.buffer=new Ce(oE),this.Er=0}dr(){return++this.Er}Ar(t){const n=[t,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(n);else{const s=this.buffer.last();oE(n,s)<0&&(this.buffer=this.buffer.delete(s).add(n))}}get maxValue(){return this.buffer.last()[0]}}class P2{constructor(t,n,s){this.garbageCollector=t,this.asyncQueue=n,this.localStore=s,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(t){ot(aE,`Garbage collection scheduled in ${t}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",t,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){co(n)?ot(aE,"Ignoring IndexedDB error during garbage collection: ",n):await uo(n)}await this.Vr(3e5)}))}}class x2{constructor(t,n){this.mr=t,this.params=n}calculateTargetCount(t,n){return this.mr.gr(t).next((s=>Math.floor(n/100*s)))}nthSequenceNumber(t,n){if(n===0)return J.resolve(Sh.ce);const s=new V2(n);return this.mr.forEachTarget(t,(o=>s.Ar(o.sequenceNumber))).next((()=>this.mr.pr(t,(o=>s.Ar(o))))).next((()=>s.maxValue))}removeTargets(t,n,s){return this.mr.removeTargets(t,n,s)}removeOrphanedDocuments(t,n){return this.mr.removeOrphanedDocuments(t,n)}collect(t,n){return this.params.cacheSizeCollectionThreshold===-1?(ot("LruGarbageCollector","Garbage collection skipped; disabled"),J.resolve(sE)):this.getCacheSize(t).next((s=>s<this.params.cacheSizeCollectionThreshold?(ot("LruGarbageCollector",`Garbage collection skipped; Cache size ${s} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),sE):this.yr(t,n)))}getCacheSize(t){return this.mr.getCacheSize(t)}yr(t,n){let s,o,u,f,m,y,g;const E=Date.now();return this.calculateTargetCount(t,this.params.percentileToCollect).next((A=>(A>this.params.maximumSequenceNumbersToCollect?(ot("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${A}`),o=this.params.maximumSequenceNumbersToCollect):o=A,f=Date.now(),this.nthSequenceNumber(t,o)))).next((A=>(s=A,m=Date.now(),this.removeTargets(t,s,n)))).next((A=>(u=A,y=Date.now(),this.removeOrphanedDocuments(t,s)))).next((A=>(g=Date.now(),za()<=Ot.DEBUG&&ot("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${f-E}ms
	Determined least recently used ${o} in `+(m-f)+`ms
	Removed ${u} targets in `+(y-m)+`ms
	Removed ${A} documents in `+(g-y)+`ms
Total Duration: ${g-E}ms`),J.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:u,documentsRemoved:A}))))}}function k2(r,t){return new x2(r,t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class L2{constructor(){this.changes=new Fs((t=>t.toString()),((t,n)=>t.isEqual(n))),this.changesApplied=!1}addEntry(t){this.assertNotApplied(),this.changes.set(t.key,t)}removeEntry(t,n){this.assertNotApplied(),this.changes.set(t,$e.newInvalidDocument(t).setReadTime(n))}getEntry(t,n){this.assertNotApplied();const s=this.changes.get(n);return s!==void 0?J.resolve(s):this.getFromCache(t,n)}getEntries(t,n){return this.getAllFromCache(t,n)}apply(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class U2{constructor(t,n){this.overlayedDocument=t,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class z2{constructor(t,n,s,o){this.remoteDocumentCache=t,this.mutationQueue=n,this.documentOverlayCache=s,this.indexManager=o}getDocument(t,n){let s=null;return this.documentOverlayCache.getOverlay(t,n).next((o=>(s=o,this.remoteDocumentCache.getEntry(t,n)))).next((o=>(s!==null&&Pl(s.mutation,o,Hn.empty(),te.now()),o)))}getDocuments(t,n){return this.remoteDocumentCache.getEntries(t,n).next((s=>this.getLocalViewOfDocuments(t,s,Mt()).next((()=>s))))}getLocalViewOfDocuments(t,n,s=Mt()){const o=Vs();return this.populateOverlays(t,o,n).next((()=>this.computeViews(t,n,o,s).next((u=>{let f=wl();return u.forEach(((m,y)=>{f=f.insert(m,y.overlayedDocument)})),f}))))}getOverlayedDocuments(t,n){const s=Vs();return this.populateOverlays(t,s,n).next((()=>this.computeViews(t,n,s,Mt())))}populateOverlays(t,n,s){const o=[];return s.forEach((u=>{n.has(u)||o.push(u)})),this.documentOverlayCache.getOverlays(t,o).next((u=>{u.forEach(((f,m)=>{n.set(f,m)}))}))}computeViews(t,n,s,o){let u=Wi();const f=Vl(),m=(function(){return Vl()})();return n.forEach(((y,g)=>{const E=s.get(g.key);o.has(g.key)&&(E===void 0||E.mutation instanceof Gs)?u=u.insert(g.key,g):E!==void 0?(f.set(g.key,E.mutation.getFieldMask()),Pl(E.mutation,g,E.mutation.getFieldMask(),te.now())):f.set(g.key,Hn.empty())})),this.recalculateAndSaveOverlays(t,u).next((y=>(y.forEach(((g,E)=>f.set(g,E))),n.forEach(((g,E)=>m.set(g,new U2(E,f.get(g)??null)))),m)))}recalculateAndSaveOverlays(t,n){const s=Vl();let o=new ae(((f,m)=>f-m)),u=Mt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(t,n).next((f=>{for(const m of f)m.keys().forEach((y=>{const g=n.get(y);if(g===null)return;let E=s.get(y)||Hn.empty();E=m.applyToLocalView(g,E),s.set(y,E);const A=(o.get(m.batchId)||Mt()).add(y);o=o.insert(m.batchId,A)}))})).next((()=>{const f=[],m=o.getReverseIterator();for(;m.hasNext();){const y=m.getNext(),g=y.key,E=y.value,A=c0();E.forEach((R=>{if(!u.has(R)){const k=g0(n.get(R),s.get(R));k!==null&&A.set(R,k),u=u.add(R)}})),f.push(this.documentOverlayCache.saveOverlays(t,g,A))}return J.waitFor(f)})).next((()=>s))}recalculateAndSaveOverlaysForDocumentKeys(t,n){return this.remoteDocumentCache.getEntries(t,n).next((s=>this.recalculateAndSaveOverlays(t,s)))}getDocumentsMatchingQuery(t,n,s,o){return(function(f){return mt.isDocumentKey(f.path)&&f.collectionGroup===null&&f.filters.length===0})(n)?this.getDocumentsMatchingDocumentQuery(t,n.path):HC(n)?this.getDocumentsMatchingCollectionGroupQuery(t,n,s,o):this.getDocumentsMatchingCollectionQuery(t,n,s,o)}getNextDocuments(t,n,s,o){return this.remoteDocumentCache.getAllFromCollectionGroup(t,n,s,o).next((u=>{const f=o-u.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(t,n,s.largestBatchId,o-u.size):J.resolve(Vs());let m=Bl,y=u;return f.next((g=>J.forEach(g,((E,A)=>(m<A.largestBatchId&&(m=A.largestBatchId),u.get(E)?J.resolve():this.remoteDocumentCache.getEntry(t,E).next((R=>{y=y.insert(E,R)}))))).next((()=>this.populateOverlays(t,g,u))).next((()=>this.computeViews(t,y,g,Mt()))).next((E=>({batchId:m,changes:u0(E)})))))}))}getDocumentsMatchingDocumentQuery(t,n){return this.getDocument(t,new mt(n)).next((s=>{let o=wl();return s.isFoundDocument()&&(o=o.insert(s.key,s)),o}))}getDocumentsMatchingCollectionGroupQuery(t,n,s,o){const u=n.collectionGroup;let f=wl();return this.indexManager.getCollectionParents(t,u).next((m=>J.forEach(m,(y=>{const g=(function(A,R){return new Rh(R,null,A.explicitOrderBy.slice(),A.filters.slice(),A.limit,A.limitType,A.startAt,A.endAt)})(n,y.child(u));return this.getDocumentsMatchingCollectionQuery(t,g,s,o).next((E=>{E.forEach(((A,R)=>{f=f.insert(A,R)}))}))})).next((()=>f))))}getDocumentsMatchingCollectionQuery(t,n,s,o){let u;return this.documentOverlayCache.getOverlaysForCollection(t,n.path,s.largestBatchId).next((f=>(u=f,this.remoteDocumentCache.getDocumentsMatchingQuery(t,n,s,u,o)))).next((f=>{u.forEach(((y,g)=>{const E=g.getKey();f.get(E)===null&&(f=f.insert(E,$e.newInvalidDocument(E)))}));let m=wl();return f.forEach(((y,g)=>{const E=u.get(y);E!==void 0&&Pl(E.mutation,g,Hn.empty(),te.now()),Ih(n,g)&&(m=m.insert(y,g))})),m}))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class B2{constructor(t){this.serializer=t,this.Lr=new Map,this.kr=new Map}getBundleMetadata(t,n){return J.resolve(this.Lr.get(n))}saveBundleMetadata(t,n){return this.Lr.set(n.id,(function(o){return{id:o.id,version:o.version,createTime:hi(o.createTime)}})(n)),J.resolve()}getNamedQuery(t,n){return J.resolve(this.kr.get(n))}saveNamedQuery(t,n){return this.kr.set(n.name,(function(o){return{name:o.name,query:D2(o.bundledQuery),readTime:hi(o.readTime)}})(n)),J.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class H2{constructor(){this.overlays=new ae(mt.comparator),this.qr=new Map}getOverlay(t,n){return J.resolve(this.overlays.get(n))}getOverlays(t,n){const s=Vs();return J.forEach(n,(o=>this.getOverlay(t,o).next((u=>{u!==null&&s.set(o,u)})))).next((()=>s))}saveOverlays(t,n,s){return s.forEach(((o,u)=>{this.St(t,n,u)})),J.resolve()}removeOverlaysForBatchId(t,n,s){const o=this.qr.get(s);return o!==void 0&&(o.forEach((u=>this.overlays=this.overlays.remove(u))),this.qr.delete(s)),J.resolve()}getOverlaysForCollection(t,n,s){const o=Vs(),u=n.length+1,f=new mt(n.child("")),m=this.overlays.getIteratorFrom(f);for(;m.hasNext();){const y=m.getNext().value,g=y.getKey();if(!n.isPrefixOf(g.path))break;g.path.length===u&&y.largestBatchId>s&&o.set(y.getKey(),y)}return J.resolve(o)}getOverlaysForCollectionGroup(t,n,s,o){let u=new ae(((g,E)=>g-E));const f=this.overlays.getIterator();for(;f.hasNext();){const g=f.getNext().value;if(g.getKey().getCollectionGroup()===n&&g.largestBatchId>s){let E=u.get(g.largestBatchId);E===null&&(E=Vs(),u=u.insert(g.largestBatchId,E)),E.set(g.getKey(),g)}}const m=Vs(),y=u.getIterator();for(;y.hasNext()&&(y.getNext().value.forEach(((g,E)=>m.set(g,E))),!(m.size()>=o)););return J.resolve(m)}St(t,n,s){const o=this.overlays.get(s.key);if(o!==null){const f=this.qr.get(o.largestBatchId).delete(s.key);this.qr.set(o.largestBatchId,f)}this.overlays=this.overlays.insert(s.key,new s2(n,s));let u=this.qr.get(n);u===void 0&&(u=Mt(),this.qr.set(n,u)),this.qr.set(n,u.add(s.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class q2{constructor(){this.sessionToken=Fe.EMPTY_BYTE_STRING}getSessionToken(t){return J.resolve(this.sessionToken)}setSessionToken(t,n){return this.sessionToken=n,J.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class up{constructor(){this.Qr=new Ce(xe.$r),this.Ur=new Ce(xe.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(t,n){const s=new xe(t,n);this.Qr=this.Qr.add(s),this.Ur=this.Ur.add(s)}Wr(t,n){t.forEach((s=>this.addReference(s,n)))}removeReference(t,n){this.Gr(new xe(t,n))}zr(t,n){t.forEach((s=>this.removeReference(s,n)))}jr(t){const n=new mt(new Wt([])),s=new xe(n,t),o=new xe(n,t+1),u=[];return this.Ur.forEachInRange([s,o],(f=>{this.Gr(f),u.push(f.key)})),u}Jr(){this.Qr.forEach((t=>this.Gr(t)))}Gr(t){this.Qr=this.Qr.delete(t),this.Ur=this.Ur.delete(t)}Hr(t){const n=new mt(new Wt([])),s=new xe(n,t),o=new xe(n,t+1);let u=Mt();return this.Ur.forEachInRange([s,o],(f=>{u=u.add(f.key)})),u}containsKey(t){const n=new xe(t,0),s=this.Qr.firstAfterOrEqual(n);return s!==null&&t.isEqual(s.key)}}class xe{constructor(t,n){this.key=t,this.Yr=n}static $r(t,n){return mt.comparator(t.key,n.key)||Nt(t.Yr,n.Yr)}static Kr(t,n){return Nt(t.Yr,n.Yr)||mt.comparator(t.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class j2{constructor(t,n){this.indexManager=t,this.referenceDelegate=n,this.mutationQueue=[],this.tr=1,this.Zr=new Ce(xe.$r)}checkEmpty(t){return J.resolve(this.mutationQueue.length===0)}addMutationBatch(t,n,s,o){const u=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const f=new r2(u,n,s,o);this.mutationQueue.push(f);for(const m of o)this.Zr=this.Zr.add(new xe(m.key,u)),this.indexManager.addToCollectionParentIndex(t,m.key.path.popLast());return J.resolve(f)}lookupMutationBatch(t,n){return J.resolve(this.Xr(n))}getNextMutationBatchAfterBatchId(t,n){const s=n+1,o=this.ei(s),u=o<0?0:o;return J.resolve(this.mutationQueue.length>u?this.mutationQueue[u]:null)}getHighestUnacknowledgedBatchId(){return J.resolve(this.mutationQueue.length===0?Wm:this.tr-1)}getAllMutationBatches(t){return J.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(t,n){const s=new xe(n,0),o=new xe(n,Number.POSITIVE_INFINITY),u=[];return this.Zr.forEachInRange([s,o],(f=>{const m=this.Xr(f.Yr);u.push(m)})),J.resolve(u)}getAllMutationBatchesAffectingDocumentKeys(t,n){let s=new Ce(Nt);return n.forEach((o=>{const u=new xe(o,0),f=new xe(o,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([u,f],(m=>{s=s.add(m.Yr)}))})),J.resolve(this.ti(s))}getAllMutationBatchesAffectingQuery(t,n){const s=n.path,o=s.length+1;let u=s;mt.isDocumentKey(u)||(u=u.child(""));const f=new xe(new mt(u),0);let m=new Ce(Nt);return this.Zr.forEachWhile((y=>{const g=y.key.path;return!!s.isPrefixOf(g)&&(g.length===o&&(m=m.add(y.Yr)),!0)}),f),J.resolve(this.ti(m))}ti(t){const n=[];return t.forEach((s=>{const o=this.Xr(s);o!==null&&n.push(o)})),n}removeMutationBatch(t,n){qt(this.ni(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let s=this.Zr;return J.forEach(n.mutations,(o=>{const u=new xe(o.key,n.batchId);return s=s.delete(u),this.referenceDelegate.markPotentiallyOrphaned(t,o.key)})).next((()=>{this.Zr=s}))}ir(t){}containsKey(t,n){const s=new xe(n,0),o=this.Zr.firstAfterOrEqual(s);return J.resolve(n.isEqual(o&&o.key))}performConsistencyCheck(t){return this.mutationQueue.length,J.resolve()}ni(t,n){return this.ei(t)}ei(t){return this.mutationQueue.length===0?0:t-this.mutationQueue[0].batchId}Xr(t){const n=this.ei(t);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class F2{constructor(t){this.ri=t,this.docs=(function(){return new ae(mt.comparator)})(),this.size=0}setIndexManager(t){this.indexManager=t}addEntry(t,n){const s=n.key,o=this.docs.get(s),u=o?o.size:0,f=this.ri(n);return this.docs=this.docs.insert(s,{document:n.mutableCopy(),size:f}),this.size+=f-u,this.indexManager.addToCollectionParentIndex(t,s.path.popLast())}removeEntry(t){const n=this.docs.get(t);n&&(this.docs=this.docs.remove(t),this.size-=n.size)}getEntry(t,n){const s=this.docs.get(n);return J.resolve(s?s.document.mutableCopy():$e.newInvalidDocument(n))}getEntries(t,n){let s=Wi();return n.forEach((o=>{const u=this.docs.get(o);s=s.insert(o,u?u.document.mutableCopy():$e.newInvalidDocument(o))})),J.resolve(s)}getDocumentsMatchingQuery(t,n,s,o){let u=Wi();const f=n.path,m=new mt(f.child("__id-9223372036854775808__")),y=this.docs.getIteratorFrom(m);for(;y.hasNext();){const{key:g,value:{document:E}}=y.getNext();if(!f.isPrefixOf(g.path))break;g.path.length>f.length+1||_C(yC(E),s)<=0||(o.has(E.key)||Ih(n,E))&&(u=u.insert(E.key,E.mutableCopy()))}return J.resolve(u)}getAllFromCollectionGroup(t,n,s,o){yt(9500)}ii(t,n){return J.forEach(this.docs,(s=>n(s)))}newChangeBuffer(t){return new G2(this)}getSize(t){return J.resolve(this.size)}}class G2 extends L2{constructor(t){super(),this.Nr=t}applyChanges(t){const n=[];return this.changes.forEach(((s,o)=>{o.isValidDocument()?n.push(this.Nr.addEntry(t,o)):this.Nr.removeEntry(s)})),J.waitFor(n)}getFromCache(t,n){return this.Nr.getEntry(t,n)}getAllFromCache(t,n){return this.Nr.getEntries(t,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Q2{constructor(t){this.persistence=t,this.si=new Fs((n=>np(n)),ip),this.lastRemoteSnapshotVersion=St.min(),this.highestTargetId=0,this.oi=0,this._i=new up,this.targetCount=0,this.ai=to.ur()}forEachTarget(t,n){return this.si.forEach(((s,o)=>n(o))),J.resolve()}getLastRemoteSnapshotVersion(t){return J.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(t){return J.resolve(this.oi)}allocateTargetId(t){return this.highestTargetId=this.ai.next(),J.resolve(this.highestTargetId)}setTargetsMetadata(t,n,s){return s&&(this.lastRemoteSnapshotVersion=s),n>this.oi&&(this.oi=n),J.resolve()}Pr(t){this.si.set(t.target,t);const n=t.targetId;n>this.highestTargetId&&(this.ai=new to(n),this.highestTargetId=n),t.sequenceNumber>this.oi&&(this.oi=t.sequenceNumber)}addTargetData(t,n){return this.Pr(n),this.targetCount+=1,J.resolve()}updateTargetData(t,n){return this.Pr(n),J.resolve()}removeTargetData(t,n){return this.si.delete(n.target),this._i.jr(n.targetId),this.targetCount-=1,J.resolve()}removeTargets(t,n,s){let o=0;const u=[];return this.si.forEach(((f,m)=>{m.sequenceNumber<=n&&s.get(m.targetId)===null&&(this.si.delete(f),u.push(this.removeMatchingKeysForTargetId(t,m.targetId)),o++)})),J.waitFor(u).next((()=>o))}getTargetCount(t){return J.resolve(this.targetCount)}getTargetData(t,n){const s=this.si.get(n)||null;return J.resolve(s)}addMatchingKeys(t,n,s){return this._i.Wr(n,s),J.resolve()}removeMatchingKeys(t,n,s){this._i.zr(n,s);const o=this.persistence.referenceDelegate,u=[];return o&&n.forEach((f=>{u.push(o.markPotentiallyOrphaned(t,f))})),J.waitFor(u)}removeMatchingKeysForTargetId(t,n){return this._i.jr(n),J.resolve()}getMatchingKeysForTargetId(t,n){const s=this._i.Hr(n);return J.resolve(s)}containsKey(t,n){return J.resolve(this._i.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class O0{constructor(t,n){this.ui={},this.overlays={},this.ci=new Sh(0),this.li=!1,this.li=!0,this.hi=new q2,this.referenceDelegate=t(this),this.Pi=new Q2(this),this.indexManager=new O2,this.remoteDocumentCache=(function(o){return new F2(o)})((s=>this.referenceDelegate.Ti(s))),this.serializer=new C2(n),this.Ii=new B2(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(t){return this.indexManager}getDocumentOverlayCache(t){let n=this.overlays[t.toKey()];return n||(n=new H2,this.overlays[t.toKey()]=n),n}getMutationQueue(t,n){let s=this.ui[t.toKey()];return s||(s=new j2(n,this.referenceDelegate),this.ui[t.toKey()]=s),s}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(t,n,s){ot("MemoryPersistence","Starting transaction:",t);const o=new K2(this.ci.next());return this.referenceDelegate.Ei(),s(o).next((u=>this.referenceDelegate.di(o).next((()=>u)))).toPromise().then((u=>(o.raiseOnCommittedEvent(),u)))}Ai(t,n){return J.or(Object.values(this.ui).map((s=>()=>s.containsKey(t,n))))}}class K2 extends EC{constructor(t){super(),this.currentSequenceNumber=t}}class cp{constructor(t){this.persistence=t,this.Ri=new up,this.Vi=null}static mi(t){return new cp(t)}get fi(){if(this.Vi)return this.Vi;throw yt(60996)}addReference(t,n,s){return this.Ri.addReference(s,n),this.fi.delete(s.toString()),J.resolve()}removeReference(t,n,s){return this.Ri.removeReference(s,n),this.fi.add(s.toString()),J.resolve()}markPotentiallyOrphaned(t,n){return this.fi.add(n.toString()),J.resolve()}removeTarget(t,n){this.Ri.jr(n.targetId).forEach((o=>this.fi.add(o.toString())));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(t,n.targetId).next((o=>{o.forEach((u=>this.fi.add(u.toString())))})).next((()=>s.removeTargetData(t,n)))}Ei(){this.Vi=new Set}di(t){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return J.forEach(this.fi,(s=>{const o=mt.fromPath(s);return this.gi(t,o).next((u=>{u||n.removeEntry(o,St.min())}))})).next((()=>(this.Vi=null,n.apply(t))))}updateLimboDocument(t,n){return this.gi(t,n).next((s=>{s?this.fi.delete(n.toString()):this.fi.add(n.toString())}))}Ti(t){return 0}gi(t,n){return J.or([()=>J.resolve(this.Ri.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(t,n),()=>this.persistence.Ai(t,n)])}}class hh{constructor(t,n){this.persistence=t,this.pi=new Fs((s=>AC(s.path)),((s,o)=>s.isEqual(o))),this.garbageCollector=k2(this,n)}static mi(t,n){return new hh(t,n)}Ei(){}di(t){return J.resolve()}forEachTarget(t,n){return this.persistence.getTargetCache().forEachTarget(t,n)}gr(t){const n=this.wr(t);return this.persistence.getTargetCache().getTargetCount(t).next((s=>n.next((o=>s+o))))}wr(t){let n=0;return this.pr(t,(s=>{n++})).next((()=>n))}pr(t,n){return J.forEach(this.pi,((s,o)=>this.br(t,s,o).next((u=>u?J.resolve():n(o)))))}removeTargets(t,n,s){return this.persistence.getTargetCache().removeTargets(t,n,s)}removeOrphanedDocuments(t,n){let s=0;const o=this.persistence.getRemoteDocumentCache(),u=o.newChangeBuffer();return o.ii(t,(f=>this.br(t,f,n).next((m=>{m||(s++,u.removeEntry(f,St.min()))})))).next((()=>u.apply(t))).next((()=>s))}markPotentiallyOrphaned(t,n){return this.pi.set(n,t.currentSequenceNumber),J.resolve()}removeTarget(t,n){const s=n.withSequenceNumber(t.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(t,s)}addReference(t,n,s){return this.pi.set(s,t.currentSequenceNumber),J.resolve()}removeReference(t,n,s){return this.pi.set(s,t.currentSequenceNumber),J.resolve()}updateLimboDocument(t,n){return this.pi.set(n,t.currentSequenceNumber),J.resolve()}Ti(t){let n=t.key.toString().length;return t.isFoundDocument()&&(n+=qc(t.data.value)),n}br(t,n,s){return J.or([()=>this.persistence.Ai(t,n),()=>this.persistence.getTargetCache().containsKey(t,n),()=>{const o=this.pi.get(n);return J.resolve(o!==void 0&&o>s)}])}getCacheSize(t){return this.persistence.getRemoteDocumentCache().getSize(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hp{constructor(t,n,s,o){this.targetId=t,this.fromCache=n,this.Es=s,this.ds=o}static As(t,n){let s=Mt(),o=Mt();for(const u of n.docChanges)switch(u.type){case 0:s=s.add(u.doc.key);break;case 1:o=o.add(u.doc.key)}return new hp(t,n.fromCache,s,o)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Y2{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(t){this._documentReadCount+=t}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class X2{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return Ub()?8:TC(Ze())>0?6:4})()}initialize(t,n){this.ps=t,this.indexManager=n,this.Rs=!0}getDocumentsMatchingQuery(t,n,s,o){const u={result:null};return this.ys(t,n).next((f=>{u.result=f})).next((()=>{if(!u.result)return this.ws(t,n,o,s).next((f=>{u.result=f}))})).next((()=>{if(u.result)return;const f=new Y2;return this.Ss(t,n,f).next((m=>{if(u.result=m,this.Vs)return this.bs(t,n,f,m.size)}))})).next((()=>u.result))}bs(t,n,s,o){return s.documentReadCount<this.fs?(za()<=Ot.DEBUG&&ot("QueryEngine","SDK will not create cache indexes for query:",Ba(n),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),J.resolve()):(za()<=Ot.DEBUG&&ot("QueryEngine","Query:",Ba(n),"scans",s.documentReadCount,"local documents and returns",o,"documents as results."),s.documentReadCount>this.gs*o?(za()<=Ot.DEBUG&&ot("QueryEngine","The SDK decides to create cache indexes for query:",Ba(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(t,ci(n))):J.resolve())}ys(t,n){if(Xv(n))return J.resolve(null);let s=ci(n);return this.indexManager.getIndexType(t,s).next((o=>o===0?null:(n.limit!==null&&o===1&&(n=_m(n,null,"F"),s=ci(n)),this.indexManager.getDocumentsMatchingTarget(t,s).next((u=>{const f=Mt(...u);return this.ps.getDocuments(t,f).next((m=>this.indexManager.getMinOffset(t,s).next((y=>{const g=this.Ds(n,m);return this.Cs(n,g,f,y.readTime)?this.ys(t,_m(n,null,"F")):this.vs(t,g,n,y)}))))})))))}ws(t,n,s,o){return Xv(n)||o.isEqual(St.min())?J.resolve(null):this.ps.getDocuments(t,s).next((u=>{const f=this.Ds(n,u);return this.Cs(n,f,s,o)?J.resolve(null):(za()<=Ot.DEBUG&&ot("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),Ba(n)),this.vs(t,f,n,gC(o,Bl)).next((m=>m)))}))}Ds(t,n){let s=new Ce(o0(t));return n.forEach(((o,u)=>{Ih(t,u)&&(s=s.add(u))})),s}Cs(t,n,s,o){if(t.limit===null)return!1;if(s.size!==n.size)return!0;const u=t.limitType==="F"?n.last():n.first();return!!u&&(u.hasPendingWrites||u.version.compareTo(o)>0)}Ss(t,n,s){return za()<=Ot.DEBUG&&ot("QueryEngine","Using full collection scan to execute query:",Ba(n)),this.ps.getDocumentsMatchingQuery(t,n,Hr.min(),s)}vs(t,n,s,o){return this.ps.getDocumentsMatchingQuery(t,s,o).next((u=>(n.forEach((f=>{u=u.insert(f.key,f)})),u)))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fp="LocalStore",$2=3e8;class Z2{constructor(t,n,s,o){this.persistence=t,this.Fs=n,this.serializer=o,this.Ms=new ae(Nt),this.xs=new Fs((u=>np(u)),ip),this.Os=new Map,this.Ns=t.getRemoteDocumentCache(),this.Pi=t.getTargetCache(),this.Ii=t.getBundleCache(),this.Bs(s)}Bs(t){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(t),this.indexManager=this.persistence.getIndexManager(t),this.mutationQueue=this.persistence.getMutationQueue(t,this.indexManager),this.localDocuments=new z2(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(t){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(n=>t.collect(n,this.Ms)))}}function J2(r,t,n,s){return new Z2(r,t,n,s)}async function N0(r,t){const n=At(r);return await n.persistence.runTransaction("Handle user change","readonly",(s=>{let o;return n.mutationQueue.getAllMutationBatches(s).next((u=>(o=u,n.Bs(t),n.mutationQueue.getAllMutationBatches(s)))).next((u=>{const f=[],m=[];let y=Mt();for(const g of o){f.push(g.batchId);for(const E of g.mutations)y=y.add(E.key)}for(const g of u){m.push(g.batchId);for(const E of g.mutations)y=y.add(E.key)}return n.localDocuments.getDocuments(s,y).next((g=>({Ls:g,removedBatchIds:f,addedBatchIds:m})))}))}))}function W2(r,t){const n=At(r);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(s=>{const o=t.batch.keys(),u=n.Ns.newChangeBuffer({trackRemovals:!0});return(function(m,y,g,E){const A=g.batch,R=A.keys();let k=J.resolve();return R.forEach((F=>{k=k.next((()=>E.getEntry(y,F))).next((G=>{const q=g.docVersions.get(F);qt(q!==null,48541),G.version.compareTo(q)<0&&(A.applyToRemoteDocument(G,g),G.isValidDocument()&&(G.setReadTime(g.commitVersion),E.addEntry(G)))}))})),k.next((()=>m.mutationQueue.removeMutationBatch(y,A)))})(n,s,t,u).next((()=>u.apply(s))).next((()=>n.mutationQueue.performConsistencyCheck(s))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(s,o,t.batch.batchId))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(s,(function(m){let y=Mt();for(let g=0;g<m.mutationResults.length;++g)m.mutationResults[g].transformResults.length>0&&(y=y.add(m.batch.mutations[g].key));return y})(t)))).next((()=>n.localDocuments.getDocuments(s,o)))}))}function M0(r){const t=At(r);return t.persistence.runTransaction("Get last remote snapshot version","readonly",(n=>t.Pi.getLastRemoteSnapshotVersion(n)))}function tD(r,t){const n=At(r),s=t.snapshotVersion;let o=n.Ms;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(u=>{const f=n.Ns.newChangeBuffer({trackRemovals:!0});o=n.Ms;const m=[];t.targetChanges.forEach(((E,A)=>{const R=o.get(A);if(!R)return;m.push(n.Pi.removeMatchingKeys(u,E.removedDocuments,A).next((()=>n.Pi.addMatchingKeys(u,E.addedDocuments,A))));let k=R.withSequenceNumber(u.currentSequenceNumber);t.targetMismatches.get(A)!==null?k=k.withResumeToken(Fe.EMPTY_BYTE_STRING,St.min()).withLastLimboFreeSnapshotVersion(St.min()):E.resumeToken.approximateByteSize()>0&&(k=k.withResumeToken(E.resumeToken,s)),o=o.insert(A,k),(function(G,q,et){return G.resumeToken.approximateByteSize()===0||q.snapshotVersion.toMicroseconds()-G.snapshotVersion.toMicroseconds()>=$2?!0:et.addedDocuments.size+et.modifiedDocuments.size+et.removedDocuments.size>0})(R,k,E)&&m.push(n.Pi.updateTargetData(u,k))}));let y=Wi(),g=Mt();if(t.documentUpdates.forEach((E=>{t.resolvedLimboDocuments.has(E)&&m.push(n.persistence.referenceDelegate.updateLimboDocument(u,E))})),m.push(eD(u,f,t.documentUpdates).next((E=>{y=E.ks,g=E.qs}))),!s.isEqual(St.min())){const E=n.Pi.getLastRemoteSnapshotVersion(u).next((A=>n.Pi.setTargetsMetadata(u,u.currentSequenceNumber,s)));m.push(E)}return J.waitFor(m).next((()=>f.apply(u))).next((()=>n.localDocuments.getLocalViewOfDocuments(u,y,g))).next((()=>y))})).then((u=>(n.Ms=o,u)))}function eD(r,t,n){let s=Mt(),o=Mt();return n.forEach((u=>s=s.add(u))),t.getEntries(r,s).next((u=>{let f=Wi();return n.forEach(((m,y)=>{const g=u.get(m);y.isFoundDocument()!==g.isFoundDocument()&&(o=o.add(m)),y.isNoDocument()&&y.version.isEqual(St.min())?(t.removeEntry(m,y.readTime),f=f.insert(m,y)):!g.isValidDocument()||y.version.compareTo(g.version)>0||y.version.compareTo(g.version)===0&&g.hasPendingWrites?(t.addEntry(y),f=f.insert(m,y)):ot(fp,"Ignoring outdated watch update for ",m,". Current version:",g.version," Watch version:",y.version)})),{ks:f,qs:o}}))}function nD(r,t){const n=At(r);return n.persistence.runTransaction("Get next mutation batch","readonly",(s=>(t===void 0&&(t=Wm),n.mutationQueue.getNextMutationBatchAfterBatchId(s,t))))}function iD(r,t){const n=At(r);return n.persistence.runTransaction("Allocate target","readwrite",(s=>{let o;return n.Pi.getTargetData(s,t).next((u=>u?(o=u,J.resolve(o)):n.Pi.allocateTargetId(s).next((f=>(o=new Pr(t,f,"TargetPurposeListen",s.currentSequenceNumber),n.Pi.addTargetData(s,o).next((()=>o)))))))})).then((s=>{const o=n.Ms.get(s.targetId);return(o===null||s.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(n.Ms=n.Ms.insert(s.targetId,s),n.xs.set(t,s.targetId)),s}))}async function Am(r,t,n){const s=At(r),o=s.Ms.get(t),u=n?"readwrite":"readwrite-primary";try{n||await s.persistence.runTransaction("Release target",u,(f=>s.persistence.referenceDelegate.removeTarget(f,o)))}catch(f){if(!co(f))throw f;ot(fp,`Failed to update sequence numbers for target ${t}: ${f}`)}s.Ms=s.Ms.remove(t),s.xs.delete(o.target)}function lE(r,t,n){const s=At(r);let o=St.min(),u=Mt();return s.persistence.runTransaction("Execute query","readwrite",(f=>(function(y,g,E){const A=At(y),R=A.xs.get(E);return R!==void 0?J.resolve(A.Ms.get(R)):A.Pi.getTargetData(g,E)})(s,f,ci(t)).next((m=>{if(m)return o=m.lastLimboFreeSnapshotVersion,s.Pi.getMatchingKeysForTargetId(f,m.targetId).next((y=>{u=y}))})).next((()=>s.Fs.getDocumentsMatchingQuery(f,t,n?o:St.min(),n?u:Mt()))).next((m=>(rD(s,jC(t),m),{documents:m,Qs:u})))))}function rD(r,t,n){let s=r.Os.get(t)||St.min();n.forEach(((o,u)=>{u.readTime.compareTo(s)>0&&(s=u.readTime)})),r.Os.set(t,s)}class uE{constructor(){this.activeTargetIds=XC()}zs(t){this.activeTargetIds=this.activeTargetIds.add(t)}js(t){this.activeTargetIds=this.activeTargetIds.delete(t)}Gs(){const t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)}}class sD{constructor(){this.Mo=new uE,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(t){}updateMutationState(t,n,s){}addLocalQueryTarget(t,n=!0){return n&&this.Mo.zs(t),this.xo[t]||"not-current"}updateQueryState(t,n,s){this.xo[t]=n}removeLocalQueryTarget(t){this.Mo.js(t)}isLocalQueryTarget(t){return this.Mo.activeTargetIds.has(t)}clearQueryState(t){delete this.xo[t]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(t){return this.Mo.activeTargetIds.has(t)}start(){return this.Mo=new uE,Promise.resolve()}handleUserChange(t,n,s){}setOnlineState(t){}shutdown(){}writeSequenceNumber(t){}notifyBundleLoaded(t){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aD{Oo(t){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cE="ConnectivityMonitor";class hE{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(t){this.qo.push(t)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){ot(cE,"Network connectivity changed: AVAILABLE");for(const t of this.qo)t(0)}ko(){ot(cE,"Network connectivity changed: UNAVAILABLE");for(const t of this.qo)t(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Pc=null;function bm(){return Pc===null?Pc=(function(){return 268435456+Math.round(2147483648*Math.random())})():Pc++,"0x"+Pc.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wd="RestConnection",oD={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class lD{get $o(){return!1}constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId;const n=t.ssl?"https":"http",s=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.Uo=n+"://"+t.host,this.Ko=`projects/${s}/databases/${o}`,this.Wo=this.databaseId.database===rh?`project_id=${s}`:`project_id=${s}&database_id=${o}`}Go(t,n,s,o,u){const f=bm(),m=this.zo(t,n.toUriEncodedString());ot(Wd,`Sending RPC '${t}' ${f}:`,m,s);const y={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(y,o,u);const{host:g}=new URL(m),E=so(g);return this.Jo(t,m,y,s,E).then((A=>(ot(Wd,`Received RPC '${t}' ${f}: `,A),A)),(A=>{throw $a(Wd,`RPC '${t}' ${f} failed with error: `,A,"url: ",m,"request:",s),A}))}Ho(t,n,s,o,u,f){return this.Go(t,n,s,o,u)}jo(t,n,s){t["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+lo})(),t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach(((o,u)=>t[u]=o)),s&&s.headers.forEach(((o,u)=>t[u]=o))}zo(t,n){const s=oD[t];return`${this.Uo}/v1/${n}:${s}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uD{constructor(t){this.Yo=t.Yo,this.Zo=t.Zo}Xo(t){this.e_=t}t_(t){this.n_=t}r_(t){this.i_=t}onMessage(t){this.s_=t}close(){this.Zo()}send(t){this.Yo(t)}o_(){this.e_()}__(){this.n_()}a_(t){this.i_(t)}u_(t){this.s_(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ye="WebChannelConnection";class cD extends lD{constructor(t){super(t),this.c_=[],this.forceLongPolling=t.forceLongPolling,this.autoDetectLongPolling=t.autoDetectLongPolling,this.useFetchStreams=t.useFetchStreams,this.longPollingOptions=t.longPollingOptions}Jo(t,n,s,o,u){const f=bm();return new Promise(((m,y)=>{const g=new xT;g.setWithCredentials(!0),g.listenOnce(kT.COMPLETE,(()=>{try{switch(g.getLastErrorCode()){case Hc.NO_ERROR:const A=g.getResponseJson();ot(Ye,`XHR for RPC '${t}' ${f} received:`,JSON.stringify(A)),m(A);break;case Hc.TIMEOUT:ot(Ye,`RPC '${t}' ${f} timed out`),y(new ut(tt.DEADLINE_EXCEEDED,"Request time out"));break;case Hc.HTTP_ERROR:const R=g.getStatus();if(ot(Ye,`RPC '${t}' ${f} failed with status:`,R,"response text:",g.getResponseText()),R>0){let k=g.getResponseJson();Array.isArray(k)&&(k=k[0]);const F=k?.error;if(F&&F.status&&F.message){const G=(function(et){const $=et.toLowerCase().replace(/_/g,"-");return Object.values(tt).indexOf($)>=0?$:tt.UNKNOWN})(F.status);y(new ut(G,F.message))}else y(new ut(tt.UNKNOWN,"Server responded with status "+g.getStatus()))}else y(new ut(tt.UNAVAILABLE,"Connection failed."));break;default:yt(9055,{l_:t,streamId:f,h_:g.getLastErrorCode(),P_:g.getLastError()})}}finally{ot(Ye,`RPC '${t}' ${f} completed.`)}}));const E=JSON.stringify(o);ot(Ye,`RPC '${t}' ${f} sending request:`,o),g.send(n,"POST",E,s,15)}))}T_(t,n,s){const o=bm(),u=[this.Uo,"/","google.firestore.v1.Firestore","/",t,"/channel"],f=zT(),m=UT(),y={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},g=this.longPollingOptions.timeoutSeconds;g!==void 0&&(y.longPollingTimeout=Math.round(1e3*g)),this.useFetchStreams&&(y.useFetchStreams=!0),this.jo(y.initMessageHeaders,n,s),y.encodeInitMessageHeaders=!0;const E=u.join("");ot(Ye,`Creating RPC '${t}' stream ${o}: ${E}`,y);const A=f.createWebChannel(E,y);this.I_(A);let R=!1,k=!1;const F=new uD({Yo:q=>{k?ot(Ye,`Not sending because RPC '${t}' stream ${o} is closed:`,q):(R||(ot(Ye,`Opening RPC '${t}' stream ${o} transport.`),A.open(),R=!0),ot(Ye,`RPC '${t}' stream ${o} sending:`,q),A.send(q))},Zo:()=>A.close()}),G=(q,et,$)=>{q.listen(et,(it=>{try{$(it)}catch(Tt){setTimeout((()=>{throw Tt}),0)}}))};return G(A,Rl.EventType.OPEN,(()=>{k||(ot(Ye,`RPC '${t}' stream ${o} transport opened.`),F.o_())})),G(A,Rl.EventType.CLOSE,(()=>{k||(k=!0,ot(Ye,`RPC '${t}' stream ${o} transport closed`),F.a_(),this.E_(A))})),G(A,Rl.EventType.ERROR,(q=>{k||(k=!0,$a(Ye,`RPC '${t}' stream ${o} transport errored. Name:`,q.name,"Message:",q.message),F.a_(new ut(tt.UNAVAILABLE,"The operation could not be completed")))})),G(A,Rl.EventType.MESSAGE,(q=>{if(!k){const et=q.data[0];qt(!!et,16349);const $=et,it=$?.error||$[0]?.error;if(it){ot(Ye,`RPC '${t}' stream ${o} received error:`,it);const Tt=it.status;let ct=(function(b){const I=ve[b];if(I!==void 0)return v0(I)})(Tt),Vt=it.message;ct===void 0&&(ct=tt.INTERNAL,Vt="Unknown error status: "+Tt+" with message "+it.message),k=!0,F.a_(new ut(ct,Vt)),A.close()}else ot(Ye,`RPC '${t}' stream ${o} received:`,et),F.u_(et)}})),G(m,LT.STAT_EVENT,(q=>{q.stat===fm.PROXY?ot(Ye,`RPC '${t}' stream ${o} detected buffering proxy`):q.stat===fm.NOPROXY&&ot(Ye,`RPC '${t}' stream ${o} detected no buffering proxy`)})),setTimeout((()=>{F.__()}),0),F}terminate(){this.c_.forEach((t=>t.close())),this.c_=[]}I_(t){this.c_.push(t)}E_(t){this.c_=this.c_.filter((n=>n===t))}}function tm(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Nh(r){return new m2(r,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class V0{constructor(t,n,s=1e3,o=1.5,u=6e4){this.Mi=t,this.timerId=n,this.d_=s,this.A_=o,this.R_=u,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(t){this.cancel();const n=Math.floor(this.V_+this.y_()),s=Math.max(0,Date.now()-this.f_),o=Math.max(0,n-s);o>0&&ot("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.V_} ms, delay with jitter: ${n} ms, last attempt: ${s} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,o,(()=>(this.f_=Date.now(),t()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fE="PersistentStream";class P0{constructor(t,n,s,o,u,f,m,y){this.Mi=t,this.S_=s,this.b_=o,this.connection=u,this.authCredentialsProvider=f,this.appCheckCredentialsProvider=m,this.listener=y,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new V0(t,n)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(t){this.Q_(),this.stream.send(t)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(t,n){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,t!==4?this.M_.reset():n&&n.code===tt.RESOURCE_EXHAUSTED?(Ji(n.toString()),Ji("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):n&&n.code===tt.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=t,await this.listener.r_(n)}K_(){}auth(){this.state=1;const t=this.W_(this.D_),n=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([s,o])=>{this.D_===n&&this.G_(s,o)}),(s=>{t((()=>{const o=new ut(tt.UNKNOWN,"Fetching auth token failed: "+s.message);return this.z_(o)}))}))}G_(t,n){const s=this.W_(this.D_);this.stream=this.j_(t,n),this.stream.Xo((()=>{s((()=>this.listener.Xo()))})),this.stream.t_((()=>{s((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((o=>{s((()=>this.z_(o)))})),this.stream.onMessage((o=>{s((()=>++this.F_==1?this.J_(o):this.onNext(o)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(t){return ot(fE,`close with error: ${t}`),this.stream=null,this.close(4,t)}W_(t){return n=>{this.Mi.enqueueAndForget((()=>this.D_===t?n():(ot(fE,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class hD extends P0{constructor(t,n,s,o,u,f){super(t,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,s,o,f),this.serializer=u}j_(t,n){return this.connection.T_("Listen",t,n)}J_(t){return this.onNext(t)}onNext(t){this.M_.reset();const n=y2(this.serializer,t),s=(function(u){if(!("targetChange"in u))return St.min();const f=u.targetChange;return f.targetIds&&f.targetIds.length?St.min():f.readTime?hi(f.readTime):St.min()})(t);return this.listener.H_(n,s)}Y_(t){const n={};n.database=Sm(this.serializer),n.addTarget=(function(u,f){let m;const y=f.target;if(m=ym(y)?{documents:E2(u,y)}:{query:T2(u,y).ft},m.targetId=f.targetId,f.resumeToken.approximateByteSize()>0){m.resumeToken=S0(u,f.resumeToken);const g=vm(u,f.expectedCount);g!==null&&(m.expectedCount=g)}else if(f.snapshotVersion.compareTo(St.min())>0){m.readTime=ch(u,f.snapshotVersion.toTimestamp());const g=vm(u,f.expectedCount);g!==null&&(m.expectedCount=g)}return m})(this.serializer,t);const s=A2(this.serializer,t);s&&(n.labels=s),this.q_(n)}Z_(t){const n={};n.database=Sm(this.serializer),n.removeTarget=t,this.q_(n)}}class fD extends P0{constructor(t,n,s,o,u,f){super(t,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,s,o,f),this.serializer=u}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(t,n){return this.connection.T_("Write",t,n)}J_(t){return qt(!!t.streamToken,31322),this.lastStreamToken=t.streamToken,qt(!t.writeResults||t.writeResults.length===0,55816),this.listener.ta()}onNext(t){qt(!!t.streamToken,12678),this.lastStreamToken=t.streamToken,this.M_.reset();const n=v2(t.writeResults,t.commitTime),s=hi(t.commitTime);return this.listener.na(s,n)}ra(){const t={};t.database=Sm(this.serializer),this.q_(t)}ea(t){const n={streamToken:this.lastStreamToken,writes:t.map((s=>_2(this.serializer,s)))};this.q_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dD{}class mD extends dD{constructor(t,n,s,o){super(),this.authCredentials=t,this.appCheckCredentials=n,this.connection=s,this.serializer=o,this.ia=!1}sa(){if(this.ia)throw new ut(tt.FAILED_PRECONDITION,"The client has already been terminated.")}Go(t,n,s,o){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([u,f])=>this.connection.Go(t,Em(n,s),o,u,f))).catch((u=>{throw u.name==="FirebaseError"?(u.code===tt.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new ut(tt.UNKNOWN,u.toString())}))}Ho(t,n,s,o,u){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([f,m])=>this.connection.Ho(t,Em(n,s),o,f,m,u))).catch((f=>{throw f.name==="FirebaseError"?(f.code===tt.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),f):new ut(tt.UNKNOWN,f.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class pD{constructor(t,n){this.asyncQueue=t,this.onlineStateHandler=n,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(t){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${t.toString()}`),this.ca("Offline")))}set(t){this.Pa(),this.oa=0,t==="Online"&&(this.aa=!1),this.ca(t)}ca(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))}la(t){const n=`Could not reach Cloud Firestore backend. ${t}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(Ji(n),this.aa=!1):ot("OnlineStateTracker",n)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hs="RemoteStore";class gD{constructor(t,n,s,o,u){this.localStore=t,this.datastore=n,this.asyncQueue=s,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=u,this.Aa.Oo((f=>{s.enqueueAndForget((async()=>{Qs(this)&&(ot(Hs,"Restarting streams for network reachability change."),await(async function(y){const g=At(y);g.Ea.add(4),await nu(g),g.Ra.set("Unknown"),g.Ea.delete(4),await Mh(g)})(this))}))})),this.Ra=new pD(s,o)}}async function Mh(r){if(Qs(r))for(const t of r.da)await t(!0)}async function nu(r){for(const t of r.da)await t(!1)}function x0(r,t){const n=At(r);n.Ia.has(t.targetId)||(n.Ia.set(t.targetId,t),gp(n)?pp(n):ho(n).O_()&&mp(n,t))}function dp(r,t){const n=At(r),s=ho(n);n.Ia.delete(t),s.O_()&&k0(n,t),n.Ia.size===0&&(s.O_()?s.L_():Qs(n)&&n.Ra.set("Unknown"))}function mp(r,t){if(r.Va.Ue(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(St.min())>0){const n=r.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(n)}ho(r).Y_(t)}function k0(r,t){r.Va.Ue(t),ho(r).Z_(t)}function pp(r){r.Va=new c2({getRemoteKeysForTarget:t=>r.remoteSyncer.getRemoteKeysForTarget(t),At:t=>r.Ia.get(t)||null,ht:()=>r.datastore.serializer.databaseId}),ho(r).start(),r.Ra.ua()}function gp(r){return Qs(r)&&!ho(r).x_()&&r.Ia.size>0}function Qs(r){return At(r).Ea.size===0}function L0(r){r.Va=void 0}async function yD(r){r.Ra.set("Online")}async function _D(r){r.Ia.forEach(((t,n)=>{mp(r,t)}))}async function vD(r,t){L0(r),gp(r)?(r.Ra.ha(t),pp(r)):r.Ra.set("Unknown")}async function ED(r,t,n){if(r.Ra.set("Online"),t instanceof T0&&t.state===2&&t.cause)try{await(async function(o,u){const f=u.cause;for(const m of u.targetIds)o.Ia.has(m)&&(await o.remoteSyncer.rejectListen(m,f),o.Ia.delete(m),o.Va.removeTarget(m))})(r,t)}catch(s){ot(Hs,"Failed to remove targets %s: %s ",t.targetIds.join(","),s),await fh(r,s)}else if(t instanceof Gc?r.Va.Ze(t):t instanceof E0?r.Va.st(t):r.Va.tt(t),!n.isEqual(St.min()))try{const s=await M0(r.localStore);n.compareTo(s)>=0&&await(function(u,f){const m=u.Va.Tt(f);return m.targetChanges.forEach(((y,g)=>{if(y.resumeToken.approximateByteSize()>0){const E=u.Ia.get(g);E&&u.Ia.set(g,E.withResumeToken(y.resumeToken,f))}})),m.targetMismatches.forEach(((y,g)=>{const E=u.Ia.get(y);if(!E)return;u.Ia.set(y,E.withResumeToken(Fe.EMPTY_BYTE_STRING,E.snapshotVersion)),k0(u,y);const A=new Pr(E.target,y,g,E.sequenceNumber);mp(u,A)})),u.remoteSyncer.applyRemoteEvent(m)})(r,n)}catch(s){ot(Hs,"Failed to raise snapshot:",s),await fh(r,s)}}async function fh(r,t,n){if(!co(t))throw t;r.Ea.add(1),await nu(r),r.Ra.set("Offline"),n||(n=()=>M0(r.localStore)),r.asyncQueue.enqueueRetryable((async()=>{ot(Hs,"Retrying IndexedDB access"),await n(),r.Ea.delete(1),await Mh(r)}))}function U0(r,t){return t().catch((n=>fh(r,n,t)))}async function Vh(r){const t=At(r),n=Gr(t);let s=t.Ta.length>0?t.Ta[t.Ta.length-1].batchId:Wm;for(;TD(t);)try{const o=await nD(t.localStore,s);if(o===null){t.Ta.length===0&&n.L_();break}s=o.batchId,SD(t,o)}catch(o){await fh(t,o)}z0(t)&&B0(t)}function TD(r){return Qs(r)&&r.Ta.length<10}function SD(r,t){r.Ta.push(t);const n=Gr(r);n.O_()&&n.X_&&n.ea(t.mutations)}function z0(r){return Qs(r)&&!Gr(r).x_()&&r.Ta.length>0}function B0(r){Gr(r).start()}async function AD(r){Gr(r).ra()}async function bD(r){const t=Gr(r);for(const n of r.Ta)t.ea(n.mutations)}async function RD(r,t,n){const s=r.Ta.shift(),o=ap.from(s,t,n);await U0(r,(()=>r.remoteSyncer.applySuccessfulWrite(o))),await Vh(r)}async function wD(r,t){t&&Gr(r).X_&&await(async function(s,o){if((function(f){return o2(f)&&f!==tt.ABORTED})(o.code)){const u=s.Ta.shift();Gr(s).B_(),await U0(s,(()=>s.remoteSyncer.rejectFailedWrite(u.batchId,o))),await Vh(s)}})(r,t),z0(r)&&B0(r)}async function dE(r,t){const n=At(r);n.asyncQueue.verifyOperationInProgress(),ot(Hs,"RemoteStore received new credentials");const s=Qs(n);n.Ea.add(3),await nu(n),s&&n.Ra.set("Unknown"),await n.remoteSyncer.handleCredentialChange(t),n.Ea.delete(3),await Mh(n)}async function ID(r,t){const n=At(r);t?(n.Ea.delete(2),await Mh(n)):t||(n.Ea.add(2),await nu(n),n.Ra.set("Unknown"))}function ho(r){return r.ma||(r.ma=(function(n,s,o){const u=At(n);return u.sa(),new hD(s,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)})(r.datastore,r.asyncQueue,{Xo:yD.bind(null,r),t_:_D.bind(null,r),r_:vD.bind(null,r),H_:ED.bind(null,r)}),r.da.push((async t=>{t?(r.ma.B_(),gp(r)?pp(r):r.Ra.set("Unknown")):(await r.ma.stop(),L0(r))}))),r.ma}function Gr(r){return r.fa||(r.fa=(function(n,s,o){const u=At(n);return u.sa(),new fD(s,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)})(r.datastore,r.asyncQueue,{Xo:()=>Promise.resolve(),t_:AD.bind(null,r),r_:wD.bind(null,r),ta:bD.bind(null,r),na:RD.bind(null,r)}),r.da.push((async t=>{t?(r.fa.B_(),await Vh(r)):(await r.fa.stop(),r.Ta.length>0&&(ot(Hs,`Stopping write stream with ${r.Ta.length} pending writes`),r.Ta=[]))}))),r.fa}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yp{constructor(t,n,s,o,u){this.asyncQueue=t,this.timerId=n,this.targetTimeMs=s,this.op=o,this.removalCallback=u,this.deferred=new zr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((f=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(t,n,s,o,u){const f=Date.now()+s,m=new yp(t,n,f,o,u);return m.start(s),m}start(t){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new ut(tt.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((t=>this.deferred.resolve(t)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function _p(r,t){if(Ji("AsyncQueue",`${t}: ${r}`),co(r))return new ut(tt.UNAVAILABLE,`${t}: ${r}`);throw r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qa{static emptySet(t){return new Qa(t.comparator)}constructor(t){this.comparator=t?(n,s)=>t(n,s)||mt.comparator(n.key,s.key):(n,s)=>mt.comparator(n.key,s.key),this.keyedMap=wl(),this.sortedSet=new ae(this.comparator)}has(t){return this.keyedMap.get(t)!=null}get(t){return this.keyedMap.get(t)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(t){const n=this.keyedMap.get(t);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(t){this.sortedSet.inorderTraversal(((n,s)=>(t(n),!1)))}add(t){const n=this.delete(t.key);return n.copy(n.keyedMap.insert(t.key,t),n.sortedSet.insert(t,null))}delete(t){const n=this.get(t);return n?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(n)):this}isEqual(t){if(!(t instanceof Qa)||this.size!==t.size)return!1;const n=this.sortedSet.getIterator(),s=t.sortedSet.getIterator();for(;n.hasNext();){const o=n.getNext().key,u=s.getNext().key;if(!o.isEqual(u))return!1}return!0}toString(){const t=[];return this.forEach((n=>{t.push(n.toString())})),t.length===0?"DocumentSet ()":`DocumentSet (
  `+t.join(`  
`)+`
)`}copy(t,n){const s=new Qa;return s.comparator=this.comparator,s.keyedMap=t,s.sortedSet=n,s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mE{constructor(){this.ga=new ae(mt.comparator)}track(t){const n=t.doc.key,s=this.ga.get(n);s?t.type!==0&&s.type===3?this.ga=this.ga.insert(n,t):t.type===3&&s.type!==1?this.ga=this.ga.insert(n,{type:s.type,doc:t.doc}):t.type===2&&s.type===2?this.ga=this.ga.insert(n,{type:2,doc:t.doc}):t.type===2&&s.type===0?this.ga=this.ga.insert(n,{type:0,doc:t.doc}):t.type===1&&s.type===0?this.ga=this.ga.remove(n):t.type===1&&s.type===2?this.ga=this.ga.insert(n,{type:1,doc:s.doc}):t.type===0&&s.type===1?this.ga=this.ga.insert(n,{type:2,doc:t.doc}):yt(63341,{Rt:t,pa:s}):this.ga=this.ga.insert(n,t)}ya(){const t=[];return this.ga.inorderTraversal(((n,s)=>{t.push(s)})),t}}class eo{constructor(t,n,s,o,u,f,m,y,g){this.query=t,this.docs=n,this.oldDocs=s,this.docChanges=o,this.mutatedKeys=u,this.fromCache=f,this.syncStateChanged=m,this.excludesMetadataChanges=y,this.hasCachedResults=g}static fromInitialDocuments(t,n,s,o,u){const f=[];return n.forEach((m=>{f.push({type:0,doc:m})})),new eo(t,n,Qa.emptySet(n),f,s,o,!0,!1,u)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(t){if(!(this.fromCache===t.fromCache&&this.hasCachedResults===t.hasCachedResults&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&wh(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;const n=this.docChanges,s=t.docChanges;if(n.length!==s.length)return!1;for(let o=0;o<n.length;o++)if(n[o].type!==s[o].type||!n[o].doc.isEqual(s[o].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CD{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((t=>t.Da()))}}class DD{constructor(){this.queries=pE(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,s){const o=At(n),u=o.queries;o.queries=pE(),u.forEach(((f,m)=>{for(const y of m.Sa)y.onError(s)}))})(this,new ut(tt.ABORTED,"Firestore shutting down"))}}function pE(){return new Fs((r=>a0(r)),wh)}async function OD(r,t){const n=At(r);let s=3;const o=t.query;let u=n.queries.get(o);u?!u.ba()&&t.Da()&&(s=2):(u=new CD,s=t.Da()?0:1);try{switch(s){case 0:u.wa=await n.onListen(o,!0);break;case 1:u.wa=await n.onListen(o,!1);break;case 2:await n.onFirstRemoteStoreListen(o)}}catch(f){const m=_p(f,`Initialization of query '${Ba(t.query)}' failed`);return void t.onError(m)}n.queries.set(o,u),u.Sa.push(t),t.va(n.onlineState),u.wa&&t.Fa(u.wa)&&vp(n)}async function ND(r,t){const n=At(r),s=t.query;let o=3;const u=n.queries.get(s);if(u){const f=u.Sa.indexOf(t);f>=0&&(u.Sa.splice(f,1),u.Sa.length===0?o=t.Da()?0:1:!u.ba()&&t.Da()&&(o=2))}switch(o){case 0:return n.queries.delete(s),n.onUnlisten(s,!0);case 1:return n.queries.delete(s),n.onUnlisten(s,!1);case 2:return n.onLastRemoteStoreUnlisten(s);default:return}}function MD(r,t){const n=At(r);let s=!1;for(const o of t){const u=o.query,f=n.queries.get(u);if(f){for(const m of f.Sa)m.Fa(o)&&(s=!0);f.wa=o}}s&&vp(n)}function VD(r,t,n){const s=At(r),o=s.queries.get(t);if(o)for(const u of o.Sa)u.onError(n);s.queries.delete(t)}function vp(r){r.Ca.forEach((t=>{t.next()}))}var Rm,gE;(gE=Rm||(Rm={})).Ma="default",gE.Cache="cache";class PD{constructor(t,n,s){this.query=t,this.xa=n,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=s||{}}Fa(t){if(!this.options.includeMetadataChanges){const s=[];for(const o of t.docChanges)o.type!==3&&s.push(o);t=new eo(t.query,t.docs,t.oldDocs,s,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0,t.hasCachedResults)}let n=!1;return this.Oa?this.Ba(t)&&(this.xa.next(t),n=!0):this.La(t,this.onlineState)&&(this.ka(t),n=!0),this.Na=t,n}onError(t){this.xa.error(t)}va(t){this.onlineState=t;let n=!1;return this.Na&&!this.Oa&&this.La(this.Na,t)&&(this.ka(this.Na),n=!0),n}La(t,n){if(!t.fromCache||!this.Da())return!0;const s=n!=="Offline";return(!this.options.qa||!s)&&(!t.docs.isEmpty()||t.hasCachedResults||n==="Offline")}Ba(t){if(t.docChanges.length>0)return!0;const n=this.Na&&this.Na.hasPendingWrites!==t.hasPendingWrites;return!(!t.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ka(t){t=eo.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache,t.hasCachedResults),this.Oa=!0,this.xa.next(t)}Da(){return this.options.source!==Rm.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class H0{constructor(t){this.key=t}}class q0{constructor(t){this.key=t}}class xD{constructor(t,n){this.query=t,this.Ya=n,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=Mt(),this.mutatedKeys=Mt(),this.eu=o0(t),this.tu=new Qa(this.eu)}get nu(){return this.Ya}ru(t,n){const s=n?n.iu:new mE,o=n?n.tu:this.tu;let u=n?n.mutatedKeys:this.mutatedKeys,f=o,m=!1;const y=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,g=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(t.inorderTraversal(((E,A)=>{const R=o.get(E),k=Ih(this.query,A)?A:null,F=!!R&&this.mutatedKeys.has(R.key),G=!!k&&(k.hasLocalMutations||this.mutatedKeys.has(k.key)&&k.hasCommittedMutations);let q=!1;R&&k?R.data.isEqual(k.data)?F!==G&&(s.track({type:3,doc:k}),q=!0):this.su(R,k)||(s.track({type:2,doc:k}),q=!0,(y&&this.eu(k,y)>0||g&&this.eu(k,g)<0)&&(m=!0)):!R&&k?(s.track({type:0,doc:k}),q=!0):R&&!k&&(s.track({type:1,doc:R}),q=!0,(y||g)&&(m=!0)),q&&(k?(f=f.add(k),u=G?u.add(E):u.delete(E)):(f=f.delete(E),u=u.delete(E)))})),this.query.limit!==null)for(;f.size>this.query.limit;){const E=this.query.limitType==="F"?f.last():f.first();f=f.delete(E.key),u=u.delete(E.key),s.track({type:1,doc:E})}return{tu:f,iu:s,Cs:m,mutatedKeys:u}}su(t,n){return t.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(t,n,s,o){const u=this.tu;this.tu=t.tu,this.mutatedKeys=t.mutatedKeys;const f=t.iu.ya();f.sort(((E,A)=>(function(k,F){const G=q=>{switch(q){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return yt(20277,{Rt:q})}};return G(k)-G(F)})(E.type,A.type)||this.eu(E.doc,A.doc))),this.ou(s),o=o??!1;const m=n&&!o?this._u():[],y=this.Xa.size===0&&this.current&&!o?1:0,g=y!==this.Za;return this.Za=y,f.length!==0||g?{snapshot:new eo(this.query,t.tu,u,f,t.mutatedKeys,y===0,g,!1,!!s&&s.resumeToken.approximateByteSize()>0),au:m}:{au:m}}va(t){return this.current&&t==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new mE,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(t){return!this.Ya.has(t)&&!!this.tu.has(t)&&!this.tu.get(t).hasLocalMutations}ou(t){t&&(t.addedDocuments.forEach((n=>this.Ya=this.Ya.add(n))),t.modifiedDocuments.forEach((n=>{})),t.removedDocuments.forEach((n=>this.Ya=this.Ya.delete(n))),this.current=t.current)}_u(){if(!this.current)return[];const t=this.Xa;this.Xa=Mt(),this.tu.forEach((s=>{this.uu(s.key)&&(this.Xa=this.Xa.add(s.key))}));const n=[];return t.forEach((s=>{this.Xa.has(s)||n.push(new q0(s))})),this.Xa.forEach((s=>{t.has(s)||n.push(new H0(s))})),n}cu(t){this.Ya=t.Qs,this.Xa=Mt();const n=this.ru(t.documents);return this.applyChanges(n,!0)}lu(){return eo.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const Ep="SyncEngine";class kD{constructor(t,n,s){this.query=t,this.targetId=n,this.view=s}}class LD{constructor(t){this.key=t,this.hu=!1}}class UD{constructor(t,n,s,o,u,f){this.localStore=t,this.remoteStore=n,this.eventManager=s,this.sharedClientState=o,this.currentUser=u,this.maxConcurrentLimboResolutions=f,this.Pu={},this.Tu=new Fs((m=>a0(m)),wh),this.Iu=new Map,this.Eu=new Set,this.du=new ae(mt.comparator),this.Au=new Map,this.Ru=new up,this.Vu={},this.mu=new Map,this.fu=to.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function zD(r,t,n=!0){const s=Y0(r);let o;const u=s.Tu.get(t);return u?(s.sharedClientState.addLocalQueryTarget(u.targetId),o=u.view.lu()):o=await j0(s,t,n,!0),o}async function BD(r,t){const n=Y0(r);await j0(n,t,!0,!1)}async function j0(r,t,n,s){const o=await iD(r.localStore,ci(t)),u=o.targetId,f=r.sharedClientState.addLocalQueryTarget(u,n);let m;return s&&(m=await HD(r,t,u,f==="current",o.resumeToken)),r.isPrimaryClient&&n&&x0(r.remoteStore,o),m}async function HD(r,t,n,s,o){r.pu=(A,R,k)=>(async function(G,q,et,$){let it=q.view.ru(et);it.Cs&&(it=await lE(G.localStore,q.query,!1).then((({documents:M})=>q.view.ru(M,it))));const Tt=$&&$.targetChanges.get(q.targetId),ct=$&&$.targetMismatches.get(q.targetId)!=null,Vt=q.view.applyChanges(it,G.isPrimaryClient,Tt,ct);return _E(G,q.targetId,Vt.au),Vt.snapshot})(r,A,R,k);const u=await lE(r.localStore,t,!0),f=new xD(t,u.Qs),m=f.ru(u.documents),y=eu.createSynthesizedTargetChangeForCurrentChange(n,s&&r.onlineState!=="Offline",o),g=f.applyChanges(m,r.isPrimaryClient,y);_E(r,n,g.au);const E=new kD(t,n,f);return r.Tu.set(t,E),r.Iu.has(n)?r.Iu.get(n).push(t):r.Iu.set(n,[t]),g.snapshot}async function qD(r,t,n){const s=At(r),o=s.Tu.get(t),u=s.Iu.get(o.targetId);if(u.length>1)return s.Iu.set(o.targetId,u.filter((f=>!wh(f,t)))),void s.Tu.delete(t);s.isPrimaryClient?(s.sharedClientState.removeLocalQueryTarget(o.targetId),s.sharedClientState.isActiveQueryTarget(o.targetId)||await Am(s.localStore,o.targetId,!1).then((()=>{s.sharedClientState.clearQueryState(o.targetId),n&&dp(s.remoteStore,o.targetId),wm(s,o.targetId)})).catch(uo)):(wm(s,o.targetId),await Am(s.localStore,o.targetId,!0))}async function jD(r,t){const n=At(r),s=n.Tu.get(t),o=n.Iu.get(s.targetId);n.isPrimaryClient&&o.length===1&&(n.sharedClientState.removeLocalQueryTarget(s.targetId),dp(n.remoteStore,s.targetId))}async function FD(r,t,n){const s=ZD(r);try{const o=await(function(f,m){const y=At(f),g=te.now(),E=m.reduce(((k,F)=>k.add(F.key)),Mt());let A,R;return y.persistence.runTransaction("Locally write mutations","readwrite",(k=>{let F=Wi(),G=Mt();return y.Ns.getEntries(k,E).next((q=>{F=q,F.forEach(((et,$)=>{$.isValidDocument()||(G=G.add(et))}))})).next((()=>y.localDocuments.getOverlayedDocuments(k,F))).next((q=>{A=q;const et=[];for(const $ of m){const it=n2($,A.get($.key).overlayedDocument);it!=null&&et.push(new Gs($.key,it,WT(it.value.mapValue),Yi.exists(!0)))}return y.mutationQueue.addMutationBatch(k,g,et,m)})).next((q=>{R=q;const et=q.applyToLocalDocumentSet(A,G);return y.documentOverlayCache.saveOverlays(k,q.batchId,et)}))})).then((()=>({batchId:R.batchId,changes:u0(A)})))})(s.localStore,t);s.sharedClientState.addPendingMutation(o.batchId),(function(f,m,y){let g=f.Vu[f.currentUser.toKey()];g||(g=new ae(Nt)),g=g.insert(m,y),f.Vu[f.currentUser.toKey()]=g})(s,o.batchId,n),await iu(s,o.changes),await Vh(s.remoteStore)}catch(o){const u=_p(o,"Failed to persist write");n.reject(u)}}async function F0(r,t){const n=At(r);try{const s=await tD(n.localStore,t);t.targetChanges.forEach(((o,u)=>{const f=n.Au.get(u);f&&(qt(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1,22616),o.addedDocuments.size>0?f.hu=!0:o.modifiedDocuments.size>0?qt(f.hu,14607):o.removedDocuments.size>0&&(qt(f.hu,42227),f.hu=!1))})),await iu(n,s,t)}catch(s){await uo(s)}}function yE(r,t,n){const s=At(r);if(s.isPrimaryClient&&n===0||!s.isPrimaryClient&&n===1){const o=[];s.Tu.forEach(((u,f)=>{const m=f.view.va(t);m.snapshot&&o.push(m.snapshot)})),(function(f,m){const y=At(f);y.onlineState=m;let g=!1;y.queries.forEach(((E,A)=>{for(const R of A.Sa)R.va(m)&&(g=!0)})),g&&vp(y)})(s.eventManager,t),o.length&&s.Pu.H_(o),s.onlineState=t,s.isPrimaryClient&&s.sharedClientState.setOnlineState(t)}}async function GD(r,t,n){const s=At(r);s.sharedClientState.updateQueryState(t,"rejected",n);const o=s.Au.get(t),u=o&&o.key;if(u){let f=new ae(mt.comparator);f=f.insert(u,$e.newNoDocument(u,St.min()));const m=Mt().add(u),y=new Oh(St.min(),new Map,new ae(Nt),f,m);await F0(s,y),s.du=s.du.remove(u),s.Au.delete(t),Tp(s)}else await Am(s.localStore,t,!1).then((()=>wm(s,t,n))).catch(uo)}async function QD(r,t){const n=At(r),s=t.batch.batchId;try{const o=await W2(n.localStore,t);Q0(n,s,null),G0(n,s),n.sharedClientState.updateMutationState(s,"acknowledged"),await iu(n,o)}catch(o){await uo(o)}}async function KD(r,t,n){const s=At(r);try{const o=await(function(f,m){const y=At(f);return y.persistence.runTransaction("Reject batch","readwrite-primary",(g=>{let E;return y.mutationQueue.lookupMutationBatch(g,m).next((A=>(qt(A!==null,37113),E=A.keys(),y.mutationQueue.removeMutationBatch(g,A)))).next((()=>y.mutationQueue.performConsistencyCheck(g))).next((()=>y.documentOverlayCache.removeOverlaysForBatchId(g,E,m))).next((()=>y.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(g,E))).next((()=>y.localDocuments.getDocuments(g,E)))}))})(s.localStore,t);Q0(s,t,n),G0(s,t),s.sharedClientState.updateMutationState(t,"rejected",n),await iu(s,o)}catch(o){await uo(o)}}function G0(r,t){(r.mu.get(t)||[]).forEach((n=>{n.resolve()})),r.mu.delete(t)}function Q0(r,t,n){const s=At(r);let o=s.Vu[s.currentUser.toKey()];if(o){const u=o.get(t);u&&(n?u.reject(n):u.resolve(),o=o.remove(t)),s.Vu[s.currentUser.toKey()]=o}}function wm(r,t,n=null){r.sharedClientState.removeLocalQueryTarget(t);for(const s of r.Iu.get(t))r.Tu.delete(s),n&&r.Pu.yu(s,n);r.Iu.delete(t),r.isPrimaryClient&&r.Ru.jr(t).forEach((s=>{r.Ru.containsKey(s)||K0(r,s)}))}function K0(r,t){r.Eu.delete(t.path.canonicalString());const n=r.du.get(t);n!==null&&(dp(r.remoteStore,n),r.du=r.du.remove(t),r.Au.delete(n),Tp(r))}function _E(r,t,n){for(const s of n)s instanceof H0?(r.Ru.addReference(s.key,t),YD(r,s)):s instanceof q0?(ot(Ep,"Document no longer in limbo: "+s.key),r.Ru.removeReference(s.key,t),r.Ru.containsKey(s.key)||K0(r,s.key)):yt(19791,{wu:s})}function YD(r,t){const n=t.key,s=n.path.canonicalString();r.du.get(n)||r.Eu.has(s)||(ot(Ep,"New document in limbo: "+n),r.Eu.add(s),Tp(r))}function Tp(r){for(;r.Eu.size>0&&r.du.size<r.maxConcurrentLimboResolutions;){const t=r.Eu.values().next().value;r.Eu.delete(t);const n=new mt(Wt.fromString(t)),s=r.fu.next();r.Au.set(s,new LD(n)),r.du=r.du.insert(n,s),x0(r.remoteStore,new Pr(ci(rp(n.path)),s,"TargetPurposeLimboResolution",Sh.ce))}}async function iu(r,t,n){const s=At(r),o=[],u=[],f=[];s.Tu.isEmpty()||(s.Tu.forEach(((m,y)=>{f.push(s.pu(y,t,n).then((g=>{if((g||n)&&s.isPrimaryClient){const E=g?!g.fromCache:n?.targetChanges.get(y.targetId)?.current;s.sharedClientState.updateQueryState(y.targetId,E?"current":"not-current")}if(g){o.push(g);const E=hp.As(y.targetId,g);u.push(E)}})))})),await Promise.all(f),s.Pu.H_(o),await(async function(y,g){const E=At(y);try{await E.persistence.runTransaction("notifyLocalViewChanges","readwrite",(A=>J.forEach(g,(R=>J.forEach(R.Es,(k=>E.persistence.referenceDelegate.addReference(A,R.targetId,k))).next((()=>J.forEach(R.ds,(k=>E.persistence.referenceDelegate.removeReference(A,R.targetId,k)))))))))}catch(A){if(!co(A))throw A;ot(fp,"Failed to update sequence numbers: "+A)}for(const A of g){const R=A.targetId;if(!A.fromCache){const k=E.Ms.get(R),F=k.snapshotVersion,G=k.withLastLimboFreeSnapshotVersion(F);E.Ms=E.Ms.insert(R,G)}}})(s.localStore,u))}async function XD(r,t){const n=At(r);if(!n.currentUser.isEqual(t)){ot(Ep,"User change. New user:",t.toKey());const s=await N0(n.localStore,t);n.currentUser=t,(function(u,f){u.mu.forEach((m=>{m.forEach((y=>{y.reject(new ut(tt.CANCELLED,f))}))})),u.mu.clear()})(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(t,s.removedBatchIds,s.addedBatchIds),await iu(n,s.Ls)}}function $D(r,t){const n=At(r),s=n.Au.get(t);if(s&&s.hu)return Mt().add(s.key);{let o=Mt();const u=n.Iu.get(t);if(!u)return o;for(const f of u){const m=n.Tu.get(f);o=o.unionWith(m.view.nu)}return o}}function Y0(r){const t=At(r);return t.remoteStore.remoteSyncer.applyRemoteEvent=F0.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=$D.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=GD.bind(null,t),t.Pu.H_=MD.bind(null,t.eventManager),t.Pu.yu=VD.bind(null,t.eventManager),t}function ZD(r){const t=At(r);return t.remoteStore.remoteSyncer.applySuccessfulWrite=QD.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=KD.bind(null,t),t}class dh{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(t){this.serializer=Nh(t.databaseInfo.databaseId),this.sharedClientState=this.Du(t),this.persistence=this.Cu(t),await this.persistence.start(),this.localStore=this.vu(t),this.gcScheduler=this.Fu(t,this.localStore),this.indexBackfillerScheduler=this.Mu(t,this.localStore)}Fu(t,n){return null}Mu(t,n){return null}vu(t){return J2(this.persistence,new X2,t.initialUser,this.serializer)}Cu(t){return new O0(cp.mi,this.serializer)}Du(t){return new sD}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}dh.provider={build:()=>new dh};class JD extends dh{constructor(t){super(),this.cacheSizeBytes=t}Fu(t,n){qt(this.persistence.referenceDelegate instanceof hh,46915);const s=this.persistence.referenceDelegate.garbageCollector;return new P2(s,t.asyncQueue,n)}Cu(t){const n=this.cacheSizeBytes!==void 0?an.withCacheSize(this.cacheSizeBytes):an.DEFAULT;return new O0((s=>hh.mi(s,n)),this.serializer)}}class Im{async initialize(t,n){this.localStore||(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=s=>yE(this.syncEngine,s,1),this.remoteStore.remoteSyncer.handleCredentialChange=XD.bind(null,this.syncEngine),await ID(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(t){return(function(){return new DD})()}createDatastore(t){const n=Nh(t.databaseInfo.databaseId),s=(function(u){return new cD(u)})(t.databaseInfo);return(function(u,f,m,y){return new mD(u,f,m,y)})(t.authCredentials,t.appCheckCredentials,s,n)}createRemoteStore(t){return(function(s,o,u,f,m){return new gD(s,o,u,f,m)})(this.localStore,this.datastore,t.asyncQueue,(n=>yE(this.syncEngine,n,0)),(function(){return hE.v()?new hE:new aD})())}createSyncEngine(t,n){return(function(o,u,f,m,y,g,E){const A=new UD(o,u,f,m,y,g);return E&&(A.gu=!0),A})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,n)}async terminate(){await(async function(n){const s=At(n);ot(Hs,"RemoteStore shutting down."),s.Ea.add(5),await nu(s),s.Aa.shutdown(),s.Ra.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}Im.provider={build:()=>new Im};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WD{constructor(t){this.observer=t,this.muted=!1}next(t){this.muted||this.observer.next&&this.Ou(this.observer.next,t)}error(t){this.muted||(this.observer.error?this.Ou(this.observer.error,t):Ji("Uncaught Error in snapshot listener:",t.toString()))}Nu(){this.muted=!0}Ou(t,n){setTimeout((()=>{this.muted||t(n)}),0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qr="FirestoreClient";class tO{constructor(t,n,s,o,u){this.authCredentials=t,this.appCheckCredentials=n,this.asyncQueue=s,this.databaseInfo=o,this.user=Xe.UNAUTHENTICATED,this.clientId=Zm.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=u,this.authCredentials.start(s,(async f=>{ot(Qr,"Received user=",f.uid),await this.authCredentialListener(f),this.user=f})),this.appCheckCredentials.start(s,(f=>(ot(Qr,"Received new app check token=",f),this.appCheckCredentialListener(f,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(t){this.authCredentialListener=t}setAppCheckTokenChangeListener(t){this.appCheckCredentialListener=t}terminate(){this.asyncQueue.enterRestrictedMode();const t=new zr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),t.resolve()}catch(n){const s=_p(n,"Failed to shutdown persistence");t.reject(s)}})),t.promise}}async function em(r,t){r.asyncQueue.verifyOperationInProgress(),ot(Qr,"Initializing OfflineComponentProvider");const n=r.configuration;await t.initialize(n);let s=n.initialUser;r.setCredentialChangeListener((async o=>{s.isEqual(o)||(await N0(t.localStore,o),s=o)})),t.persistence.setDatabaseDeletedListener((()=>r.terminate())),r._offlineComponents=t}async function vE(r,t){r.asyncQueue.verifyOperationInProgress();const n=await eO(r);ot(Qr,"Initializing OnlineComponentProvider"),await t.initialize(n,r.configuration),r.setCredentialChangeListener((s=>dE(t.remoteStore,s))),r.setAppCheckTokenChangeListener(((s,o)=>dE(t.remoteStore,o))),r._onlineComponents=t}async function eO(r){if(!r._offlineComponents)if(r._uninitializedComponentsProvider){ot(Qr,"Using user provided OfflineComponentProvider");try{await em(r,r._uninitializedComponentsProvider._offline)}catch(t){const n=t;if(!(function(o){return o.name==="FirebaseError"?o.code===tt.FAILED_PRECONDITION||o.code===tt.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11})(n))throw n;$a("Error using user provided cache. Falling back to memory cache: "+n),await em(r,new dh)}}else ot(Qr,"Using default OfflineComponentProvider"),await em(r,new JD(void 0));return r._offlineComponents}async function X0(r){return r._onlineComponents||(r._uninitializedComponentsProvider?(ot(Qr,"Using user provided OnlineComponentProvider"),await vE(r,r._uninitializedComponentsProvider._online)):(ot(Qr,"Using default OnlineComponentProvider"),await vE(r,new Im))),r._onlineComponents}function nO(r){return X0(r).then((t=>t.syncEngine))}async function iO(r){const t=await X0(r),n=t.eventManager;return n.onListen=zD.bind(null,t.syncEngine),n.onUnlisten=qD.bind(null,t.syncEngine),n.onFirstRemoteStoreListen=BD.bind(null,t.syncEngine),n.onLastRemoteStoreUnlisten=jD.bind(null,t.syncEngine),n}function rO(r,t,n={}){const s=new zr;return r.asyncQueue.enqueueAndForget((async()=>(function(u,f,m,y,g){const E=new WD({next:R=>{E.Nu(),f.enqueueAndForget((()=>ND(u,A)));const k=R.docs.has(m);!k&&R.fromCache?g.reject(new ut(tt.UNAVAILABLE,"Failed to get document because the client is offline.")):k&&R.fromCache&&y&&y.source==="server"?g.reject(new ut(tt.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):g.resolve(R)},error:R=>g.reject(R)}),A=new PD(rp(m.path),E,{includeMetadataChanges:!0,qa:!0});return OD(u,A)})(await iO(r),r.asyncQueue,t,n,s))),s.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $0(r){const t={};return r.timeoutSeconds!==void 0&&(t.timeoutSeconds=r.timeoutSeconds),t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const EE=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Z0="firestore.googleapis.com",TE=!0;class SE{constructor(t){if(t.host===void 0){if(t.ssl!==void 0)throw new ut(tt.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=Z0,this.ssl=TE}else this.host=t.host,this.ssl=t.ssl??TE;if(this.isUsingEmulator=t.emulatorOptions!==void 0,this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,this.localCache=t.localCache,t.cacheSizeBytes===void 0)this.cacheSizeBytes=D0;else{if(t.cacheSizeBytes!==-1&&t.cacheSizeBytes<M2)throw new ut(tt.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}pC("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:t.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=$0(t.experimentalLongPollingOptions??{}),(function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new ut(tt.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new ut(tt.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new ut(tt.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!t.useFetchStreams}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&(function(s,o){return s.timeoutSeconds===o.timeoutSeconds})(this.experimentalLongPollingOptions,t.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}}class Ph{constructor(t,n,s,o){this._authCredentials=t,this._appCheckCredentials=n,this._databaseId=s,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new SE({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new ut(tt.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(t){if(this._settingsFrozen)throw new ut(tt.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new SE(t),this._emulatorOptions=t.emulatorOptions||{},t.credentials!==void 0&&(this._authCredentials=(function(s){if(!s)return new sC;switch(s.type){case"firstParty":return new uC(s.sessionIndex||"0",s.iamToken||null,s.authTokenFactory||null);case"provider":return s.client;default:throw new ut(tt.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(t.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(n){const s=EE.get(n);s&&(ot("ComponentProvider","Removing Datastore"),EE.delete(n),s.terminate())})(this),Promise.resolve()}}function sO(r,t,n,s={}){r=zl(r,Ph);const o=so(t),u=r._getSettings(),f={...u,emulatorOptions:r._getEmulatorOptions()},m=`${t}:${n}`;o&&($E(`https://${m}`),ZE("Firestore",!0)),u.host!==Z0&&u.host!==m&&$a("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const y={...u,host:m,ssl:o,emulatorOptions:s};if(!Ls(y,f)&&(r._setSettings(y),s.mockUserToken)){let g,E;if(typeof s.mockUserToken=="string")g=s.mockUserToken,E=Xe.MOCK_USER;else{g=Db(s.mockUserToken,r._app?.options.projectId);const A=s.mockUserToken.sub||s.mockUserToken.user_id;if(!A)throw new ut(tt.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");E=new Xe(A)}r._authCredentials=new aC(new HT(g,E))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sp{constructor(t,n,s){this.converter=n,this._query=s,this.type="query",this.firestore=t}withConverter(t){return new Sp(this.firestore,t,this._query)}}class Ie{constructor(t,n,s){this.converter=n,this._key=s,this.type="document",this.firestore=t}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Br(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new Ie(this.firestore,t,this._key)}toJSON(){return{type:Ie._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(t,n,s){if(Wl(n,Ie._jsonSchema))return new Ie(t,s||null,new mt(Wt.fromString(n.referencePath)))}}Ie._jsonSchemaVersion="firestore/documentReference/1.0",Ie._jsonSchema={type:Ee("string",Ie._jsonSchemaVersion),referencePath:Ee("string")};class Br extends Sp{constructor(t,n,s){super(t,n,rp(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const t=this._path.popLast();return t.isEmpty()?null:new Ie(this.firestore,null,new mt(t))}withConverter(t){return new Br(this.firestore,t,this._path)}}function aO(r,t,...n){if(r=gn(r),qT("collection","path",t),r instanceof Ph){const s=Wt.fromString(t,...n);return kv(s),new Br(r,null,s)}{if(!(r instanceof Ie||r instanceof Br))throw new ut(tt.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=r._path.child(Wt.fromString(t,...n));return kv(s),new Br(r.firestore,null,s)}}function oO(r,t,...n){if(r=gn(r),arguments.length===1&&(t=Zm.newId()),qT("doc","path",t),r instanceof Ph){const s=Wt.fromString(t,...n);return xv(s),new Ie(r,null,new mt(s))}{if(!(r instanceof Ie||r instanceof Br))throw new ut(tt.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=r._path.child(Wt.fromString(t,...n));return xv(s),new Ie(r.firestore,r instanceof Br?r.converter:null,new mt(s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AE="AsyncQueue";class bE{constructor(t=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new V0(this,"async_queue_retry"),this._c=()=>{const s=tm();s&&ot(AE,"Visibility state changed to "+s.visibilityState),this.M_.w_()},this.ac=t;const n=tm();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.uc(),this.cc(t)}enterRestrictedMode(t){if(!this.ec){this.ec=!0,this.sc=t||!1;const n=tm();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._c)}}enqueue(t){if(this.uc(),this.ec)return new Promise((()=>{}));const n=new zr;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(t().then(n.resolve,n.reject),n.promise))).then((()=>n.promise))}enqueueRetryable(t){this.enqueueAndForget((()=>(this.Xu.push(t),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(t){if(!co(t))throw t;ot(AE,"Operation failed with retryable error: "+t)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(t){const n=this.ac.then((()=>(this.rc=!0,t().catch((s=>{throw this.nc=s,this.rc=!1,Ji("INTERNAL UNHANDLED ERROR: ",RE(s)),s})).then((s=>(this.rc=!1,s))))));return this.ac=n,n}enqueueAfterDelay(t,n,s){this.uc(),this.oc.indexOf(t)>-1&&(n=0);const o=yp.createAndSchedule(this,t,n,s,(u=>this.hc(u)));return this.tc.push(o),o}uc(){this.nc&&yt(47125,{Pc:RE(this.nc)})}verifyOperationInProgress(){}async Tc(){let t;do t=this.ac,await t;while(t!==this.ac)}Ic(t){for(const n of this.tc)if(n.timerId===t)return!0;return!1}Ec(t){return this.Tc().then((()=>{this.tc.sort(((n,s)=>n.targetTimeMs-s.targetTimeMs));for(const n of this.tc)if(n.skipDelay(),t!=="all"&&n.timerId===t)break;return this.Tc()}))}dc(t){this.oc.push(t)}hc(t){const n=this.tc.indexOf(t);this.tc.splice(n,1)}}function RE(r){let t=r.message||"";return r.stack&&(t=r.stack.includes(r.message)?r.stack:r.message+`
`+r.stack),t}class Ap extends Ph{constructor(t,n,s,o){super(t,n,s,o),this.type="firestore",this._queue=new bE,this._persistenceKey=o?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const t=this._firestoreClient.terminate();this._queue=new bE(t),this._firestoreClient=void 0,await t}}}function lO(r,t){const n=typeof r=="object"?r:eT(),s=typeof r=="string"?r:rh,o=zm(n,"firestore").getImmediate({identifier:s});if(!o._initialized){const u=Ib("firestore");u&&sO(o,...u)}return o}function J0(r){if(r._terminated)throw new ut(tt.FAILED_PRECONDITION,"The client has already been terminated.");return r._firestoreClient||uO(r),r._firestoreClient}function uO(r){const t=r._freezeSettings(),n=(function(o,u,f,m){return new wC(o,u,f,m.host,m.ssl,m.experimentalForceLongPolling,m.experimentalAutoDetectLongPolling,$0(m.experimentalLongPollingOptions),m.useFetchStreams,m.isUsingEmulator)})(r._databaseId,r._app?.options.appId||"",r._persistenceKey,t);r._componentsProvider||t.localCache?._offlineComponentProvider&&t.localCache?._onlineComponentProvider&&(r._componentsProvider={_offline:t.localCache._offlineComponentProvider,_online:t.localCache._onlineComponentProvider}),r._firestoreClient=new tO(r._authCredentials,r._appCheckCredentials,r._queue,n,r._componentsProvider&&(function(o){const u=o?._online.build();return{_offline:o?._offline.build(u),_online:u}})(r._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nn{constructor(t){this._byteString=t}static fromBase64String(t){try{return new Nn(Fe.fromBase64String(t))}catch(n){throw new ut(tt.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(t){return new Nn(Fe.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(t){return this._byteString.isEqual(t._byteString)}toJSON(){return{type:Nn._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(t){if(Wl(t,Nn._jsonSchema))return Nn.fromBase64String(t.bytes)}}Nn._jsonSchemaVersion="firestore/bytes/1.0",Nn._jsonSchema={type:Ee("string",Nn._jsonSchemaVersion),bytes:Ee("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bp{constructor(...t){for(let n=0;n<t.length;++n)if(t[n].length===0)throw new ut(tt.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new je(t)}isEqual(t){return this._internalPath.isEqual(t._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class W0{constructor(t){this._methodName=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fi{constructor(t,n){if(!isFinite(t)||t<-90||t>90)throw new ut(tt.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(n)||n<-180||n>180)throw new ut(tt.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=t,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(t){return this._lat===t._lat&&this._long===t._long}_compareTo(t){return Nt(this._lat,t._lat)||Nt(this._long,t._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:fi._jsonSchemaVersion}}static fromJSON(t){if(Wl(t,fi._jsonSchema))return new fi(t.latitude,t.longitude)}}fi._jsonSchemaVersion="firestore/geoPoint/1.0",fi._jsonSchema={type:Ee("string",fi._jsonSchemaVersion),latitude:Ee("number"),longitude:Ee("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class di{constructor(t){this._values=(t||[]).map((n=>n))}toArray(){return this._values.map((t=>t))}isEqual(t){return(function(s,o){if(s.length!==o.length)return!1;for(let u=0;u<s.length;++u)if(s[u]!==o[u])return!1;return!0})(this._values,t._values)}toJSON(){return{type:di._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(t){if(Wl(t,di._jsonSchema)){if(Array.isArray(t.vectorValues)&&t.vectorValues.every((n=>typeof n=="number")))return new di(t.vectorValues);throw new ut(tt.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}di._jsonSchemaVersion="firestore/vectorValue/1.0",di._jsonSchema={type:Ee("string",di._jsonSchemaVersion),vectorValues:Ee("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cO=/^__.*__$/;class hO{constructor(t,n,s){this.data=t,this.fieldMask=n,this.fieldTransforms=s}toMutation(t,n){return this.fieldMask!==null?new Gs(t,this.data,this.fieldMask,n,this.fieldTransforms):new tu(t,this.data,n,this.fieldTransforms)}}function tS(r){switch(r){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw yt(40011,{Ac:r})}}class Rp{constructor(t,n,s,o,u,f){this.settings=t,this.databaseId=n,this.serializer=s,this.ignoreUndefinedProperties=o,u===void 0&&this.Rc(),this.fieldTransforms=u||[],this.fieldMask=f||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(t){return new Rp({...this.settings,...t},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(t){const n=this.path?.child(t),s=this.Vc({path:n,fc:!1});return s.gc(t),s}yc(t){const n=this.path?.child(t),s=this.Vc({path:n,fc:!1});return s.Rc(),s}wc(t){return this.Vc({path:void 0,fc:!0})}Sc(t){return mh(t,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(t){return this.fieldMask.find((n=>t.isPrefixOf(n)))!==void 0||this.fieldTransforms.find((n=>t.isPrefixOf(n.field)))!==void 0}Rc(){if(this.path)for(let t=0;t<this.path.length;t++)this.gc(this.path.get(t))}gc(t){if(t.length===0)throw this.Sc("Document fields must not be empty");if(tS(this.Ac)&&cO.test(t))throw this.Sc('Document fields cannot begin and end with "__"')}}class fO{constructor(t,n,s){this.databaseId=t,this.ignoreUndefinedProperties=n,this.serializer=s||Nh(t)}Cc(t,n,s,o=!1){return new Rp({Ac:t,methodName:n,Dc:s,path:je.emptyPath(),fc:!1,bc:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function dO(r){const t=r._freezeSettings(),n=Nh(r._databaseId);return new fO(r._databaseId,!!t.ignoreUndefinedProperties,n)}function mO(r,t,n,s,o,u={}){const f=r.Cc(u.merge||u.mergeFields?2:0,t,n,o);rS("Data must be an object, but it was:",f,s);const m=nS(s,f);let y,g;if(u.merge)y=new Hn(f.fieldMask),g=f.fieldTransforms;else if(u.mergeFields){const E=[];for(const A of u.mergeFields){const R=pO(t,A,n);if(!f.contains(R))throw new ut(tt.INVALID_ARGUMENT,`Field '${R}' is specified in your field mask but missing from your input data.`);yO(E,R)||E.push(R)}y=new Hn(E),g=f.fieldTransforms.filter((A=>y.covers(A.field)))}else y=null,g=f.fieldTransforms;return new hO(new On(m),y,g)}function eS(r,t){if(iS(r=gn(r)))return rS("Unsupported field value:",t,r),nS(r,t);if(r instanceof W0)return(function(s,o){if(!tS(o.Ac))throw o.Sc(`${s._methodName}() can only be used with update() and set()`);if(!o.path)throw o.Sc(`${s._methodName}() is not currently supported inside arrays`);const u=s._toFieldTransform(o);u&&o.fieldTransforms.push(u)})(r,t),null;if(r===void 0&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),r instanceof Array){if(t.settings.fc&&t.Ac!==4)throw t.Sc("Nested arrays are not supported");return(function(s,o){const u=[];let f=0;for(const m of s){let y=eS(m,o.wc(f));y==null&&(y={nullValue:"NULL_VALUE"}),u.push(y),f++}return{arrayValue:{values:u}}})(r,t)}return(function(s,o){if((s=gn(s))===null)return{nullValue:"NULL_VALUE"};if(typeof s=="number")return $C(o.serializer,s);if(typeof s=="boolean")return{booleanValue:s};if(typeof s=="string")return{stringValue:s};if(s instanceof Date){const u=te.fromDate(s);return{timestampValue:ch(o.serializer,u)}}if(s instanceof te){const u=new te(s.seconds,1e3*Math.floor(s.nanoseconds/1e3));return{timestampValue:ch(o.serializer,u)}}if(s instanceof fi)return{geoPointValue:{latitude:s.latitude,longitude:s.longitude}};if(s instanceof Nn)return{bytesValue:S0(o.serializer,s._byteString)};if(s instanceof Ie){const u=o.databaseId,f=s.firestore._databaseId;if(!f.isEqual(u))throw o.Sc(`Document reference is for database ${f.projectId}/${f.database} but should be for database ${u.projectId}/${u.database}`);return{referenceValue:lp(s.firestore._databaseId||o.databaseId,s._key.path)}}if(s instanceof di)return(function(f,m){return{mapValue:{fields:{[ZT]:{stringValue:JT},[sh]:{arrayValue:{values:f.toArray().map((g=>{if(typeof g!="number")throw m.Sc("VectorValues must only contain numeric values.");return sp(m.serializer,g)}))}}}}}})(s,o);throw o.Sc(`Unsupported field value: ${Jm(s)}`)})(r,t)}function nS(r,t){const n={};return GT(r)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):js(r,((s,o)=>{const u=eS(o,t.mc(s));u!=null&&(n[s]=u)})),{mapValue:{fields:n}}}function iS(r){return!(typeof r!="object"||r===null||r instanceof Array||r instanceof Date||r instanceof te||r instanceof fi||r instanceof Nn||r instanceof Ie||r instanceof W0||r instanceof di)}function rS(r,t,n){if(!iS(n)||!jT(n)){const s=Jm(n);throw s==="an object"?t.Sc(r+" a custom object"):t.Sc(r+" "+s)}}function pO(r,t,n){if((t=gn(t))instanceof bp)return t._internalPath;if(typeof t=="string")return sS(r,t);throw mh("Field path arguments must be of type string or ",r,!1,void 0,n)}const gO=new RegExp("[~\\*/\\[\\]]");function sS(r,t,n){if(t.search(gO)>=0)throw mh(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,r,!1,void 0,n);try{return new bp(...t.split("."))._internalPath}catch{throw mh(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,r,!1,void 0,n)}}function mh(r,t,n,s,o){const u=s&&!s.isEmpty(),f=o!==void 0;let m=`Function ${t}() called with invalid data`;n&&(m+=" (via `toFirestore()`)"),m+=". ";let y="";return(u||f)&&(y+=" (found",u&&(y+=` in field ${s}`),f&&(y+=` in document ${o}`),y+=")"),new ut(tt.INVALID_ARGUMENT,m+r+y)}function yO(r,t){return r.some((n=>n.isEqual(t)))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aS{constructor(t,n,s,o,u){this._firestore=t,this._userDataWriter=n,this._key=s,this._document=o,this._converter=u}get id(){return this._key.path.lastSegment()}get ref(){return new Ie(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const t=new _O(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}}get(t){if(this._document){const n=this._document.data.field(oS("DocumentSnapshot.get",t));if(n!==null)return this._userDataWriter.convertValue(n)}}}class _O extends aS{data(){return super.data()}}function oS(r,t){return typeof t=="string"?sS(r,t):t instanceof bp?t._internalPath:t._delegate._internalPath}class vO{convertValue(t,n="none"){switch(Fr(t)){case 0:return null;case 1:return t.booleanValue;case 2:return me(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,n);case 5:return t.stringValue;case 6:return this.convertBytes(jr(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,n);case 11:return this.convertObject(t.mapValue,n);case 10:return this.convertVectorValue(t.mapValue);default:throw yt(62114,{value:t})}}convertObject(t,n){return this.convertObjectMap(t.fields,n)}convertObjectMap(t,n="none"){const s={};return js(t,((o,u)=>{s[o]=this.convertValue(u,n)})),s}convertVectorValue(t){const n=t.fields?.[sh].arrayValue?.values?.map((s=>me(s.doubleValue)));return new di(n)}convertGeoPoint(t){return new fi(me(t.latitude),me(t.longitude))}convertArray(t,n){return(t.values||[]).map((s=>this.convertValue(s,n)))}convertServerTimestamp(t,n){switch(n){case"previous":const s=bh(t);return s==null?null:this.convertValue(s,n);case"estimate":return this.convertTimestamp(Hl(t));default:return null}}convertTimestamp(t){const n=qr(t);return new te(n.seconds,n.nanos)}convertDocumentKey(t,n){const s=Wt.fromString(t);qt(C0(s),9688,{name:t});const o=new ql(s.get(1),s.get(3)),u=new mt(s.popFirst(5));return o.isEqual(n)||Ji(`Document ${u} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),u}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function EO(r,t,n){let s;return s=r?r.toFirestore(t):t,s}class Cl{constructor(t,n){this.hasPendingWrites=t,this.fromCache=n}isEqual(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache}}class ks extends aS{constructor(t,n,s,o,u,f){super(t,n,s,o,f),this._firestore=t,this._firestoreImpl=t,this.metadata=u}exists(){return super.exists()}data(t={}){if(this._document){if(this._converter){const n=new Qc(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}}get(t,n={}){if(this._document){const s=this._document.data.field(oS("DocumentSnapshot.get",t));if(s!==null)return this._userDataWriter.convertValue(s,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new ut(tt.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t=this._document,n={};return n.type=ks._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!t||!t.isValidDocument()||!t.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(t.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}ks._jsonSchemaVersion="firestore/documentSnapshot/1.0",ks._jsonSchema={type:Ee("string",ks._jsonSchemaVersion),bundleSource:Ee("string","DocumentSnapshot"),bundleName:Ee("string"),bundle:Ee("string")};class Qc extends ks{data(t={}){return super.data(t)}}class xl{constructor(t,n,s,o){this._firestore=t,this._userDataWriter=n,this._snapshot=o,this.metadata=new Cl(o.hasPendingWrites,o.fromCache),this.query=s}get docs(){const t=[];return this.forEach((n=>t.push(n))),t}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(t,n){this._snapshot.docs.forEach((s=>{t.call(n,new Qc(this._firestore,this._userDataWriter,s.key,s,new Cl(this._snapshot.mutatedKeys.has(s.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(t={}){const n=!!t.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new ut(tt.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=(function(o,u){if(o._snapshot.oldDocs.isEmpty()){let f=0;return o._snapshot.docChanges.map((m=>{const y=new Qc(o._firestore,o._userDataWriter,m.doc.key,m.doc,new Cl(o._snapshot.mutatedKeys.has(m.doc.key),o._snapshot.fromCache),o.query.converter);return m.doc,{type:"added",doc:y,oldIndex:-1,newIndex:f++}}))}{let f=o._snapshot.oldDocs;return o._snapshot.docChanges.filter((m=>u||m.type!==3)).map((m=>{const y=new Qc(o._firestore,o._userDataWriter,m.doc.key,m.doc,new Cl(o._snapshot.mutatedKeys.has(m.doc.key),o._snapshot.fromCache),o.query.converter);let g=-1,E=-1;return m.type!==0&&(g=f.indexOf(m.doc.key),f=f.delete(m.doc.key)),m.type!==1&&(f=f.add(m.doc),E=f.indexOf(m.doc.key)),{type:TO(m.type),doc:y,oldIndex:g,newIndex:E}}))}})(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new ut(tt.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t={};t.type=xl._jsonSchemaVersion,t.bundleSource="QuerySnapshot",t.bundleName=Zm.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],s=[],o=[];return this.docs.forEach((u=>{u._document!==null&&(n.push(u._document),s.push(this._userDataWriter.convertObjectMap(u._document.data.value.mapValue.fields,"previous")),o.push(u.ref.path))})),t.bundle=(this._firestore,this.query._query,t.bundleName,"NOT SUPPORTED"),t}}function TO(r){switch(r){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return yt(61501,{type:r})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function SO(r){r=zl(r,Ie);const t=zl(r.firestore,Ap);return rO(J0(t),r._key).then((n=>RO(t,r,n)))}xl._jsonSchemaVersion="firestore/querySnapshot/1.0",xl._jsonSchema={type:Ee("string",xl._jsonSchemaVersion),bundleSource:Ee("string","QuerySnapshot"),bundleName:Ee("string"),bundle:Ee("string")};class AO extends vO{constructor(t){super(),this.firestore=t}convertBytes(t){return new Nn(t)}convertReference(t){const n=this.convertDocumentKey(t,this.firestore._databaseId);return new Ie(this.firestore,null,n)}}function wE(r,t,n){r=zl(r,Ie);const s=zl(r.firestore,Ap),o=EO(r.converter,t);return bO(s,[mO(dO(s),"setDoc",r._key,o,r.converter!==null,n).toMutation(r._key,Yi.none())])}function bO(r,t){return(function(s,o){const u=new zr;return s.asyncQueue.enqueueAndForget((async()=>FD(await nO(s),o,u))),u.promise})(J0(r),t)}function RO(r,t,n){const s=n.docs.get(t._key),o=new AO(r);return new ks(r,o,t._key,s,new Cl(n.hasPendingWrites,n.fromCache),t.converter)}(function(t,n=!0){(function(o){lo=o})(ao),Ya(new Us("firestore",((s,{instanceIdentifier:o,options:u})=>{const f=s.getProvider("app").getImmediate(),m=new Ap(new oC(s.getProvider("auth-internal")),new cC(f,s.getProvider("app-check-internal")),(function(g,E){if(!Object.prototype.hasOwnProperty.apply(g.options,["projectId"]))throw new ut(tt.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new ql(g.options.projectId,E)})(f,o),f);return u={useFetchStreams:n,...u},m._setSettings(u),m}),"PUBLIC").setMultipleInstances(!0)),Lr(Nv,Mv,t),Lr(Nv,Mv,"esm2020")})();const wO={apiKey:"AIzaSyDfbiF76uGuk1xta44ILePf6-D4gZkqmw4",authDomain:"lista-de-tarefas-paia.firebaseapp.com",projectId:"lista-de-tarefas-paia",storageBucket:"lista-de-tarefas-paia.firebasestorage.app",messagingSenderId:"119226503899",appId:"1:119226503899:web:ff95e7f8e734b9f0e232fe"},lS=tT(wO),Kc=eC(lS),IO=new Fi,CO=lO(lS);class wp{static async signInWithGoogle(){try{return(await cI(Kc,IO)).user}catch(t){throw console.error("Error signing in with Google:",t),t}}static async signOut(){try{await Fw(Kc)}catch(t){throw console.error("Error signing out:",t),t}}static onStateChanged=t=>jw(Kc,s=>{t(s)})}class DO{getDocRef(t){const n=Kc.currentUser?.uid;if(!n)throw new Error("User not authenticated");return oO(aO(CO,"users",n,"zustand"),t)}async safe(t){try{return await t()}catch(n){throw console.error("FirebaseStorage error:",n),n}}getItem=t=>this.safe(async()=>{const n=await SO(this.getDocRef(t));return n.exists()?n.data()?.state:null});setItem=(t,n)=>this.safe(()=>wE(this.getDocRef(t),{state:n}));removeItem=t=>this.safe(()=>wE(this.getDocRef(t),{state:null}))}const Ip=()=>new DO,IE=r=>{let t;const n=new Set,s=(g,E)=>{const A=typeof g=="function"?g(t):g;if(!Object.is(A,t)){const R=t;t=E??(typeof A!="object"||A===null)?A:Object.assign({},t,A),n.forEach(k=>k(t,R))}},o=()=>t,m={setState:s,getState:o,getInitialState:()=>y,subscribe:g=>(n.add(g),()=>n.delete(g))},y=t=r(s,o,m);return m},OO=(r=>r?IE(r):IE),NO=r=>r;function MO(r,t=NO){const n=bl.useSyncExternalStore(r.subscribe,bl.useCallback(()=>t(r.getState()),[r,t]),bl.useCallback(()=>t(r.getInitialState()),[r,t]));return bl.useDebugValue(n),n}const VO=r=>{const t=OO(r),n=s=>MO(t,s);return Object.assign(n,t),n},Cp=(r=>VO);function PO(r,t){let n;try{n=r()}catch{return}return{getItem:o=>{var u;const f=y=>y===null?null:JSON.parse(y,void 0),m=(u=n.getItem(o))!=null?u:null;return m instanceof Promise?m.then(f):f(m)},setItem:(o,u)=>n.setItem(o,JSON.stringify(u,void 0)),removeItem:o=>n.removeItem(o)}}const Cm=r=>t=>{try{const n=r(t);return n instanceof Promise?n:{then(s){return Cm(s)(n)},catch(s){return this}}}catch(n){return{then(s){return this},catch(s){return Cm(s)(n)}}}},xO=(r,t)=>(n,s,o)=>{let u={storage:PO(()=>localStorage),partialize:G=>G,version:0,merge:(G,q)=>({...q,...G}),...t},f=!1;const m=new Set,y=new Set;let g=u.storage;if(!g)return r((...G)=>{console.warn(`[zustand persist middleware] Unable to update item '${u.name}', the given storage is currently unavailable.`),n(...G)},s,o);const E=()=>{const G=u.partialize({...s()});return g.setItem(u.name,{state:G,version:u.version})},A=o.setState;o.setState=(G,q)=>(A(G,q),E());const R=r((...G)=>(n(...G),E()),s,o);o.getInitialState=()=>R;let k;const F=()=>{var G,q;if(!g)return;f=!1,m.forEach($=>{var it;return $((it=s())!=null?it:R)});const et=((q=u.onRehydrateStorage)==null?void 0:q.call(u,(G=s())!=null?G:R))||void 0;return Cm(g.getItem.bind(g))(u.name).then($=>{if($)if(typeof $.version=="number"&&$.version!==u.version){if(u.migrate){const it=u.migrate($.state,$.version);return it instanceof Promise?it.then(Tt=>[!0,Tt]):[!0,it]}console.error("State loaded from storage couldn't be migrated since no migrate function was provided")}else return[!1,$.state];return[!1,void 0]}).then($=>{var it;const[Tt,ct]=$;if(k=u.merge(ct,(it=s())!=null?it:R),n(k,!0),Tt)return E()}).then(()=>{et?.(k,void 0),k=s(),f=!0,y.forEach($=>$(k))}).catch($=>{et?.(void 0,$)})};return o.persist={setOptions:G=>{u={...u,...G},G.storage&&(g=G.storage)},clearStorage:()=>{g?.removeItem(u.name)},getOptions:()=>u,rehydrate:()=>F(),hasHydrated:()=>f,onHydrate:G=>(m.add(G),()=>{m.delete(G)}),onFinishHydration:G=>(y.add(G),()=>{y.delete(G)})},u.skipHydration||F(),k||R},Dp=xO,ph=Cp()(Dp(()=>({tasks:[],completionLog:{}}),{name:"task-store",storage:Ip(),skipHydration:!0}));wp.onStateChanged(r=>{r?ph.persist.rehydrate():ph.persist.clearStorage()});const Ka=Cp()(Dp(()=>({}),{name:"completed-task-log-store",storage:Ip(),skipHydration:!0}));wp.onStateChanged(r=>{r?Ka.persist.rehydrate():Ka.persist.clearStorage()});const QO={refresh:()=>{Ka.persist.rehydrate()},markTaskCompleted:(r,t)=>{Ka.setState(n=>{const s=n[t]||[];return s.includes(r)?n:{...n,[t]:[...s,r]}})},unmarkTaskCompleted:(r,t)=>{Ka.setState(n=>{const o=(n[t]||[]).filter(u=>u!==r);if(o.length===0){const u={...n};return delete u[t],u}return{...n,[t]:o}})}},Ps=Cp()(Dp(()=>({tasks:[]}),{name:"task-store-2",storage:Ip(),skipHydration:!0}));wp.onStateChanged(r=>{r?Ps.persist.rehydrate():Ps.persist.clearStorage()});const KO={refresh:()=>{Ps.persist.rehydrate()},addTask:r=>{Ps.setState(t=>{if(t.tasks.find(n=>n.title===r.title))throw new Error(`Task with title "${r.title}" already exists.`);return{tasks:[...t.tasks,r]}})},removeTask:r=>{Ps.setState(t=>{const n=t.tasks.findIndex(o=>o.title===r);if(n===-1)throw new Error(`Task with title "${r}" does not exist.`);const s=[...t.tasks];return s[n]={...s[n],isRemoved:!0},{tasks:s}})},updateTask:(r,t)=>{Ps.setState(n=>{const s=n.tasks.findIndex(u=>u.title===r);if(s===-1)throw new Error(`Task with title "${r}" does not exist.`);const o=[...n.tasks];return o[s]={...o[s],...t,title:t.title||o[s].title},{tasks:o}})}};function kO(){const[r,t]=Q.useState(),n=ph();return Q.useEffect(()=>{if(!n?.tasks?.length&&!r){t(!1);return}(async()=>{t(!0);const o={};n.tasks.forEach((u,f)=>{o[u.title]=f}),Ps.setState({tasks:n.tasks},!0),Ka.setState(u=>{const f={...u};return Object.entries(n.completionLog).forEach(([m,y])=>{const g=y.map(E=>o[E]).filter(E=>E!==void 0);g.length>0&&(f[m]=g)}),f},!0),ph.setState({},!0),t(!1)})()},[n?.tasks?.length]),r===void 0?se.jsx("div",{children:"Checking data..."}):r?se.jsx("div",{children:"Migrating data..."}):se.jsx(N1,{})}const LO=Q.lazy(()=>no(()=>import("./Login-JCj2dyc7.js"),__vite__mapDeps([0,1,2]))),UO=Q.lazy(()=>no(()=>import("./_layout-C1i2fXU2.js"),__vite__mapDeps([3,4,5]))),zO=Q.lazy(()=>no(()=>import("./_layout-_2BOPjNP.js"),__vite__mapDeps([6,1,7,4,5]))),BO=Q.lazy(()=>no(()=>import("./index-Btq1YVgC.js"),__vite__mapDeps([8,2,1,9,7,5]))),HO=Q.lazy(()=>no(()=>import("./index-BuyNvdqo.js"),__vite__mapDeps([10,1,7,9,5]))),qO=Q.lazy(()=>no(()=>import("./About-8ZocaTWL.js"),[]));function jO(){return se.jsx(nb,{children:se.jsxs(V1,{children:[se.jsx(ji,{path:"/auth",element:se.jsx(UO,{}),children:se.jsx(ji,{path:"login",element:se.jsx(LO,{})})}),se.jsx(ji,{element:se.jsx(kO,{}),children:se.jsxs(ji,{path:"/tasks",element:se.jsx(zO,{}),children:[se.jsx(ji,{index:!0,element:se.jsx(BO,{})}),se.jsx(ji,{path:"manage",element:se.jsx(HO,{})}),se.jsx(ji,{path:"about",element:se.jsx(qO,{})})]})}),se.jsx(ji,{path:"*",element:se.jsx(O1,{to:"/tasks",replace:!0})})]})})}_b.createRoot(document.getElementById("root")).render(se.jsx(Q.StrictMode,{children:se.jsx(jO,{})}));export{wp as A,qE as L,O1 as N,N1 as O,bl as R,Ps as a,Ka as b,QO as c,db as d,FO as e,kA as g,se as j,Q as r,KO as t,xE as u};
